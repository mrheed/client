(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{467:function(e,a){},538:function(e,a,t){e.exports=t.p+"static/media/img2.899c2d17.jpg"},562:function(e){e.exports=[{abbreviation:"Jan",name:"Januari"},{abbreviation:"Feb",name:"Februari"},{abbreviation:"Mar",name:"Maret"},{abbreviation:"Apr",name:"April"},{abbreviation:"May",name:"Mei"},{abbreviation:"Jun",name:"Juni"},{abbreviation:"Jul",name:"Juli"},{abbreviation:"Aug",name:"Agustus"},{abbreviation:"Sep",name:"September"},{abbreviation:"Oct",name:"Oktober"},{abbreviation:"Nov",name:"November"},{abbreviation:"Dec",name:"Desember"}]},607:function(e,a,t){e.exports=t(993)},659:function(e,a){},661:function(e,a){},698:function(e,a){},699:function(e,a){},815:function(e,a,t){},819:function(e,a){},820:function(e,a){},993:function(e,a,t){"use strict";t.r(a);var n={};t.r(n),t.d(n,"ADD_STATE",function(){return z}),t.d(n,"MAKE_LOGIN_AUTH",function(){return V}),t.d(n,"START_REQUEST_PERSON_DATA",function(){return X}),t.d(n,"SUCCESS_REQUEST_PERSON_DATA",function(){return Q}),t.d(n,"ERROR_REQUEST_PERSON_DATA",function(){return $}),t.d(n,"START_REQUEST_AUTH_DATA",function(){return Z}),t.d(n,"SUCCESS_AUTHENTICATION_REQUEST",function(){return ee}),t.d(n,"ERROR_AUTHENTICATION_REQUEST",function(){return ae}),t.d(n,"START_REQUEST_REGISTER_DATA",function(){return te}),t.d(n,"SUCCESS_REGISTERING_DATA",function(){return ne}),t.d(n,"FAILURE_TO_REGISTER_DATA",function(){return re}),t.d(n,"START_REQUEST_REFRESH_TOKEN",function(){return le}),t.d(n,"SUCCESS_VALIDATING_CLIENT_TOKEN",function(){return se}),t.d(n,"ERROR_VALIDATING_CLIENT_TOKEN",function(){return ie}),t.d(n,"MAKE_LOGOUT_REQUEST_WITH_TOKEN",function(){return oe}),t.d(n,"RESET_REQUEST_STATE",function(){return ce}),t.d(n,"START_TODO_REQUEST",function(){return ue}),t.d(n,"DELETE_STUDENT_RECORDS",function(){return pe}),t.d(n,"FAILED_DELETE_STUDENT_RECORDS",function(){return de}),t.d(n,"INSERT_STUDENT_RECORDS",function(){return me}),t.d(n,"FAILED_INSERT_SUDENT_RECORDS",function(){return Ee}),t.d(n,"UPDATE_STUDENT_RECORDS",function(){return he}),t.d(n,"FAILED_UPDATE_STUDENT_RECORDS",function(){return ge}),t.d(n,"START_READ_TEACHER_RECORDS",function(){return fe}),t.d(n,"READ_TEACHER_RECORDS",function(){return be}),t.d(n,"FAILED_READ_TEACHER_RECORDS",function(){return _e}),t.d(n,"DELETE_TEACHER_RECORDS",function(){return Se}),t.d(n,"FAILED_DELETE_TEACHER_RECORDS",function(){return ve}),t.d(n,"INSERT_TEACHER_RECORDS",function(){return Re}),t.d(n,"FAILED_INSERT_TEACHER_RECORDS",function(){return ye}),t.d(n,"UPDATE_TEACHER_RECORDS",function(){return Te}),t.d(n,"FAILED_UPDATE_TEACHER_RECORDS",function(){return ke}),t.d(n,"START_READ_CLASS_RECORDS",function(){return Oe}),t.d(n,"READ_CLASS_RECORDS",function(){return Ae}),t.d(n,"FAILED_READ_CLASS_RECORDS",function(){return De}),t.d(n,"DELETE_CLASS_RECORDS",function(){return Ce}),t.d(n,"FAILED_DELETE_CLASS_RECORDS",function(){return je}),t.d(n,"INSERT_CLASS_RECORDS",function(){return we}),t.d(n,"FAILED_INSERT_CLASS_RECORDS",function(){return Ne}),t.d(n,"UPDATE_CLASS_RECORDS",function(){return xe}),t.d(n,"FAILED_UPDATE_CLASS_RECORDS",function(){return Ie}),t.d(n,"START_READ_SUBJECT_RECORDS",function(){return Le}),t.d(n,"READ_SUBJECT_RECORDS",function(){return Pe}),t.d(n,"FAILED_READ_SUBJECT_RECORDS",function(){return Me}),t.d(n,"DELETE_SUBJECT_RECORDS",function(){return Ue}),t.d(n,"FAILED_DELETE_SUBJECT_RECORDS",function(){return Fe}),t.d(n,"INSERT_SUBJECT_RECORDS",function(){return Be}),t.d(n,"FAILED_INSERT_SUBJECT_RECORDS",function(){return Ke}),t.d(n,"UPDATE_SUBJECT_RECORDS",function(){return We}),t.d(n,"FAILED_UPDATE_SUBJECT_RECORDS",function(){return He}),t.d(n,"START_READ_COMPETENCE_RECORDS",function(){return Je}),t.d(n,"READ_COMPETENCE_RECORDS",function(){return qe}),t.d(n,"FAILED_READ_COMPETENCE_RECORDS",function(){return Ge}),t.d(n,"DELETE_COMPETENCE_RECORDS",function(){return Ye}),t.d(n,"FAILED_DELETE_COMPETENCE_RECORDS",function(){return ze}),t.d(n,"INSERT_COMPETENCE_RECORDS",function(){return Ve}),t.d(n,"FAILED_INSERT_COMPETENCE_RECORDS",function(){return Xe}),t.d(n,"UPDATE_COMPETENCE_RECORDS",function(){return Qe}),t.d(n,"FAILED_UPDATE_COMPETENCE_RECORDS",function(){return $e}),t.d(n,"START_READ_EXAM_SCORE",function(){return Ze}),t.d(n,"START_READ_EXAM_SCORE_PER_MAPEL",function(){return ea}),t.d(n,"READ_EXAM_SCORE",function(){return aa}),t.d(n,"READ_EXAM_SCORE_PER_MAPEL",function(){return ta}),t.d(n,"FAILED_READ_EXAM_SCORE",function(){return na}),t.d(n,"FAILED_READ_EXAM_SCORE_PER_MAPEL",function(){return ra}),t.d(n,"START_READ_REMEDY_STD",function(){return la}),t.d(n,"READ_REMEDY_STD",function(){return sa}),t.d(n,"FAILED_READ_REMEDY_STD",function(){return ia}),t.d(n,"START_INSERT_REMEDY_SCORE",function(){return oa}),t.d(n,"INSERT_REMEDY_SCORE",function(){return ca}),t.d(n,"FAILED_INSERT_REMEDY_SCORE",function(){return ua}),t.d(n,"START_READ_SETTINGS_RECORD",function(){return pa}),t.d(n,"READ_SETTINGS_RECORD",function(){return da}),t.d(n,"FAILED_READ_SETTINGS_RECORD",function(){return ma}),t.d(n,"UPDATE_SETTING_RECORD",function(){return Ea}),t.d(n,"START_UPDATE_SETTING_RECORD",function(){return ha}),t.d(n,"FAILED_UPDATE_SETTING_RECORD",function(){return ga}),t.d(n,"INSERT_SETTING_RECORD",function(){return fa}),t.d(n,"START_INSERT_SETTING_RECORD",function(){return ba}),t.d(n,"FAILED_INSERT_SETTING_RECORD",function(){return _a}),t.d(n,"START_READ_PTPAS_STD_RECORD",function(){return Sa}),t.d(n,"READ_PTPAS_STD_RECORD",function(){return va}),t.d(n,"FAILED_READ_PTPAS_STD_RECORD",function(){return Ra}),t.d(n,"START_READ_PTPAS_SUBJECT_RECORD",function(){return ya}),t.d(n,"READ_PTPAS_SUBJECT_RECORD",function(){return Ta}),t.d(n,"FAILED_READ_PTPAS_SUBJECT_RECORD",function(){return ka}),t.d(n,"START_INSERT_PTPAS_RECORD",function(){return Oa}),t.d(n,"INSERT_PTPAS_RECORD",function(){return Aa}),t.d(n,"FAILED_INSERT_PTPAS_RECORD",function(){return Da}),t.d(n,"START_READ_GRADE_RECORD",function(){return Ca}),t.d(n,"READ_GRADE_RECORD",function(){return ja}),t.d(n,"FAILED_READ_GRADE_RECORD",function(){return wa}),t.d(n,"START_READ_EXAM_TYPES",function(){return Na}),t.d(n,"FAILED_READ_EXAM_TYPES",function(){return xa}),t.d(n,"READ_EXAM_TYPES",function(){return Ia}),t.d(n,"START_READ_REMEDY_STUDENT",function(){return La}),t.d(n,"READ_REMEDY_STUDENT",function(){return Pa}),t.d(n,"FAILED_READ_REMEDY_STUDENT",function(){return Ma}),t.d(n,"START_READ_REMEDY_SUBJECT",function(){return Ua}),t.d(n,"READ_REMEDY_SUBJECT",function(){return Fa}),t.d(n,"FAILED_READ_REMEDY_SUBJECT",function(){return Ba}),t.d(n,"START_READ_REMEDY_MATERIAL",function(){return Ka}),t.d(n,"READ_REMEDY_MATERIAL",function(){return Wa}),t.d(n,"FAILED_READ_REMEDY_MATERIAL",function(){return Ha}),t.d(n,"START_READ_REMEDY_SCORE",function(){return Ja}),t.d(n,"READ_REMEDY_SCORE",function(){return qa}),t.d(n,"FAILED_READ_REMEDY_SCORE",function(){return Ga}),t.d(n,"START_READ_EXAM_STUDENT",function(){return Ya}),t.d(n,"READ_EXAM_STUDENT",function(){return za}),t.d(n,"FAILED_READ_EXAM_STUDENT",function(){return Va}),t.d(n,"START_READ_EXAM_SUBJECT",function(){return Xa}),t.d(n,"READ_EXAM_SUBJECT",function(){return Qa}),t.d(n,"FAILED_READ_EXAM_SUBJECT",function(){return $a}),t.d(n,"START_READ_EXAM_MATERIAL",function(){return Za}),t.d(n,"READ_EXAM_MATERIAL",function(){return et}),t.d(n,"FAILED_READ_EXAM_MATERIAL",function(){return at}),t.d(n,"START_INSERT_EXAM_SCORE",function(){return tt}),t.d(n,"INSERT_EXAM_SCORE",function(){return nt}),t.d(n,"FAILED_INSERT_EXAM_SCORE",function(){return rt}),t.d(n,"START_READ_EXAM_DATA",function(){return lt}),t.d(n,"READ_EXAM_DATA",function(){return st}),t.d(n,"FAILED_READ_EXAM_DATA",function(){return it}),t.d(n,"READ_TASK_STUDENT",function(){return ot}),t.d(n,"START_READ_TASK_STUDENT",function(){return ct}),t.d(n,"FAILED_READ_TASK_STUDENT",function(){return ut}),t.d(n,"READ_TASK_SUBJECT",function(){return pt}),t.d(n,"START_READ_TASK_SUBJECT",function(){return dt}),t.d(n,"FAILED_READ_TASK_SUBJECT",function(){return mt}),t.d(n,"READ_TASK_RESULT",function(){return Et}),t.d(n,"START_READ_TASK_RESULT",function(){return ht}),t.d(n,"FAILED_READ_TASK_RESULT",function(){return gt}),t.d(n,"INSERT_TASK_RESULT",function(){return ft}),t.d(n,"START_INSERT_TASK_RESULT",function(){return bt}),t.d(n,"FAILED_INSERT_TASK_RESULT",function(){return _t}),t.d(n,"START_READ_REPORT_STUDENT",function(){return St}),t.d(n,"READ_REPORT_STUDENT",function(){return vt}),t.d(n,"FAILED_READ_REPORT_STUDENT",function(){return Rt}),t.d(n,"START_READ_REPORT_MATERIAL",function(){return yt}),t.d(n,"READ_REPORT_MATERIAL",function(){return Tt}),t.d(n,"FAILED_READ_REPORT_MATERIAL",function(){return kt}),t.d(n,"START_READ_REPORT_SUBJECT",function(){return Ot}),t.d(n,"READ_REPORT_SUBJECT",function(){return At}),t.d(n,"FAILED_READ_REPORT_SUBJECT",function(){return Dt}),t.d(n,"START_READ_REPORT_TASK_NAME",function(){return Ct}),t.d(n,"READ_REPORT_TASK_NAME",function(){return jt}),t.d(n,"FAILED_READ_REPORT_TASK_NAME",function(){return wt}),t.d(n,"START_READ_REPORT_RESULT",function(){return Nt}),t.d(n,"READ_REPORT_RESULT",function(){return xt}),t.d(n,"FAILED_READ_REPORT_RESULT",function(){return It}),t.d(n,"RESET_REPORT_RESULT_STATE",function(){return Lt}),t.d(n,"START_READ_REPORT_TASK_STUDENT",function(){return Pt}),t.d(n,"READ_REPORT_TASK_STUDENT",function(){return Mt}),t.d(n,"FAILED_READ_REPORT_TASK_STUDENT",function(){return Ut}),t.d(n,"START_READ_REPORT_TASK_SUBJECT",function(){return Ft}),t.d(n,"READ_REPORT_TASK_SUBJECT",function(){return Bt}),t.d(n,"FAILED_READ_REPORT_TASK_SUBJECT",function(){return Kt}),t.d(n,"START_READ_REPORT_RESULT_STUDENT",function(){return Wt}),t.d(n,"READ_REPORT_RESULT_STUDENT",function(){return Ht}),t.d(n,"FAILED_READ_REPORT_RESULT_STUDENT",function(){return Jt}),t.d(n,"START_READ_REPORT_RESULT_MATERIAL",function(){return qt}),t.d(n,"READ_REPORT_RESULT_MATERIAL",function(){return Gt}),t.d(n,"FAILED_READ_REPORT_RESULT_MATERIAL",function(){return Yt}),t.d(n,"START_READ_REPORT_RESULT_SUBJECT",function(){return zt}),t.d(n,"READ_REPORT_RESULT_SUBJECT",function(){return Vt}),t.d(n,"FAILED_READ_REPORT_RESULT_SUBJECT",function(){return Xt}),t.d(n,"GET_GRADE_WITH_CURRENT_SCHOOL_YEAR",function(){return Qt}),t.d(n,"PROCESS_GRADE_WITH_CURRENT_SCHOOL_YEAR",function(){return $t}),t.d(n,"ERROR_GET_GRADE_WITH_CURRENT_SCHOOL_YEAR",function(){return Zt}),t.d(n,"GET_DASHBOARD_INFO",function(){return en}),t.d(n,"PROCESS_DASHBOARD_INFO",function(){return an}),t.d(n,"ERROR_GET_DASHBOARD_INFO",function(){return tn}),t.d(n,"GET_HOMEROOM_TEACHER",function(){return nn}),t.d(n,"PROCESS_HOMEROOM_TEACHER",function(){return rn}),t.d(n,"ERROR_GET_HOMEROOM_TEACHER",function(){return ln});var r=t(0),l=t.n(r),s=t(31),i=t.n(s),o=t(1046),c=t(567),u=t(418),p=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function d(e,a){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),a&&a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var m=t(120),E=t(28),h=t(41),g=t(42),f=t(45),b=t(43),_=t(44),S=t(141),v=t(22),R=t(21),y=t(1030),T=t(80),k=t.n(T),O=t(633),A=t(1029),D=t(1023),C=t(1024),j=t(1027),w=t(1066),N=t(1026),x=t(1025),I=t(230),L=t(143),P=t(519),M=t.n(P),U=t(105),F=t.n(U),B=t(193),K=t(54),W=t.n(K);function H(e){return document.cookie.split(";").filter(function(a){return a.trim().includes(e+"=")}).map(function(e){return e.trim().split("=").pop()})}function J(e,a){return e.map(function(e){return a.map(function(a){return document.cookie=e+"=; expires=Fri, 31 Dec 1999 23:59:59 GMT; path="+a+";"})})}function q(e){var a=e.split("/");return a.shift(),1===a.length?"/":"/"+a[a.length-2]}function G(e){return 0!==H(e).length&&""!==H(e)[0]&&void 0!==H(e)[0]}function Y(e,a){var t;if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(e))return 3==(t=e.substring(1).split("")).length&&(t=[t[0],t[0],t[1],t[1],t[2],t[2]]),"rgba("+[(t="0x"+t.join(""))>>16&255,t>>8&255,255&t].join(",")+","+a+")";throw new Error("Bad Hex")}var z="ADD_STATE",V="MAKE_LOGIN_AUTH",X="START_REQUEST_PERSON_DATA",Q="SUCCESS_REQUEST_PERSON_DATA",$="ERROR_REQUEST_PERSON_DATA",Z="START_REQUEST_AUTH_DATA",ee="SUCCESS_AUTHENTICATION_REQUEST",ae="ERROR_AUTHENTCATION_REQUEST",te="START_REQUEST_REGISTER_DATA",ne="SUCCESS_REGISTERING_DATA",re="FAILURE_TO_REGISTER_DATA",le="START_REQUEST_REFRESH_TOKEN",se="SUCCESS_VALIDATING_CLIENT_TOKEN",ie="ERROR_VALIDATING_CLIENT_TOKEN",oe="MAKE_LOGOUT_REQUEST_WITH_TOKEN",ce="RESET_REQUEST_STATE",ue="START_TODO_REQUEST",pe="DELETE_STUDENT_RECORDS",de="FAILED_DELETE_STUDENT_RECORDS",me="INSERT_STUDENT_RECORDS",Ee="FAILED_INSERT_SUDENT_RECORDS",he="UPDATE_STUDENT_RECORDS",ge="FAILED_UPDATE_STUDENT_RECORDS",fe="START_READ_TEACHER_RECORDS",be="READ_TEACHER_RECORDS",_e="FAILED_READ_TEACHER_RECORDS",Se="DELETE_TEACHER_RECORDS",ve="FAILED_DELETE_TEACHER_RECORDS",Re="INSERT_TEACHER_RECORDS",ye="FAILED_INSERT_TEACHER_RECORDS",Te="UPDATE_TEACHER_RECORDS",ke="FAILED_UPDATE_TEACHER_RECORDS",Oe="START_READ_CLASS_RECORDS",Ae="READ_CLASS_RECORDS",De="FAILED_READ_CLASS_RECORDS",Ce="DELETE_CLASS_RECORDS",je="FAILED_DELETE_CLASS_RECORDS",we="INSERT_CLASS_RECORDS",Ne="FAILED_INSERT_CLASS_RECORDS",xe="UPDATE_CLASS_RECORDS",Ie="FAILED_UPDATE_CLASS_RECORDS",Le="START_READ_SUBJECT_RECORDS",Pe="READ_SUBJECT_RECORDS",Me="FAILED_READ_SUBJECT_RECORDS",Ue="DELETE_SUBJECT_RECORDS",Fe="FAILED_DELETE_SUBJECT_RECORDS",Be="INSERT_SUBJECT_RECORDS",Ke="FAILED_INSERT_SUBJECT_RECORDS",We="UPDATE_SUBJECT_RECORDS",He="FAILED_UPDATE_SUBJECT_RECORDS",Je="START_READ_COMPETENCE_RECORDS",qe="READ_COMPETENCE_RECORDS",Ge="FAILED_READ_COMPETENCE_RECORDS",Ye="DELETE_COMPETENCE_RECORDS",ze="FAILED_DELETE_COMPETENCE_RECORDS",Ve="INSERT_COMPETENCE_RECORDS",Xe="FAILED_INSERT_COMPETENCE_RECORDS",Qe="UPDATE_COMPETENCE_RECORDS",$e="FAILED_UPDATE_COMPETENCE_RECORDS",Ze="START_READ_EXAM_SCORE",ea="START_READ_EXAM_SCORE_PER_MAPEL",aa="READ_EXAM_SCORE",ta="READ_EXAM_SCORE_PER_MAPEL",na="FAILED_READ_EXAM_SCORE",ra="FAILED_READ_EXAM_SCORE_PER_MAPEL",la="START_READ_REMEDY_STD",sa="READ_REMEDY_STD",ia="FAILED_READ_REMEDY_STD",oa="START_INSERT_REMEDY_SCORE",ca="INSERT_REMEDY_SCORE",ua="FAILED_INSERT_REMEDY_SCORE",pa="START_READ_SETTINGS_RECORD",da="READ_SETTINGS_RECORD",ma="FAILED_READ_SETTINGS_RECORD",Ea="UPDATE_SETTING_RECORD",ha="START_UPDATE_SETTING_RECORD",ga="FAILED_UPDATE_SETTING_RECORD",fa="INSERT_SETTING_RECORD",ba="START_INSERT_SETTING_RECORD",_a="FAILED_INSERT_SETTING_RECORD",Sa="START_READ_PTPAS_STD_RECORD",va="READ_PTPAS_STD_RECORD",Ra="FAILED_READ_PTPAS_STD_RECORD",ya="START_READ_PTPAS_SUBJECT_RECORD",Ta="READ_PTPAS_SUBJECT_RECORD",ka="FAILED_READ_PTPAS_SUBJECT_RECORD",Oa="START_INSERT_PTPAS_RECORD",Aa="INSERT_PTPAS_RECORD",Da="FAILED_INSERT_PTPAS_RECORD",Ca="START_READ_GRADE_RECORD",ja="READ_GRADE_RECORD",wa="FAILED_READ_GRADE_RECORD",Na="START_READ_EXAM_TYPES",xa="FAILED_READ_EXAM_TYPES",Ia="READ_EXAM_TYPES",La="START_READ_REMEDY_STUDENT",Pa="READ_REMEDY_STUDENT",Ma="FAILED_READ_REMEDY_STUDENT",Ua="START_READ_REMEDY_SUBJECT",Fa="READ_REMEDY_SUBJECT",Ba="FAILED_READ_REMEDY_SUBJECT",Ka="START_READ_REMEDY_MATERIAL",Wa="READ_REMEDY_MATERIAL",Ha="FAILED_READ_REMEDY_MATERIAL",Ja="START_READ_REMEDY_SCORE",qa="READ_REMEDY_SCORE",Ga="FAILED_READ_REMEDY_SCORE",Ya="START_READ_EXAM_STUDENT",za="READ_EXAM_STUDENT",Va="FAILED_READ_EXAM_STUDENT",Xa="START_READ_EXAM_SUBJECT",Qa="READ_EXAM_SUBJECT",$a="FAILED_READ_EXAM_SUBJECT",Za="START_READ_EXAM_MATERIAL",et="READ_EXAM_MATERIAL",at="FAILED_READ_EXAM_MATERIAL",tt="START_INSERT_EXAM_SCORE",nt="INSERT_EXAM_SCORE",rt="FAILED_INSERT_EXAM_SCORE",lt="START_READ_EXAM_DATA",st="READ_EXAM_DATA",it="FAILED_READ_EXAM_DATA",ot="READ_TASK_STUDENT",ct="START_READ_TASK_STUDENT",ut="FAILED_READ_TASK_STUDENT",pt="READ_TASK_SUBJECT",dt="START_READ_TASK_SUBJECT",mt="FAILED_READ_TASK_SUBJECT",Et="READ_TASK_RESULT",ht="START_READ_TASK_RESULT",gt="FAILED_READ_TASK_RESULT",ft="INSERT_TASK_RESULT",bt="START_INSERT_TASK_RESULT",_t="FAILED_INSERT_TASK_RESULT",St="START_READ_REPORT_STUDENT",vt="READ_REPORT_STUDENT",Rt="FAILED_READ_REPORT_STUDENT",yt="START_READ_REPORT_MATERIAL",Tt="READ_REPORT_MATERIAL",kt="FAILED_READ_REPORT_MATERIAL",Ot="START_READ_REPORT_SUBJECT",At="READ_REPORT_SUBJECT",Dt="FAILED_READ_REPORT_SUBJECT",Ct="START_READ_REPORT_TASK_NAME",jt="READ_REPORT_TASK_NAME",wt="FAILED_READ_REPORT_TASK_NAME",Nt="START_READ_REPORT_RESULT",xt="READ_REPORT_RESULT",It="FAILED_READ_REPORT_RESULT",Lt="RESET_REPORT_RESULT_STATE",Pt="START_READ_REPORT_TASK_STUDENT",Mt="READ_REPORT_TASK_STUDENT",Ut="FAILED_READ_REPORT_TASK_STUDENT",Ft="START_READ_REPORT_TASK_SUBJECT",Bt="READ_REPORT_TASK_SUBJECT",Kt="FAILED_READ_REPORT_TASK_SUBJECT",Wt="START_READ_REPORT_RESULT_STUDENT",Ht="READ_REPORT_RESULT_STUDENT",Jt="FAILED_READ_REPORT_RESULT_STUDENT",qt="START_READ_REPORT_RESULT_MATERIAL",Gt="READ_REPORT_RESULT_MATERIAL",Yt="FAILED_READ_REPORT_RESULT_MATERIAL",zt="START_READ_REPORT_RESULT_SUBJECT",Vt="READ_REPORT_RESULT_SUBJECT",Xt="FAILED_READ_REPORT_RESULT_SUBJECT",Qt="GET_GRADE_WITH_CURRENT_SCHOOL_YEAR",$t="PROCESS_GRADE_WITH_CURRENT_SCHOOL_YEAR",Zt="ERROR_GET_GRADE_WITH_CURRENT_SCHOOL_YEAR",en="GET_DASHBOARD_INFO",an="PROCESS_DASHBOARD_INFO",tn="ERROR_GET_DASHBOARD_INFO",nn="GET_HOMEROOM_TEACHER",rn="PROCESS_HOMEROOM_TEACHER",ln="ERROR_GET_HOMEROOM_TEACHER",sn="?requested="+(new Date).getTime(),on="http://localhost:8000",cn={kelas:on+"/api/kelas"+sn,auth:on+"/api/auth"+sn,purge:on+"/api/purge"+sn,refresh:on+"/api/refresh"+sn,student:on+"/api/student"+sn,teacher:on+"/api/teacher"+sn,class:on+"/api/kelas"+sn,subject:on+"/api/mapel"+sn,vocational:on+"/api/jurusan"+sn,competence:on+"/api/kd"+sn,exam_score:on+"/api/nilai_uh"+sn,setting:on+"/api/setting",nilai:on+"/api/nilai",misc:on+"/api/misc"};function un(e,a,t){t({type:ce}),t({type:e,payload:a.data}),t({type:ce})}function pn(){return function(e){var a=H("token")[0];return 0!=H("token").length&&""!=a&&(e({type:le}),W.a.post(cn.refresh,null,{headers:{Authorization:"Bearer "+a}}).then(function(){var a=Object(B.a)(F.a.mark(function a(t){var n;return F.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.data,a.abrupt("return",e({type:se,payload:n}));case 2:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()).catch(function(a){return e({type:ie,payload:a})}))}}function dn(){return function(e){if(e({type:X}),G("token"))return W.a.get(cn.student,{headers:{Authorization:"Bearer "+H("token")[0]}}).then(function(){var a=Object(B.a)(F.a.mark(function a(t){var n;return F.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.data,a.abrupt("return",e({type:Q,payload:n}));case 2:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()).catch(function(a){var t=a.response;return e({type:$,payload:t.data})})}}function mn(){return function(e){e({type:Oe,payload:{method:"get",url:cn.class+sn,type:{success:Ae,error:De}}})}}function En(){return function(e){return!!G("token")&&(e({type:Le}),W.a.get(cn.subject,{headers:{Authorization:"Bearer "+H("token")[0]}}).then(function(a){var t=a.data;return e({type:Pe,payload:t})}).catch(function(a){var t=a.response;return e({type:Me,payload:t})}))}}function hn(){return function(e){return!!G("token")&&(e({type:Je}),W.a.get(cn.competence,{headers:{Authorization:"Bearer "+H("token")[0]}}).then(function(a){var t=a.data;return e({type:qe,payload:t})}).catch(function(a){var t=a.response;return e({type:Ge,payload:t})}))}}function gn(e){return function(a){a({type:pa,payload:{method:"get",url:cn.setting+sn+"&type="+e,type:{success:da,error:ma}}})}}function fn(e,a){return function(t){t({type:tt,payload:{method:"post",url:cn.nilai+"/"+e+sn,data:a,type:{success:nt,error:rt}}})}}var bn=k()(function(e){return Object(y.a)({main:Object(v.a)({width:"auto",display:"block",marginLeft:e.spacing(3),marginRight:e.spacing(3)},e.breakpoints.up(400+e.spacing(6)),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(e.spacing(2),"px ").concat(e.spacing(3),"px ").concat(e.spacing(3),"px")},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{marginTop:e.spacing(3)}})}),_n=Object(E.b)(function(e){return{isAuthenticated:e.isAuthenticated,isSuccessRefreshResult:e.successRefreshResult}},function(e){return{MakeAuthRequest:function(a){return e(function(e){return function(a){a({type:Z}),W.a.post(cn.auth,JSON.stringify(e)).then(function(e){return a({type:ee,payload:e.data})}).catch(function(e){var t=e.response;return a({type:ae,payload:t?t.data:"Gagal terhubung, cek koneksi anda!"})})}}(a))},RefreshToken:function(){return e(pn())}}})(Object(S.g)(function(e){var a=Object(r.useState)(null),t=Object(R.a)(a,2),n=t[0],s=t[1],i=Object(r.useState)(null),o=Object(R.a)(i,2),c=o[0],u=o[1],p=bn();return Object(r.useEffect)(function(){e.isAuthenticated&&e.history.push("/dashboard"),e.isSuccessRefreshResult&&e.RefreshToken(),document.title=e.appName},[]),l.a.createElement("main",{className:p.main},l.a.createElement(D.a,null),l.a.createElement(I.a,{className:p.paper},l.a.createElement(O.a,{className:p.avatar},l.a.createElement(M.a,null)),l.a.createElement(L.a,{component:"h1",variant:"h5"},"Sign in"),l.a.createElement("form",{className:p.form,onSubmit:function(a){a.preventDefault(),e.MakeAuthRequest({username:n,password:c})}},l.a.createElement(C.a,{margin:"normal",required:!0,fullWidth:!0},l.a.createElement(x.a,{htmlFor:"email"},"Email Address"),l.a.createElement(N.a,{id:"email",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(e){return s(e.target.value)}})),l.a.createElement(C.a,{margin:"normal",required:!0,fullWidth:!0},l.a.createElement(x.a,{htmlFor:"password"},"Password"),l.a.createElement(N.a,{name:"password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return u(e.target.value)}})),l.a.createElement(j.a,{control:l.a.createElement(w.a,{value:"remember",color:"secondary"}),label:"Remember me"}),l.a.createElement(A.a,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",className:p.submit},"Sign in"))))})),Sn=t(9),vn=t(1063),Rn=t(1031),yn=Object(Sn.a)(function(e){return Object(y.a)({root:{backgroundColor:"inherit",width:"100%"},flexContainer:{flexDirection:"column",padding:e.spacing(1.5)},indicator:{backgroundColor:"inherit"}})})(vn.a),Tn=Object(Sn.a)(function(e){return Object(y.a)({root:{padding:e.spacing(1,2),borderRadius:e.spacing(.5),textTransform:"none",backgroundColor:Y("#000000",0),minWidth:72,transition:"all 0.2 linear",fontWeight:e.typography.fontWeightLight,fontSize:"1em"},selected:{boxShadow:"0 4px 20px 0 rgba(0, 0, 0,.14), 0 7px 10px -5px ".concat(Y(e.palette.primary.main,.4)),backgroundColor:e.palette.primary.main,color:"white",borderBottom:"0px"}})})(function(e){return l.a.createElement(Rn.a,e)}),kn=t(370),On=t(368),An=t(1032),Dn=t(5),Cn=t(49),jn=t.n(Cn),wn=t(70),Nn=t.n(wn),xn=t(1062),In=t(1036),Ln=t(995),Pn="?requested="+(new Date).getTime(),Mn="http://localhost:8000",Un=Mn+"/api/nilai",Fn=Mn+"/api/misc",Bn=Mn+"/api/cetak";function Kn(e,a){return function(t){t({type:St,payload:{method:"get",url:Bn+"/"+e+"/student"+Pn+a,type:{success:vt,error:Rt}}})}}function Wn(e,a){return function(t){t({type:Ot,payload:{method:"get",url:Bn+"/"+e+"/subject"+Pn+a,type:{success:At,error:Dt}}})}}function Hn(e){return function(a){a({type:Ct,payload:{method:"get",url:Bn+"/assignment/task_name"+Pn+e,type:{success:jt,error:wt}}})}}var Jn=function(e){function a(){var e,t;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(f.a)(this,(e=Object(b.a)(a)).call.apply(e,[this].concat(r)))).definitor={ld:[{value:"l",label:"Sedang mengambil data..."}],nf:[{value:"404nf",label:"Maaf, data tidak tersedia"}]},t.state={selectedAll:!1,values:{kelas:"",siswa:[]},arrSiswa:t.definitor.nf,arrKelas:t.props.state.grades.map(function(e){return t.props.state.kelas.map(function(a){return{value:e+" "+a.kode_kelas,label:e+" "+a.nama_kelas}})}).flat(1)},t.handleChange=function(e){return t.props.refresh(e.target.name,t.state.values,e.target.value),"404nf"!==e.target.value&&"404nf"!==e.target.value[0]&&("siswa"===e.target.name&&e.target.value.includes("*")?(t.selectAll(),!1):void t.setState(function(a){return{values:Object(Dn.a)({},a.values,Object(v.a)({},e.target.name,e.target.value))}}))},t.selectAll=function(){t.state.selectedAll?t.setState(function(e){return{selectedAll:!e.selectedAll,values:Object(Dn.a)({},e.values,{siswa:[]})}}):t.setState(function(e){return{selectedAll:!e.selectedAll,values:Object(Dn.a)({},e.values,{siswa:t.state.arrSiswa.map(function(e){return e.value})})}})},t.getSection=function(){var e=t.state.values,a=e.kelas,n=e.siswa;return{kelasForm:l.a.createElement(An.a,{container:!0,className:t.props.classes.formWrapper},l.a.createElement(An.a,{item:!0,xs:12,sm:2,className:t.props.classes.inputLabel},l.a.createElement(Ln.a,{className:t.props.classes.labelClass},"Kelas")),l.a.createElement(An.a,{item:!0,xs:12,sm:10,className:t.props.classes.inputLabel},l.a.createElement(C.a,{fullWidth:!0},l.a.createElement(xn.a,{value:a,name:"kelas",className:t.props.classes.input,onChange:t.handleChange},t.state.arrKelas.map(function(e){return l.a.createElement(In.a,{key:e.value,value:e.value},e.label)}))))),siswaForm:l.a.createElement(An.a,{container:!0,className:t.props.classes.formWrapper},l.a.createElement(An.a,{item:!0,xs:12,sm:2,className:t.props.classes.inputLabel},l.a.createElement(Ln.a,{className:t.props.classes.labelClass},"Siswa")),l.a.createElement(An.a,{item:!0,xs:12,sm:10,className:t.props.classes.inputLabel},l.a.createElement(C.a,{fullWidth:!0},l.a.createElement(xn.a,{value:n,name:"siswa",readOnly:t.props.report.siswa.loading,multiple:!0,className:t.props.classes.input,onChange:t.handleChange},t.state.arrSiswa.map(function(e){return"404nf"!==e.value})[0]&&l.a.createElement(In.a,{value:"*"},t.state.selectedAll?"Hapus semua pilihan":"Pilih semua"),t.state.arrSiswa.map(function(e){return l.a.createElement(In.a,{key:e.value,value:e.value},e.label)})))))}},t}return Object(_.a)(a,e),Object(g.a)(a,[{key:"componentDidUpdate",value:function(e,a){var t=this,n=this.props.appSetting,r=(n.semester,n.tahun_ajaran),l=this.state.values,s=l.kelas,i=(l.siswa,this.definitor),o=i.ld,c=i.nf;if(a.values.kelas!==s){var u=s.split(" ")[0],p="X"===u?r+1:"XI"===u?r:"XII"===u?r-1:-1;""!==s&&this.props.readReportTaskStudent("&tahun_masuk=".concat(p,"&jurusan=").concat(s.split(" ")[1]))}if(e.report.siswa.loading!==this.props.report.siswa.loading){var d=this.props.report.siswa.loading=this.props.report.siswa.data.length,m=this.props.report.siswa.data.length;this.setState(function(e){return{values:Object(Dn.a)({},e.values,{siswa:d?["l"]:m?[t.props.report.siswa.data[0].value]:["404nf"]}),arrSiswa:d?o:m?t.props.report.siswa.data:c}})}}},{key:"render",value:function(){return l.a.createElement(An.a,{container:!0,className:this.props.classes.wrapper},l.a.createElement(An.a,null,l.a.createElement(L.a,{variant:"h6",className:this.props.classes.title},"Form Rapor")),this.getSection().kelasForm,this.getSection().siswaForm)}}]),a}(l.a.Component),qn=Object(E.b)(function(e){return{appSetting:e.settings.application,class:e.class,report:e.report}},function(e){return{readReportTaskStudent:function(a){return e(Kn("assignment",a))},readReportTaskSubject:function(a){return e(Wn("assignment",a))},readReportTaskName:function(a){return e(Hn(a))}}})(Nn()(function(e){return jn()({wrapper:{flexDirection:"column",backgroundColor:"white",borderRadius:e.spacing(1),padding:e.spacing(0,3,3),boxShadow:e.shadows[1]},formWrapper:{},title:{padding:e.spacing(2.5),marginTop:-e.spacing(2.5),borderRadius:e.spacing(.5),boxShadow:"0 4px 20px 0 rgba(0, 0, 0,.14), 0 7px 10px -5px ".concat(Y(e.palette.primary.main,.4)),display:"inline-block",fontSize:"1.3em",color:"white",fontWeight:300,background:"linear-gradient(60deg, ".concat(e.palette.primary.main,", ").concat(e.palette.primary.dark,")")},input:{"&:hover::before":{borderBottom:"1px solid rgba(0, 0, 0, 0.42)!important"},marginBottom:e.spacing(2)},inputLabel:{padding:e.spacing(0,2),paddingTop:e.spacing(3)},labelClass:{fontSize:"1em",float:"right",paddingTop:e.spacing(2)}})})(Jn)),Gn=function(e){function a(){var e,t;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(f.a)(this,(e=Object(b.a)(a)).call.apply(e,[this].concat(r)))).definitor={ld:[{value:"l",label:"Sedang mengambil data..."}],nf:[{value:"404nf",label:"Maaf, data tidak tersedia"}]},t.state={selectedAll:!1,values:{kelas:"",siswa:[],mapel:"",tugas:""},arrSiswa:t.definitor.nf,arrMapel:t.definitor.nf,arrTugas:t.definitor.nf,arrKelas:t.props.state.grades.map(function(e){return t.props.state.kelas.map(function(a){return{value:e+" "+a.kode_kelas,label:e+" "+a.nama_kelas}})}).flat(1)},t.handleChange=function(e){return t.props.refresh(e.target.name,t.state.values,e.target.value),"404nf"!==e.target.value&&"404nf"!==e.target.value[0]&&("siswa"===e.target.name&&e.target.value.includes("*")?(t.selectAll(),!1):void t.setState(function(a){return{values:Object(Dn.a)({},a.values,Object(v.a)({},e.target.name,e.target.value))}}))},t.selectAll=function(){t.state.selectedAll?t.setState(function(e){return{selectedAll:!e.selectedAll,values:Object(Dn.a)({},e.values,{siswa:[]})}}):t.setState(function(e){return{selectedAll:!e.selectedAll,values:Object(Dn.a)({},e.values,{siswa:t.state.arrSiswa.map(function(e){return e.value})})}})},t.getSection=function(){var e=t.state.values,a=e.kelas,n=e.siswa,r=e.mapel,s=e.tugas;return{kelasForm:l.a.createElement(An.a,{container:!0,className:t.props.classes.formWrapper},l.a.createElement(An.a,{item:!0,xs:12,sm:2,className:t.props.classes.inputLabel},l.a.createElement(Ln.a,{className:t.props.classes.labelClass},"Kelas")),l.a.createElement(An.a,{item:!0,xs:12,sm:10,className:t.props.classes.inputLabel},l.a.createElement(C.a,{fullWidth:!0},l.a.createElement(xn.a,{value:a,name:"kelas",className:t.props.classes.input,onChange:t.handleChange},t.state.arrKelas.map(function(e){return l.a.createElement(In.a,{key:e.value,value:e.value},e.label)}))))),siswaForm:l.a.createElement(An.a,{container:!0,className:t.props.classes.formWrapper},l.a.createElement(An.a,{item:!0,xs:12,sm:2,className:t.props.classes.inputLabel},l.a.createElement(Ln.a,{className:t.props.classes.labelClass},"Siswa")),l.a.createElement(An.a,{item:!0,xs:12,sm:10,className:t.props.classes.inputLabel},l.a.createElement(C.a,{fullWidth:!0},l.a.createElement(xn.a,{value:n,name:"siswa",readOnly:t.props.report.siswa.loading,multiple:!0,className:t.props.classes.input,onChange:t.handleChange},t.state.arrSiswa.map(function(e){return"404nf"!==e.value})[0]&&l.a.createElement(In.a,{value:"*"},t.state.selectedAll?"Hapus semua pilihan":"Pilih semua"),t.state.arrSiswa.map(function(e){return l.a.createElement(In.a,{key:e.value,value:e.value},e.label)}))))),mapelForm:l.a.createElement(An.a,{container:!0,className:t.props.classes.formWrapper},l.a.createElement(An.a,{item:!0,xs:12,sm:2,className:t.props.classes.inputLabel},l.a.createElement(Ln.a,{className:t.props.classes.labelClass},"Mata pelajaran")),l.a.createElement(An.a,{item:!0,xs:12,sm:10,className:t.props.classes.inputLabel},l.a.createElement(C.a,{fullWidth:!0},l.a.createElement(xn.a,{value:r,readOnly:t.props.report.mapel.loading,name:"mapel",className:t.props.classes.input,onChange:t.handleChange},t.state.arrMapel.map(function(e){return l.a.createElement(In.a,{key:e.value,value:e.value},e.label)}))))),tugasForm:l.a.createElement(An.a,{container:!0,className:t.props.classes.formWrapper},l.a.createElement(An.a,{item:!0,xs:12,sm:2,className:t.props.classes.inputLabel},l.a.createElement(Ln.a,{className:t.props.classes.labelClass},"Nama tugas")),l.a.createElement(An.a,{item:!0,xs:12,sm:10,className:t.props.classes.inputLabel},l.a.createElement(C.a,{fullWidth:!0},l.a.createElement(xn.a,{value:s,readOnly:t.props.report.task_name.loading,name:"tugas",className:t.props.classes.input,onChange:t.handleChange},t.state.arrTugas.map(function(e){return l.a.createElement(In.a,{key:e.value,value:e.value},e.label)})))))}},t}return Object(_.a)(a,e),Object(g.a)(a,[{key:"componentDidUpdate",value:function(e,a){var t=this,n=this.props.appSetting,r=(n.semester,n.tahun_ajaran,this.state.values),l=r.kelas,s=r.siswa,i=r.tugas,o=r.mapel,c=this.definitor,u=c.ld,p=c.nf;if(a.values.kelas!==l){var d=l.split(" ")[0];""!==l&&this.props.readReportTaskStudent("&tahun_masuk=".concat(this.props.state.class_on_school_year.school_year_on_grade[d],"&jurusan=").concat(l.split(" ")[1]))}if(a.values.siswa===s||this.props.report.siswa.loading||!s.includes("404nf")&&s.length&&this.props.readReportTaskSubject("&jurusan=".concat(l)),a.values.mapel===o||this.props.report.mapel.loading||""!==o&&"404nf"!==o&&this.props.readReportTaskName("&mapel=".concat(o)),a.values.tugas!==i&&"404nf"!==i&&this.props.readReportTaskResult("&nis=".concat(s.join(","),"&kelas=").concat(l,"&mapel=").concat(o,"&nama_tugas=").concat(i)),e.report.siswa.loading!==this.props.report.siswa.loading){var m=this.props.report.siswa.loading,E=this.props.report.siswa.data.length;this.setState(function(e){return{values:Object(Dn.a)({},e.values,{siswa:m?["l"]:E?[t.props.report.siswa.data[0].value]:["404nf"]}),arrSiswa:m?u:E?t.props.report.siswa.data:p}})}if(e.report.mapel.loading!==this.props.report.mapel.loading){m=this.props.report.mapel.loading,E=this.props.report.mapel.data.length;this.setState(function(e){return{values:Object(Dn.a)({},e.values,{mapel:m?"l":E?t.props.report.mapel.data[0].value:"404nf"}),arrMapel:m?u:E?t.props.report.mapel.data:p}})}if(e.report.task_name.loading!==this.props.report.task_name.loading){m=this.props.report.task_name.loading,E=this.props.report.task_name.data.length;this.setState(function(e){return{values:Object(Dn.a)({},e.values,{tugas:m?"l":E?t.props.report.task_name.data[0].value:"404nf"}),arrTugas:m?u:E?t.props.report.task_name.data:p}})}}},{key:"render",value:function(){return l.a.createElement(An.a,{container:!0,className:this.props.classes.wrapper},l.a.createElement(An.a,null,l.a.createElement(L.a,{variant:"h6",className:this.props.classes.title},"Form Tugas")),this.getSection().kelasForm,this.getSection().siswaForm,this.getSection().mapelForm,this.getSection().tugasForm)}}]),a}(l.a.Component),Yn=Object(E.b)(function(e){return{appSetting:e.settings.application,class:e.class,report:e.report}},function(e){return{readReportTaskStudent:function(a){return e(Kn("assignment",a))},readReportTaskSubject:function(a){return e(Wn("assignment",a))},readReportTaskResult:function(a){return e(Hn(a))},readReportTaskName:function(a){return e(Hn(a))}}})(Nn()(function(e){return jn()({wrapper:{flexDirection:"column",backgroundColor:"white",borderRadius:e.spacing(1),padding:e.spacing(0,3,3),boxShadow:e.shadows[1]},formWrapper:{},title:{padding:e.spacing(2.5),marginTop:-e.spacing(2.5),borderRadius:e.spacing(.5),boxShadow:"0 4px 20px 0 rgba(0, 0, 0,.14), 0 7px 10px -5px ".concat(Y(e.palette.primary.main,.4)),display:"inline-block",fontSize:"1.3em",color:"white",fontWeight:300,background:"linear-gradient(60deg, ".concat(e.palette.primary.main,", ").concat(e.palette.primary.dark,")")},input:{"&:hover::before":{borderBottom:"1px solid rgba(0, 0, 0, 0.42)!important"},marginBottom:e.spacing(2)},inputLabel:{padding:e.spacing(0,2),paddingTop:e.spacing(3)},labelClass:{fontSize:"1em",float:"right",paddingTop:e.spacing(2)}})})(Gn)),zn=t(1037),Vn=t(1038),Xn=t(17),Qn=function(e){var a=e.data[0],t=["No","Nama Lengkap","Nilai","Remidi","Nilai Remidi"],n=95/(t.length-1),r=Xn.d.create({body:{padding:20},title:{fontSize:16},table:{borderRadius:10,display:"table",width:"auto",borderStyle:"solid",borderColor:"#bfbfbf",borderWidth:1,borderRightWidth:0,borderLeftWidth:0,borderBottomWidth:0},tableRow:{margin:"auto",flexDirection:"row"},tableCol1Header:{textAlign:"center",width:"5%",borderStyle:"solid",borderColor:"#bfbfbf",borderWidth:1,borderTopWidth:0},tableColHeader:{width:n+"%",borderStyle:"solid",borderColor:"#bfbfbf",borderWidth:1,borderLeftWidth:0,borderTopWidth:0},tableCol1:{opacity:.7,textAlign:"center",width:"5%",borderStyle:"solid",borderColor:"#bfbfbf",borderWidth:1,borderTopWidth:0},tableCol:{opacity:.7,width:n+"%",borderStyle:"solid",borderColor:"#bfbfbf",borderWidth:1,borderLeftWidth:0,borderTopWidth:0},tableCellHeader:{margin:5,fontSize:11,fontWeight:500},tableCell:{margin:5,fontSize:10},width100:{width:"100%!important"}}),s=function(e){for(var a=e.children,t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return l.a.createElement(Xn.f,Object.assign({},n,{style:r.tableRow}),a)},i=function(e){for(var a=e.children,t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return l.a.createElement(Xn.f,Object.assign({},n,{style:r.tableCol1}),a)},o=function(e){for(var a=e.children,t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return l.a.createElement(Xn.e,Object.assign({},n,{style:r.tableCell}),a)},c=Xn.d.create({mid:{width:"100%",borderColor:"#bfbfbf",borderWidth:1},first:Object(Dn.a)({},r.tableCol1,{width:"5%"}),second:Object(Dn.a)({},r.tableCol,{width:105/(t.length-1)+"%"}),third:Object(Dn.a)({},r.tableCol,{width:90/(t.length-1)+"%"}),fourth:Object(Dn.a)({},r.tableCol,{width:90/(t.length-1)+"%"}),fiveth:Object(Dn.a)({},r.tableCol,{width:90/(t.length-1)+"%"}),firstH:Object(Dn.a)({},r.tableCol1Header,{width:"5%"}),secondH:Object(Dn.a)({},r.tableColHeader,{width:105/(t.length-1)+"%"}),thirdH:Object(Dn.a)({},r.tableColHeader,{width:90/(t.length-1)+"%"}),fourthH:Object(Dn.a)({},r.tableColHeader,{width:90/(t.length-1)+"%"}),fivethH:Object(Dn.a)({},r.tableColHeader,{width:90/(t.length-1)+"%"}),footDetail:Object(Dn.a)({},r.tableCol,{width:105/(t.length-1)+"%"}),footDetail2:Object(Dn.a)({},r.tableCol,{width:270/(t.length-1)+"%"}),cellDetail:Object(Dn.a)({},r.tableCell,{opacity:1,fontWeight:500}),title:{fontWeight:500,fontSize:12,width:"100%",textAlign:"center"},desc:{fontSize:10,opacity:.7,marginBottom:5},rDesc:{fontSize:10,opacity:.7,marginBottom:5,width:"85%"},wDesc:{fontSize:10,opacity:.7,marginBottom:5,width:"10%"},dtb:{marginBottom:5,display:"table",width:"auto"},sparator:{fontSize:10,opacity:.7,marginBottom:5,width:"2%"},marginB20:{marginBottom:20}});return l.a.createElement(l.a.Fragment,null,l.a.createElement(Xn.b,{width:"100%",height:window.innerHeight},l.a.createElement(Xn.a,{title:"Daftar nilai ulangan matematika kelas XII KJ"},l.a.createElement(Xn.c,{style:r.body,orientation:"landscape"},l.a.createElement(Xn.f,{style:c.title},l.a.createElement(Xn.e,null,"Daftar Nilai Ulangan Harian Siswa SMKN 2 Wonosari")),l.a.createElement(Xn.f,{style:c.dtb},l.a.createElement(Xn.f,{style:r.tableRow},l.a.createElement(Xn.f,{style:c.wDesc},l.a.createElement(Xn.e,null,"Mata Pelajaran")),l.a.createElement(Xn.f,{style:c.sparator},l.a.createElement(Xn.e,null,":")),l.a.createElement(Xn.f,{style:c.rDesc},l.a.createElement(Xn.e,null,a.mapel)))),l.a.createElement(Xn.f,{style:c.dtb},l.a.createElement(Xn.f,{style:r.tableRow},l.a.createElement(Xn.f,{style:c.wDesc},l.a.createElement(Xn.e,null,"Materi")),l.a.createElement(Xn.f,{style:c.sparator},l.a.createElement(Xn.e,null,":")),l.a.createElement(Xn.f,{style:c.rDesc},l.a.createElement(Xn.e,null,a.materi)))),l.a.createElement(Xn.f,{style:c.dtb},l.a.createElement(Xn.f,{style:r.tableRow},l.a.createElement(Xn.f,{style:c.wDesc},l.a.createElement(Xn.e,null,"Kelas")),l.a.createElement(Xn.f,{style:c.sparator},l.a.createElement(Xn.e,null,":")),l.a.createElement(Xn.f,{style:c.rDesc},l.a.createElement(Xn.e,null,a.kelas)))),l.a.createElement(function(e){for(var a=e.children,t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return l.a.createElement(Xn.f,Object.assign({},n,{style:r.table}),a)},null,l.a.createElement(s,null,l.a.createElement(Xn.f,{style:c.firstH},l.a.createElement(Xn.e,{style:r.tableCellHeader},"No")),l.a.createElement(Xn.f,{style:c.secondH},l.a.createElement(Xn.e,{style:r.tableCellHeader},"Nama Siswa")),l.a.createElement(Xn.f,{style:c.thirdH},l.a.createElement(Xn.e,{style:r.tableCellHeader},"Nilai Ulangan")),l.a.createElement(Xn.f,{style:c.fourthH},l.a.createElement(Xn.e,{style:r.tableCellHeader},"Remidi")),l.a.createElement(Xn.f,{style:c.fivethH},l.a.createElement(Xn.e,{style:r.tableCellHeader},"Nilai Remidi"))),a.data.map(function(e,a){return l.a.createElement(s,null,l.a.createElement(Xn.f,{style:c.first},l.a.createElement(Xn.e,{style:r.tableCell},a+1)),l.a.createElement(Xn.f,{style:c.second},l.a.createElement(Xn.e,{style:r.tableCell},e.nama)),l.a.createElement(Xn.f,{style:c.third},l.a.createElement(Xn.e,{style:r.tableCell},e.nilai_ulangan)),l.a.createElement(Xn.f,{style:c.fourth},l.a.createElement(Xn.e,{style:r.tableCell},e.remidi?"Ya":"Tidak")),l.a.createElement(Xn.f,{style:c.fiveth},l.a.createElement(Xn.e,{style:r.tableCell},e.remidi?e.nilai_remidi?e.nilai_remidi:"Belum remidi":"-")))}),l.a.createElement(s,null,l.a.createElement(i,null,l.a.createElement(o,null)),l.a.createElement(Xn.f,{style:c.footDetail},l.a.createElement(Xn.e,{style:c.cellDetail},"Nilai Rata - rata")),l.a.createElement(Xn.f,{style:c.footDetail2},l.a.createElement(Xn.e,{style:r.tableCell},a.rata2))),l.a.createElement(s,null,l.a.createElement(i,null,l.a.createElement(o,null)),l.a.createElement(Xn.f,{style:c.footDetail},l.a.createElement(Xn.e,{style:c.cellDetail},"Nilai Tertinggi")),l.a.createElement(Xn.f,{style:c.footDetail2},l.a.createElement(Xn.e,{style:r.tableCell},a.tertinggi))),l.a.createElement(s,null,l.a.createElement(i,null,l.a.createElement(o,null)),l.a.createElement(Xn.f,{style:c.footDetail},l.a.createElement(Xn.e,{style:c.cellDetail},"Nilai Terendah")),l.a.createElement(Xn.f,{style:c.footDetail2},l.a.createElement(Xn.e,{style:r.tableCell},a.terendah))))))))},$n=function(e){function a(){var e,t;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(f.a)(this,(e=Object(b.a)(a)).call.apply(e,[this].concat(r)))).definitor={ld:[{value:"l",label:"Sedang mengambil data..."}],nf:[{value:"404nf",label:"Maaf, data tidak tersedia"}]},t.state={openModal:!1,selectedAll:!1,values:{kelas:"",tipe:"",siswa:[],mapel:"",materi:""},arrSiswa:t.definitor.nf,arrMapel:t.definitor.nf,arrMateri:t.definitor.nf,arrTipe:t.props.state.exType,arrKelas:t.props.state.grades.map(function(e){return t.props.state.kelas.map(function(a){return{value:e+" "+a.kode_kelas,label:e+" "+a.nama_kelas}})}).flat(1)},t.handleChange=function(e){return t.props.refresh(e.target.name,t.state.values,e.target.value),"404nf"!==e.target.value&&"404nf"!==e.target.value[0]&&("siswa"===e.target.name&&e.target.value.includes("*")?(t.selectAll(),!1):void t.setState(function(a){return{values:Object(Dn.a)({},a.values,Object(v.a)({},e.target.name,e.target.value))}}))},t.handleOpenModal=function(){t.setState({openModal:!0})},t.handleCloseModal=function(){t.setState({openModal:!1})},t.selectAll=function(){t.state.selectedAll?t.setState(function(e){return{selectedAll:!e.selectedAll,values:Object(Dn.a)({},e.values,{siswa:[]})}}):t.setState(function(e){return{selectedAll:!e.selectedAll,values:Object(Dn.a)({},e.values,{siswa:t.state.arrSiswa.map(function(e){return e.value})})}})},t.getSection=function(){var e=t.state.values,a=e.kelas,n=e.tipe,r=e.siswa,s=e.mapel,i=e.materi;return{kelasForm:l.a.createElement(An.a,{container:!0,className:t.props.classes.formWrapper},l.a.createElement(An.a,{item:!0,xs:12,sm:2,className:t.props.classes.inputLabel},l.a.createElement(Ln.a,{className:t.props.classes.labelClass},"Kelas")),l.a.createElement(An.a,{item:!0,xs:12,sm:10,className:t.props.classes.inputLabel},l.a.createElement(C.a,{fullWidth:!0},l.a.createElement(xn.a,{value:a,name:"kelas",className:t.props.classes.input,onChange:t.handleChange},t.state.arrKelas.map(function(e){return l.a.createElement(In.a,{key:e.value,value:e.value},e.label)}))))),tipeForm:l.a.createElement(An.a,{container:!0,className:t.props.classes.formWrapper},l.a.createElement(An.a,{item:!0,xs:12,sm:2,className:t.props.classes.inputLabel},l.a.createElement(Ln.a,{className:t.props.classes.labelClass},"Tipe Ulangan")),l.a.createElement(An.a,{item:!0,xs:12,sm:10,className:t.props.classes.inputLabel},l.a.createElement(C.a,{fullWidth:!0},l.a.createElement(xn.a,{value:n,name:"tipe",className:t.props.classes.input,onChange:t.handleChange},t.state.arrTipe.map(function(e){return l.a.createElement(In.a,{key:e.value,value:e.value},e.label)}))))),siswaForm:l.a.createElement(An.a,{container:!0,className:t.props.classes.formWrapper},l.a.createElement(An.a,{item:!0,xs:12,sm:2,className:t.props.classes.inputLabel},l.a.createElement(Ln.a,{className:t.props.classes.labelClass},"Siswa")),l.a.createElement(An.a,{item:!0,xs:12,sm:10,className:t.props.classes.inputLabel},l.a.createElement(C.a,{fullWidth:!0},l.a.createElement(xn.a,{value:r,name:"siswa",readOnly:t.props.report.siswa.loading,multiple:!0,className:t.props.classes.input,onChange:t.handleChange},t.state.arrSiswa.map(function(e){return"404nf"!==e.value})[0]&&l.a.createElement(In.a,{value:"*"},t.state.selectedAll?"Hapus semua pilihan":"Pilih semua"),t.state.arrSiswa.map(function(e){return l.a.createElement(In.a,{key:e.value,value:e.value},e.label)}))))),mapelForm:l.a.createElement(An.a,{container:!0,className:t.props.classes.formWrapper},l.a.createElement(An.a,{item:!0,xs:12,sm:2,className:t.props.classes.inputLabel},l.a.createElement(Ln.a,{className:t.props.classes.labelClass},"Mata pelajaran")),l.a.createElement(An.a,{item:!0,xs:12,sm:10,className:t.props.classes.inputLabel},l.a.createElement(C.a,{fullWidth:!0},l.a.createElement(xn.a,{value:s,readOnly:t.props.report.mapel.loading,name:"mapel",className:t.props.classes.input,onChange:t.handleChange},t.state.arrMapel.map(function(e){return l.a.createElement(In.a,{key:e.value,value:e.value},e.label)}))))),materiForm:l.a.createElement(An.a,{container:!0,className:t.props.classes.formWrapper},l.a.createElement(An.a,{item:!0,xs:12,sm:2,className:t.props.classes.inputLabel},l.a.createElement(Ln.a,{className:t.props.classes.labelClass},"Materi mapel")),l.a.createElement(An.a,{item:!0,xs:12,sm:10,className:t.props.classes.inputLabel},l.a.createElement(C.a,{fullWidth:!0},l.a.createElement(xn.a,{value:i,readOnly:t.props.report.materi.loading,name:"materi",className:t.props.classes.input,onChange:t.handleChange},t.state.arrMateri.map(function(e){return l.a.createElement(In.a,{key:e.value,value:e.value},e.label)})))))}},t}return Object(_.a)(a,e),Object(g.a)(a,[{key:"componentDidUpdate",value:function(e,a){var t=this,n=this.state.values,r=n.kelas,l=n.siswa,s=n.tipe,i=n.materi,o=n.mapel,c=this.definitor,u=c.ld,p=c.nf,d=this.props.appSetting;d.semester,d.tahun_ajaran;if(console.log("=======================Materi======================"),console.log(a.values.materi,i),console.log("=======================Mapel====================="),console.log(a.values.mapel,o),a.values.tipe!==s||a.values.kelas!==r){var m=r.split(" ")[0];""!==s&&this.props.readReportExamStudent(s,"&jurusan=".concat(r.split(" ")[1],"&tahun_masuk=").concat(this.props.state.class_on_school_year.school_year_on_grade[m]||1))}if(("UH"===s?a.values.materi!==i:a.values.mapel!==o)&&("UH"===s?""!==i&&"l"!==i:""!==o&&"l"!==o)&&this.props.readReportExamResult("&jurusan=".concat(r,"&nis=").concat(l.join(","),"&mapel=").concat(o).concat("UH"===s?"&materi=".concat(i):"","&tipe=").concat(s)),s){if(a.values.siswa===l||this.props.report.siswa.loading||l.length&&!l.includes("404nf")&&this.props.readReportExamSubject(s,"&jurusan=".concat(r.split(" ")[1],"&tahun_ajaran=").concat(this.props.state.class_on_school_year.school_year_on_grade[r.split(" ")[0]])),"UH"!==s||a.values.mapel===o||this.props.report.mapel.loading||""!==o&&"404nf"!==o&&this.props.readReportExamMaterial(s,"&mapel=".concat(o)),e.report.siswa.loading!==this.props.report.siswa.loading){var E=this.props.report.siswa.loading,h=this.props.report.siswa.data.length;this.setState(function(e){return{values:Object(Dn.a)({},e.values,{siswa:E?["l"]:h?[]:["404nf"]}),arrSiswa:E?u:h?t.props.report.siswa.data:p}})}if(e.report.mapel.loading!==this.props.report.mapel.loading){E=this.props.report.mapel.loading,h=this.props.report.mapel.data.length;this.setState(function(e){return{values:Object(Dn.a)({},e.values,{mapel:E?"l":h?"":"404nf"}),arrMapel:E?u:h?t.props.report.mapel.data:p}})}if("UH"===s&&e.report.materi.loading!==this.props.report.materi.loading){E=this.props.report.materi.loading,h=this.props.report.materi.data.length;this.setState(function(e){return{values:Object(Dn.a)({},e.values,{materi:E?"l":h?"":"404nf"}),arrMateri:E?u:h?t.props.report.materi.data:p}})}}}},{key:"render",value:function(){var e=this;return l.a.createElement(An.a,{container:!0,className:this.props.classes.wrapper},l.a.createElement(An.a,null,l.a.createElement(L.a,{variant:"h6",className:this.props.classes.title},"Form Ulangan")),this.getSection().kelasForm,""!==this.state.values.kelas&&this.getSection().tipeForm,""!==this.state.values.tipe&&this.getSection().siswaForm,this.state.values.siswa.length&&!this.state.values.siswa.includes("404nf")?this.getSection().mapelForm:"",""!==this.state.values.mapel&&"UH"===this.state.values.tipe&&this.getSection().materiForm,l.a.createElement(An.a,{container:!0,alignItems:"center",justify:"space-between"},l.a.createElement(An.a,{item:!0,md:11},l.a.createElement(L.a,{variant:"caption"},"Note: tombol berfungsi jika semua data terisi dan request ke server berhasil")),l.a.createElement(An.a,{item:!0,md:1},l.a.createElement(A.a,{variant:"contained",color:"primary",onClick:function(){e.props.report.result.data.length&&e.handleOpenModal()}},"Preview"))),console.log(this.props.report),this.props.report.result.data&&l.a.createElement(zn.a,{open:this.state.openModal,onEscapeKeyDown:this.handleCloseModal,onBackdropClick:this.handleCloseModal,fullWidth:!0,maxWidth:"lg"},l.a.createElement(Vn.a,null,l.a.createElement(Qn,{data:this.props.report.result.data}))))}}]),a}(l.a.Component),Zn=Object(E.b)(function(e){return{appSetting:e.settings.application,class:e.class,report:e.report}},function(e){return{readReportExamResult:function(a){return e(function(e){return function(a){a({type:Nt,payload:{method:"get",url:Bn+"/result_rapor/exam_result"+Pn+e,type:{success:xt,error:It}}})}}(a))},readReportExamStudent:function(a,t){return e(Kn(a,t))},readReportExamSubject:function(a,t){return e(Wn(a,t))},readReportExamMaterial:function(a,t){return e(function(e,a){return function(t){t({type:yt,payload:{method:"get",url:Bn+"/"+e+"/material"+Pn+a,type:{success:Tt,error:kt}}})}}(a,t))}}})(Nn()(function(e){return jn()({wrapper:{flexDirection:"column",backgroundColor:"white",borderRadius:e.spacing(1),padding:e.spacing(0,3,3),boxShadow:e.shadows[1]},formWrapper:{},title:{padding:e.spacing(2.5),marginTop:-e.spacing(2.5),borderRadius:e.spacing(.5),boxShadow:"0 4px 20px 0 rgba(0, 0, 0,.14), 0 7px 10px -5px ".concat(Y(e.palette.primary.main,.4)),display:"inline-block",fontSize:"1.3em",color:"white",fontWeight:300,background:"linear-gradient(60deg, ".concat(e.palette.primary.main,", ").concat(e.palette.primary.dark,")")},input:{"&:hover::before":{borderBottom:"1px solid rgba(0, 0, 0, 0.42)!important"},marginBottom:e.spacing(2)},inputLabel:{padding:e.spacing(0,2),paddingTop:e.spacing(3)},labelClass:{fontSize:"1em",float:"right",paddingTop:e.spacing(2)}})})($n));function er(){return function(e){e({type:Qt,payload:{method:"get",url:Fn+"/class_on_school_year"+Pn,type:{success:$t,error:Zt}}})}}function ar(){return function(e){e({type:Na,payload:{method:"get",url:Fn+"/extype"+Pn,type:{success:Ia,error:xa}}})}}function tr(){return function(e){e({type:Ca,payload:{method:"get",url:Fn+"/grades"+Pn,type:{success:ja,error:wa}}})}}var nr=function(e){function a(){var e,t;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(f.a)(this,(e=Object(b.a)(a)).call.apply(e,[this].concat(r)))).state={tab:0,grades:[],exType:[],kelas:[],loaded:!1},t.handleChangeTab=function(e,a){t.setState({tab:a})},t.refreshValues=function(e,a,t){var n=Object.keys(a),r=Array.isArray(a[e])?0===a[e].length:""===a[e],l=Array.isArray(t)?0===t.length:""===t,s=!r&&(Array.isArray(a[e])?a[e].length:a[e]),i=!l&&(Array.isArray(t)?t.length:t);s&&s!==i&&n.map(function(t,r){if(t===e)for(var l=r;l<=Object.keys(a).length-1;l++)t!==n[l]&&(a[n[l]]=Array.isArray(a[n[l]])?[]:"")})},t}return Object(_.a)(a,e),Object(g.a)(a,[{key:"componentDidMount",value:function(){this.setState({loaded:!0})}},{key:"componentDidUpdate",value:function(e,a){a.loaded!==this.state.loaded&&(0===this.props.class.data.length?this.props.readClassRecords():this.setState({kelas:this.props.class.data}),0===this.props.misc.grades.data.length?this.props.readGradesList():this.setState({grades:this.props.misc.grades.data}),0===this.props.misc.examTypes.data.length?this.props.readExamTypes():this.setState({exType:this.props.misc.examTypes.data}),this.props.class_on_school_year.is_requested?this.setState({class_on_school_year:this.props.class_on_school_year}):this.props.getClassOnSchoolYear()),e.class.loading!==this.props.class.loading&&this.setState({kelas:this.props.class.data}),e.misc.grades.loading!==this.props.misc.grades.loading&&this.setState({grades:this.props.misc.grades.data}),e.class_on_school_year.is_loading!==this.props.class_on_school_year.is_loading&&this.setState({class_on_school_year:this.props.class_on_school_year}),e.misc.examTypes.loading!==this.props.misc.examTypes.loading&&this.setState({exType:this.props.misc.examTypes.data})}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Fs,this.props),l.a.createElement(An.a,{container:!0,justify:"space-between",className:this.props.classes.wrapper},l.a.createElement(An.a,{item:!0,xs:12,sm:2},l.a.createElement(yn,{value:this.state.tab,variant:"standard",centered:!0,className:this.props.classes.tabs,onChange:this.handleChangeTab},l.a.createElement(Tn,{label:"Cetak nilai ulangan"}),l.a.createElement(Tn,{label:"Cetak nilai tugas"}),l.a.createElement(Tn,{label:"Cetak nilai raport"}))),l.a.createElement(An.a,{item:!0,className:this.props.classes.g1,xs:12},this.props.class.loading||this.props.misc.grades.loading||this.props.misc.examTypes.loading?l.a.createElement("div",null,"Loading"):this.state.kelas.length&&this.state.grades.length&&this.state.exType.length&&l.a.createElement(An.a,{container:!0},0===this.state.tab&&l.a.createElement(Zn,{state:this.state,refresh:this.refreshValues}),1===this.state.tab&&l.a.createElement(Yn,{state:this.state,refresh:this.refreshValues}),2===this.state.tab&&l.a.createElement(qn,{state:this.state,refresh:this.refreshValues})))))}}]),a}(l.a.Component),rr=Object(E.b)(function(e){return{class_on_school_year:e.classOnSchoolYear,class:e.class,misc:e.misc}},function(e){return{getClassOnSchoolYear:function(){return e(er())},readClassRecords:function(){return e(mn())},readGradesList:function(){return e(tr())},readExamTypes:function(){return e(ar())}}})(Object(On.a)(function(e){return Object(kn.a)({wrapper:{marginTop:e.spacing(3)},g1:{flexGrow:1,maxWidth:"81.5%",flexBasis:"81.5%"},tabs:{backgroundColor:"white",borderRadius:e.spacing(1),boxShadow:e.shadows[1],marginBottom:e.spacing(4)}})})(nr)),lr=t(1044),sr=t(1041),ir=t(1042),or=t(1045),cr=t(996),ur=t(1043),pr=t(24),dr=t.n(pr),mr=t(539),Er=t.n(mr),hr=t(541),gr=t.n(hr),fr=t(540),br=t.n(fr),_r=t(1072),Sr=t(1035),vr=t(998),Rr=t(1039),yr=t(1040),Tr=t(533),kr=t.n(Tr),Or=t(288),Ar=t.n(Or),Dr=t(287),Cr=t.n(Dr),jr=t(290),wr=t.n(jr),Nr=t(536),xr=t.n(Nr),Ir=t(534),Lr=t.n(Ir),Pr=t(535),Mr=t.n(Pr),Ur=t(289),Fr=t.n(Ur),Br=t(390),Kr=t.n(Br),Wr=[{button:!0,icon:r.createElement(kr.a,null),name:"Dashboard",path:"/dashboard",exact:!0},{button:!0,icon:r.createElement(Cr.a,null),name:"Siswa",path:"/dashboard/siswa",exact:!0},{button:!0,icon:r.createElement(Ar.a,null),name:"Guru",path:"/dashboard/guru",exact:!0},{button:!0,icon:r.createElement(Kr.a,null),name:"Input nilai",path:"/dashboard/input_nilai",exact:!0},{button:!0,icon:r.createElement(Kr.a,null),name:"Daftar nilai",path:"/dashboard/daftar_nilai"},{button:!0,icon:r.createElement(Lr.a,null),name:"Mapel",path:"/dashboard/mapel",exact:!0},{button:!0,icon:r.createElement(Fr.a,null),name:"Kelas",path:"/dashboard/kelas",exact:!0},{button:!0,icon:r.createElement(Mr.a,null),name:"Materi Pelajaran",path:"/dashboard/materi_pelajaran",exact:!0},{button:!0,icon:r.createElement(wr.a,null),name:"Cetak",path:"/dashboard/cetak",exact:!0},{button:!0,icon:r.createElement(xr.a,null),name:"Setting",path:"/dashboard/settings",exact:!0}],Hr=k()(function(e){return jn()({root:{display:"block!important"},btnBs:{display:"flex!important","&>div>p":{color:"#ffffff!important"},"&>div":{color:"#ffffff!important"},justifyContent:"unset!important",margin:"4px 8px!important",width:"auto",borderRadius:e.spacing(.5)},nav:{paddingTop:"4px"},buttonnRipple:{color:"rgba(0,0,0,0.7)"},active:{"&:hover":{backgroundColor:e.palette.primary.main},"&>div":{color:"white!important"},"&>div>p":{color:"white!important"},boxShadow:"0 12px 20px -10px "+Y(e.palette.primary.main,.6)+", 0 4px 20px 0 rgba(0, 0, 0,.12), 0 7px 8px -5px "+Y(e.palette.primary.main,.2),color:"rgba(121, 134, 203, 0.6)!important",backgroundColor:e.palette.primary.main,zIndex:100},listText:{color:"rgba(0,0,0,0.7)!important"}})}),Jr=function(e){var a=Hr(),t=Wr.map(function(e,t){var n=l.a.forwardRef(function(t,n){return l.a.createElement(m.c,Object.assign({innerRef:n},t,{exact:e.exact,activeClassName:a.active,to:e.path}))});return l.a.createElement(vr.a,{key:t,component:n,className:a.btnBs,button:!0,color:"secondary"},l.a.createElement(_r.a,{title:e.name},l.a.createElement(Rr.a,{className:a.listText},e.icon)),l.a.createElement(yr.a,{disableTypography:!0,primary:l.a.createElement(L.a,{className:a.listText},e.name)}))});return l.a.createElement(Sr.a,{component:"nav",className:a.nav},t)},qr=t(538),Gr=t.n(qr),Yr=k()(function(e){return jn()({root:{display:"flex"},titleClass:{color:"#ffffff",zIndex:100},dividerClass:{backgroundColor:"rgba(0,0,0,0.12)"},toolbar:{paddingRight:24},forceWhiteFont:{color:"rgba(255,255,255,0.8)!important"},logoutBtn:{"&:hover":{cursor:"pointer",opacity:.6},"&:focus":{outline:"none",cursor:"progress"},background:"transparent",border:"none",fontSize:"0.8rem!important"},profDivider:{marginBottom:"-4px"},bringToFront:{zIndex:99},captionProfile:{opacity:.8},belowProfile:{color:e.palette.primary.light,display:"flex",alignItems:"center",fontSize:"0.8rem!important","&::after":{content:"''",marginLeft:"5px",width:"7px",height:"7px",backgroundColor:"#45f442",borderRadius:"50%"}},profile:{padding:"16px",flexDirection:"column",backgroundAttachment:"fixed",backgroundRepeat:"no-repeat",backgroundSize:"cover",position:"relative",backgroundPosition:"center","&::after":{content:'""',top:0,position:"absolute",width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,0.4)"}},detailProfile:{marginLeft:"16px",display:"flex",flexDirection:"column",justifyContent:"center"},accountIcon:{width:"50px",height:"50px"},toolbarIcon:Object(Dn.a)({display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 8px 0 15px"},e.mixins.toolbar),appBar:{boxShadow:"none!important",backgroundColor:e.palette.primary.dark+"!important",color:"white!important",position:"absolute",zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})+"!important"},appBarShift:{marginLeft:"230px",width:"calc(100% - ".concat("230px",")"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginLeft:"12px!important",marginRight:"36px!important"},menuButtonHidden:{display:"none!important"},title:{flexGrow:1},personPin:{clear:"both",marginLeft:"30px"},drawerPaper:{boxShadow:"0 10px 30px -12px rgba(0, 0, 0, 0.42), 0 4px 25px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(0, 0, 0, 0.2)!important",height:"100vh",overflow:"auto",position:"relative",backgroundColor:"#333",whiteSpace:"nowrap",width:"230px",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(v.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,padding:e.spacing(4,6),height:"100vh",overflow:"auto",backgroundColor:"#eeeeee"},h5:{marginBottom:e.spacing(2)}})}),zr=Object(E.b)(function(e){return{}},function(e){return{readAppSetting:function(a){return e(gn(a))},makeLogoutRequest:function(a){return e(function(e){return function(a){a({type:oe}),W.a.post(cn.purge,null,{headers:{Authorization:"Bearer "+e}}).then(function(){var e=Object(B.a)(F.a.mark(function e(a){return F.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.data,e.abrupt("return",J(["token"],["/","/dashboard"]));case 2:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}()).then(function(){return window.location.reload()}).catch(function(e){return J(["token"],["/","/dashboard"])})}}(a))}}})(Object(S.g)(function(e){var a=Object(r.useState)(!0),t=Object(R.a)(a,2),n=t[0],s=t[1],i=Object(r.useState)(void 0),o=Object(R.a)(i,2),c=o[0],u=o[1],p=e.makeLogoutRequest,d=Yr();Object(r.useEffect)(function(){void 0!==window.__CURRENT_TITLE__&&u(window.__CURRENT_TITLE__),e.isAuthenticated&&(document.title="".concat(window.__TITLE_PREFIX__," ").concat(c||"Dashboard"))});return e.isAuthenticated?l.a.createElement("div",{className:d.root},l.a.createElement(D.a,null),l.a.createElement(sr.a,{position:"relative",className:dr()(d.appBar,n&&d.appBarShift)},l.a.createElement(ir.a,{disableGutters:!n,className:d.toolbar},l.a.createElement(cr.a,{color:"inherit","aria-label":"Open drawer",onClick:function(e){return s(!0)},className:dr()(d.menuButton,n&&d.menuButtonHidden)},l.a.createElement(Er.a,null)),l.a.createElement(L.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:d.title},c||"Dashboard"),l.a.createElement(cr.a,{color:"inherit"},l.a.createElement(ur.a,{badgeContent:4,color:"secondary"},l.a.createElement(br.a,null))))),l.a.createElement(lr.a,{variant:"permanent",classes:{paper:dr()(d.drawerPaper,!n&&d.drawerPaperClose)},open:n},n?l.a.createElement("div",{className:d.toolbarIcon},l.a.createElement(L.a,{className:d.titleClass,variant:"h6"},window.__APP_NAME__),l.a.createElement(cr.a,{onClick:function(e){return s(!1)}},l.a.createElement(gr.a,{className:d.titleClass}))):l.a.createElement("div",{className:d.toolbarIcon}),n?l.a.createElement(l.a.Fragment,null,l.a.createElement(or.a,{className:d.dividerClass}),l.a.createElement(An.a,{container:!0,alignItems:"center",style:{backgroundImage:'url("'.concat(Gr.a,'")')},className:d.profile},l.a.createElement(An.a,{container:!0,justify:"flex-start",className:dr()(d.profDivider,d.bringToFront)},l.a.createElement(O.a,{className:d.accountIcon},"SN"),l.a.createElement("div",{className:dr()(d.detailProfile,d.bringToFront)},l.a.createElement(L.a,{variant:"body1",className:d.forceWhiteFont},"Syahid Nurrohim"),l.a.createElement(L.a,{variant:"caption",className:dr()(d.forceWhiteFont,d.captionProfile)},"syahid@gmail.com"))),l.a.createElement("br",null),l.a.createElement(An.a,{container:!0,justify:"space-between",className:d.bringToFront},l.a.createElement(L.a,{className:d.belowProfile},"Administrator"),l.a.createElement(L.a,{component:"button",className:dr()(d.logoutBtn,d.forceWhiteFont),onClick:function(e){p(H("token"))}},"Logout")))):"",l.a.createElement(Jr,null)),l.a.createElement("main",{className:d.content},l.a.createElement("div",{className:d.appBarSpacer}),e.children)):e.isLoading?l.a.createElement(Vr,null):l.a.createElement(_n,{appName:window.__APP_NAME__||"E-Rapor"})}));t(815);var Vr=function(e){var a=function(){return l.a.createElement("div",{className:"back-drop"},l.a.createElement("div",{className:"sk-folding-cube"},l.a.createElement("div",{className:"sk-cube1 sk-cube"}),l.a.createElement("div",{className:"sk-cube2 sk-cube"}),l.a.createElement("div",{className:"sk-cube4 sk-cube"}),l.a.createElement("div",{className:"sk-cube3 sk-cube"})))};return e.isAuthenticated?l.a.createElement(zr,null,l.a.createElement(a,null)):l.a.createElement(a,null)},Xr=t(68),Qr=t(994),$r=t(94),Zr=t(139),el=t(568),al=t(6),tl=t(566),nl=t(25),rl=t(1028),ll=t(1064),sl=t(1074),il=t(542),ol=t.n(il);var cl={Control:function(e){var a=e.children,t=e.innerProps,n=e.innerRef,r=e.selectProps,s=r.classes,i=r.TextFieldProps;return l.a.createElement(ll.a,Object.assign({fullWidth:!0,InputProps:{inputComponent:pl,inputProps:Object(Dn.a)({className:s.input,ref:n,children:a},t)}},i))},Menu:function(e){return l.a.createElement(I.a,Object.assign({square:!0,className:e.selectProps.classes.paper},e.innerProps),e.children)},MultiValue:function(e){return l.a.createElement(sl.a,{color:"primary",variant:"outlined",tabIndex:-1,label:e.children,className:Object(al.a)(e.selectProps.classes.chip,Object(v.a)({},e.selectProps.classes.chipFocused,e.isFocused)),onDelete:e.removeProps.onClick,deleteIcon:l.a.createElement(ol.a,e.removeProps)})},NoOptionsMessage:function(e){return l.a.createElement(L.a,Object.assign({color:"textSecondary",className:e.selectProps.classes.noOptionsMessage},e.innerProps),e.children)},Option:function(e){return l.a.createElement(In.a,Object.assign({ref:e.innerRef,selected:e.isFocused,component:"div",style:{fontWeight:e.isSelected?500:400}},e.innerProps),e.children)},Placeholder:function(e){return l.a.createElement(L.a,Object.assign({color:"textSecondary",className:e.selectProps.classes.placeholder},e.innerProps),e.children)},SingleValue:function(e){return l.a.createElement(L.a,Object.assign({className:e.selectProps.classes.singleValue},e.innerProps),e.children)},ValueContainer:function(e){return l.a.createElement("div",{className:e.selectProps.classes.valueContainer},e.children)}};function ul(e){var a=e.allowAllSelect,t=e.value,n=e.isLoading,r=e.isMulti,s=e.isSearchable,i=e.isClearable,c=e.props,u=e.onChange,p=e.singleValue,d=dl(),m=Object(o.a)(),E={input:function(e){return Object(Dn.a)({},e,{color:m.palette.text.primary,"& input":{font:"inherit"}})}};return l.a.createElement("div",{className:d.root},l.a.createElement(rl.a,null,l.a.createElement(tl.a,{classes:d,styles:E,inputId:c.inputId,TextFieldProps:{label:c.label,InputLabelProps:{htmlFor:c.inputId,shrink:!0},placeholder:c.placeholder},noOptionsMessage:function(){return"Data tidak tersedia"},name:c.inputId,isLoading:n,loadingMessage:function(){return"Tunggu sebentar, sedang request data ke server"},placeholder:n?"Tunggu sebentar, sedang request data ke server":c.placeholder,options:a&&t&&0!==t.length?[{label:"Pilih Semua",value:"*"}].concat(Object(Xr.a)(t)):t,label:c.label,components:cl,value:p,onChange:function(e,a){return Array.isArray(e)&&0!==e.length&&"*"===e[e.length-1].value?u(t,a):u(e,a)},isMulti:r,isSearchable:s,isClearable:i})))}function pl(e){var a=e.inputRef,t=Object(el.a)(e,["inputRef"]);return l.a.createElement("div",Object.assign({ref:a},t))}var dl=Object(Qr.a)(function(e){return Object(y.a)({root:{flexGrow:1,marginBottom:e.spacing(.5),marginTop:e.spacing(.5)},input:{display:"flex",padding:0,height:"auto"},wa:{"&:selected":{color:"#9c27b0!important"},"&:active":{color:"#9c27b0!important"},"&:focus-within":{color:"#9c27b0!important"},"&:visited":{color:"#9c27b0!important"},"&:focus":{color:"#9c27b0!important"}},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,padding:e.spacing(.75,0),alignItems:"center",overflow:"hidden"},chip:{height:"auto",margin:e.spacing(.25),padding:e.spacing(.2,0),borderRadius:e.spacing(3)},chipFocused:{backgroundColor:Object(nl.b)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:e.spacing(1,2)},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,bottom:6,fontSize:16},paper:{position:"absolute",zIndex:1,marginTop:e.spacing(1),left:0,right:0},divider:{height:e.spacing(2)}})}),ml=t(1050),El=t(1051),hl=t(1052),gl=t(1053),fl=t(1054);l.a.Component;var bl=Object(Qr.a)(function(e){return Object(y.a)({tableNilai:{width:"100%",overflowX:"auto",boxShadow:"none"},buttonSubmit:{boxShadow:"0px 6px 10px "+Y(e.palette.primary.main,.4)},bottomInfoNBtn:{marginTop:e.spacing(1),display:"flex",justifyContent:"space-between",alignItems:"center"},kkmPickControl:{flexDirection:"row"},kkmField:{width:"50%",justifyContent:"center",marginBottom:-7,paddingLeft:8,"&>label":{left:"auto",top:16}},formWrapper:{flexDirection:"column",backgroundColor:"white",padding:e.spacing(2),borderRadius:e.spacing(.5),boxShadow:e.shadows[1]},formControl:{marginTop:e.spacing(1),marginBottom:e.spacing(1),minWidth:"100%"},selectEmpty:{marginTop:e.spacing(2)}})}),_l=(Object(E.b)(function(e){return{subject:e.subject,class:e.class,student:e.student,competence:e.competence,request:e.requestResponse,appSetting:e.settings.application}},function(e){return{readSubjectRecords:function(){return e(En())},readClassRecords:function(){return e(mn())},readStudentRecords:function(){return e(dn())},readCompetenceRecords:function(){return e(hn())},insertExamScore:function(a){return e(fn(a,a))}}})(function(e){var a=bl(),t=Object(r.useState)(!0),n=Object(R.a)(t,2),s=n[0],i=n[1],o=l.a.useState({kelas:{label:"Kelas",value:null,key:"kelas",type:"single"},siswa:{label:"Siswa",value:[],key:"siswa",type:"multiple",allowAllSelect:!0},mapel:{label:"Mapel",value:null,key:"mapel",type:"single"},kd:{label:"Materi",value:null,key:"kd",type:"single"}}),c=Object(R.a)(o,2),u=c[0],p=c[1],d=Object(r.useState)([]),m=Object(R.a)(d,2),E=m[0],h=m[1],g=Object(r.useState)({mapel:[],kelas:[],siswa:[]}),f=Object(R.a)(g,2),b=f[0],_=f[1],S=Object(r.useState)(new Date),y=Object(R.a)(S,2),T=y[0],k=y[1],O=Object(r.useState)("0"),D=Object(R.a)(O,2),j=D[0],w=D[1];function N(e,a){!Object.keys(u).map(function(e){return Array.isArray(u[e].value)?0===u[e].value.length:null===u[e].value}).includes(!0)&&w("0");for(var t=function(e){a.name===Object.keys(u)[e]&&e+1!==Object.keys(u).length&&p(function(a){return Object(Dn.a)({},a,Object(v.a)({},Object.keys(u)[e+1],Object(Dn.a)({},u[Object.keys(u)[e+1]],{value:Array.isArray(u[Object.keys(u)[e+1]])?[]:null})))}),(Array.isArray(u[Object.keys(u)[e]].value)?0===u[Object.keys(u)[e]].value.length:null===u[Object.keys(u)[e]].value)&&e+1!==Object.keys(u).length&&p(function(a){return Object(Dn.a)({},a,Object(v.a)({},Object.keys(u)[e+1],Object(Dn.a)({},u[Object.keys(u)[e+1]],{value:Array.isArray(u[Object.keys(u)[e+1]])?[]:null})))})},n=0;n<Object.keys(u).length;n++)t(n);var r=Object(Dn.a)({},u[a.name],{value:e});p(function(e){return Object(Dn.a)({},e,Object(v.a)({},a.name,r))})}function x(e){k(e)}function P(a){var t=E.map(function(t){return Object.keys(t)[0]===a.target.name?Object(v.a)({},a.target.name,Object(Dn.a)({},t[a.target.name],{kkm:parseInt(j),nilai_ulangan:parseInt(a.target.value),semester:e.appSetting.semester,tahun_ajaran:e.appSetting.tahun_ajaran})):t});h(t)}return Object(r.useEffect)(function(){i(!1)},[]),Object(r.useEffect)(function(){s||(0===e.subject.data.length&&e.readSubjectRecords(),0===e.class.data.length&&e.readClassRecords(),0===e.student.data.length&&e.readStudentRecords(),0===e.competence.data.length&&e.readCompetenceRecords())},[e.request,s]),Object(r.useEffect)(function(){0!==b.kelas.length&&0!==e.student.data.length&&null!==u.kelas.value&&_(function(a){return Object(Dn.a)({},a,{siswa:e.student.data.filter(function(a){return(a.tahun_masuk===e.appSetting.tahun_ajaran?"XI":a.tahun_masuk===e.appSetting.tahun_ajaran+1?"X":a.tahun_masuk===e.appSetting.tahun_ajaran-1?"XII":"Unknown")+" "+a.jurusan.value===u.kelas.value.value}).map(function(e){return{label:e.nama,value:e.nis}})})})},[u.kelas]),Object(r.useEffect)(function(){0!==e.competence.data.length&&null!==u.mapel.value&&_(function(a){return Object(Dn.a)({},a,{kd:e.competence.data.filter(function(e){return e.nama_mapel.value===u.mapel.value.value}).map(function(e){return{label:e.nama_materi,value:e.kode_materi}})})})},[u.mapel]),Object(r.useEffect)(function(){0!==e.subject.data.length&&null!==u.kelas.value&&_(function(a){return Object(Dn.a)({},a,{mapel:e.subject.data.filter(function(e){return e.mapel_kelas.map(function(e){return e.value}).includes(u.kelas.value.value)||e.mapel_kelas.map(function(e){return e.value}).includes("semua kelas")}).map(function(e){return{label:e.nama_mapel,value:e.kode_mapel}})})})},[u.siswa]),Object(r.useEffect)(function(){null!==u.kd.value&&(Array.isArray(u.siswa.value)?0!==u.siswa.value.length:null!==u.siswa.value)&&h(u.siswa.value.map(function(e){return Object(v.a)({},e.value,{nis:e.value,mapel:u.mapel.value.value,materi:u.kd.value.value,tanggal_ulangan:new Date(T),nilai_ulangan:0})}))},[u.kd]),Object(r.useEffect)(function(){s||_({kelas:e.class.data.map(function(e){return["X","XI","XII"].map(function(a){return{label:a+" "+e.nama_kelas,value:a+" "+e.kode_kelas}})}).flat(1).sort(function(e,a){return e.label>a.label?1:-1})})},[e.class,e.student,e.competence,e.subject,s]),l.a.createElement(l.a.Fragment,null,l.a.createElement(An.a,{container:!0,className:a.formWrapper},l.a.createElement(L.a,{variant:"h6",style:{marginBottom:20}},"Input nilai ulangan"),function(){var e=Object(Xr.a)(Array(Object.keys(u).length));e.shift(),e.unshift(!0);var t=Object.keys(u);return l.a.createElement(l.a.Fragment,null,t.map(function(a,n){for(var r=n+1;r>0;r--)("single"===u[t[r-1]].type&&null!==u[t[r-1]].value||"multiple"===u[t[r-1]].type&&null!==u[t[r-1]].value&&0!==u[t[r-1]].value.length)&&e.splice(r,1,!0),null===u[t[0]].value&&(e[r]=!1);return e[n]&&l.a.createElement(ul,{key:n,value:b[a],isSearchable:!0,isClearable:!0,allowAllSelect:u[a].allowAllSelect,singleValue:u[a].value,onChange:N,props:{label:u[a].label,inputId:a,placeholder:"Pilih Data "+u[a].label},isMulti:"multiple"===u[a].type})}),!t.map(function(e){return Array.isArray(u[e].value)?0!==u[e].value.length:null!==u[e].value}).includes(!1)&&l.a.createElement(C.a,{className:a.kkmPickControl},l.a.createElement($r.b,{utils:Zr.a},l.a.createElement($r.a,{value:T,onChange:x,margin:"normal",label:"Pilih tanggal dan waktu Ulangan",style:{width:"50%",paddingRight:8}})),l.a.createElement(ll.a,{type:"number",label:"Kriteria Ketuntasan Minimal (KKM)",placeholder:"Nilai KKM",inputProps:{min:0,max:100},defaultValue:"0",onChange:function(e){return w(e.target.value)},className:a.kkmField})))}(),!Object.keys(u).map(function(e){return Array.isArray(u[e].value)?0===u[e].value.length:null===u[e].value}).includes(!0)&&"0"!==j&&""!==j&&l.a.createElement(I.a,{className:a.tableNilai},l.a.createElement(ml.a,{style:{border:"none"}},l.a.createElement(El.a,null,l.a.createElement(hl.a,null,l.a.createElement(gl.a,{padding:"checkbox"},"No"),l.a.createElement(gl.a,{style:{width:150,padding:8,paddingLeft:0}},"NIS"),l.a.createElement(gl.a,{style:{width:300,padding:8,paddingLeft:0}},"Nama"),l.a.createElement(gl.a,{style:{padding:8,paddingLeft:0}},"Form Nilai"),l.a.createElement(gl.a,{style:{padding:8,paddingLeft:0}},"Kriteria Ketuntasan Minimal (KKM)"))),l.a.createElement(fl.a,null,u.siswa.value.sort(function(e,a){return e.label>a.label?1:-1}).map(function(e,a){return l.a.createElement(hl.a,{key:a},l.a.createElement(gl.a,{padding:"checkbox"},a+1),l.a.createElement(gl.a,{style:{width:150,padding:8,paddingLeft:0}},e.value),l.a.createElement(gl.a,{style:{width:300,padding:8,paddingLeft:0}},e.label),l.a.createElement(gl.a,{style:{padding:8,paddingLeft:0}},l.a.createElement(ll.a,{onBlur:P,style:{width:250},type:"number",name:String(e.value),defaultValue:"0",placeholder:"Nilai "+e.label.split(" ")[0]})),l.a.createElement(gl.a,{style:{padding:8,paddingLeft:0}},j))})))),l.a.createElement(An.a,{className:a.bottomInfoNBtn},l.a.createElement(L.a,{variant:"caption",style:{opacity:.7}},"Pastikan data di kolom benar-benar valid dengan data asli!"),l.a.createElement(A.a,{variant:"contained",color:"primary",onClick:function(a){e.insertExamScore(E.map(function(e){return Object(Dn.a)({},e[Object.keys(e)[0]])}))},className:a.buttonSubmit},"Tambah Data"))))}),t(371)),Sl=t.n(_l),vl=t(1076),Rl=t(1057),yl=t(1047),Tl=t(189),kl=t.n(Tl),Ol=t(190),Al=t.n(Ol),Dl=t(395),Cl=t.n(Dl),jl=t(296),wl=t.n(jl),Nl=t(295),xl=t.n(Nl),Il=t(1073),Ll=t(1058),Pl=t(547),Ml=t.n(Pl),Ul=t(1048),Fl=t(82),Bl=t.n(Fl),Kl=t(164),Wl=t.n(Kl),Hl=t(1065),Jl=t(1071),ql=t(165),Gl=t.n(ql),Yl=t(292),zl=t.n(Yl),Vl=t(392),Xl=t.n(Vl),Ql=t(391),$l=t.n(Ql),Zl=t(394),es=t.n(Zl),as=t(393),ts=t.n(as);var ns=Object(Qr.a)(function(e){return Object(y.a)({root:{flexShrink:0,color:e.palette.text.secondary,marginLeft:e.spacing(2.5)}})}),rs=function(e){var a=ns(),t=Object(o.a)(),n=e.count,r=e.page,s=e.rowsPerPage,i=e.onChangePage;return l.a.createElement("div",{className:a.root},l.a.createElement(cr.a,{onClick:function(e){i(e,0)},disabled:0===r,"aria-label":"First Page"},"rtl"===t.direction?l.a.createElement($l.a,null):l.a.createElement(Xl.a,null)),l.a.createElement(cr.a,{onClick:function(e){i(e,r-1)},disabled:0===r,"aria-label":"Previous Page"},"rtl"===t.direction?l.a.createElement(ts.a,null):l.a.createElement(es.a,null)),l.a.createElement(cr.a,{onClick:function(e){i(e,r+1)},disabled:r>=Math.ceil(n/s)-1,"aria-label":"Next Page"},"rtl"===t.direction?l.a.createElement(es.a,null):l.a.createElement(ts.a,null)),l.a.createElement(cr.a,{onClick:function(e){i(e,Math.max(0,Math.ceil(n/s)-1))},disabled:r>=Math.ceil(n/s)-1,"aria-label":"Last Page"},"rtl"===t.direction?l.a.createElement(Xl.a,null):l.a.createElement($l.a,null)))},ls=t(1e3),ss=t(293),is=t.n(ss),os=t(545),cs=t.n(os),us=t(543),ps=t.n(us),ds=t(544),ms=t.n(ds),Es=t(1049),hs=t(1056),gs=t(1055),fs=t(546),bs=t.n(fs),_s=t(999),Ss=t(223),vs=t(58),Rs=t(188),ys=l.a.forwardRef(function(e,a){return l.a.createElement(_s.a,Object.assign({direction:"up",ref:a},e))});function Ts(e){var a=e.data,t=e.onChange,n=e.propsData,r=ks();return l.a.createElement(C.a,{style:{display:"flex"}},n.map(function(e,n){return"inputString"===e.formType||"inputNumber"===e.formType?l.a.createElement(ll.a,{key:n,className:r.formMargin,label:e.label,name:e.key,onChange:t,type:"inputString"===e.formType?"string":"number",margin:"normal"}):"inputSelect"===e.formType?l.a.createElement(ul,{key:n,onChange:t,props:{inputId:e.key,placeholder:e.label},singleValue:a[0][e.key],value:e.formValue,isMulti:e.multi}):"inputRadio"===e.formType?l.a.createElement(C.a,{key:n,style:{marginTop:"8px"},className:r.formMargin},l.a.createElement(Ln.a,{component:"legend"},e.label),l.a.createElement(Jl.a,{name:e.key,value:a[0][e.key],onChange:t,style:{flexDirection:"row",marginTop:"8px"}},e.formValue.map(function(e){return l.a.createElement(j.a,{key:e,value:e,control:l.a.createElement(Hl.a,null),label:e})}))):void 0}))}var ks=k()(function(e){return Object(y.a)({root:{padding:"0 20px"},appBar:{position:"relative"},formControl:{margin:e.spacing(1)},titleFD:{marginLeft:e.spacing(2),flex:1},topTable:{display:"block",width:"100%"},formMargin:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},formGroup:{marginBottom:e.spacing(1)},formClass:{display:"flex",flexWrap:"wrap",justifyContent:"space-between"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(Ss.lighten)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"},search:Object(v.a)({position:"relative",backgroundColor:Object(Ss.fade)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(Ss.fade)(e.palette.common.white,.25)},marginRight:0,marginLeft:e.spacing(1),width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{width:e.spacing(6),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center",color:"rgba(0,0,0,0.6)"},inputRoot:{color:"inherit",borderRadius:e.shape.borderRadius,backgroundColor:"rgba(0,0,0,0.05)"},button:{marginTop:e.spacing(2.2),marginLeft:e.spacing(2)},input:{display:"none"},inputInput:Object(v.a)({padding:e.spacing(1.2,1,1.2,6),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:130,"&:focus":{width:160}})})}),Os=Object(c.a)({overrides:{MuiFormLabel:{root:{fontSize:"0.875rem"}},MuiOutlinedInput:{input:{padding:12}}}}),As=function(e){var a=e.inputProps,t=e.insertState,n=e.numSelected,s=e.onChange,i=e.onDelete,o=e.onExport,c=e.onInsert,p=e.rowKey,d=e.tableTitle,m=e.removeAdd,E=e.withActions,h=e.withFilter,g=ks(),f=Object(r.useState)(!1),b=Object(R.a)(f,2),_=b[0],S=b[1],y=Object(r.useState)(!1),T=Object(R.a)(y,2),k=T[0],O=T[1],D=Object(r.useState)(!1),C=Object(R.a)(D,2),j=C[0],w=C[1],N=Object(r.useState)(!1),x=Object(R.a)(N,2),I=x[0],P=x[1],M=Object(r.useState)([]),U=Object(R.a)(M,2),F=U[0],B=U[1],K=n>1?"records":"record",W=Object(r.useRef)(null);function H(){w(!1)}function J(){P(!1)}function q(){O(!1)}function G(e){i(e),w(!1)}Object(r.useEffect)(function(){for(var e={},a=0;a<t.length;a++)Object.assign(e,Object(v.a)({},t[a].key,"inputNumber"===t[a].formType?0:t[a].multi?[]:""));B([e]),!_&&S(!0)},[]);return l.a.createElement(ir.a,{className:Object(al.a)(g.root,Object(v.a)({},g.highlight,n>0))},n>0?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:g.title},l.a.createElement(L.a,{color:"inherit",variant:"subtitle1"},1===n?n+" row selected":n+" rows selected")),l.a.createElement("div",{className:g.spacer}),l.a.createElement("div",{className:g.actions},l.a.createElement(_r.a,{title:"Delete"},l.a.createElement(cr.a,{"aria-label":"Delete",onClick:function(){w(!0)}},l.a.createElement(zl.a,null))),l.a.createElement(function(){return l.a.createElement(zn.a,{open:j,TransitionComponent:ys,keepMounted:!0,onClose:H,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},l.a.createElement(gs.a,{id:"alert-dialog-slide-title"},"Delete ".concat(K)),l.a.createElement(Vn.a,null,l.a.createElement(hs.a,{id:"alert-dialog-slide-description"},"Are you sure want to delete the selected ",K)),l.a.createElement(Es.a,null,l.a.createElement(A.a,{onClick:H,color:"primary"},"Cancel"),l.a.createElement(A.a,{onClick:G,color:"secondary"},"Delete")))},null))):l.a.createElement(An.a,{container:!0,alignItems:"center",justify:"space-between"},l.a.createElement(L.a,{variant:"h6"},d),l.a.createElement(An.a,{style:{display:"flex",alignItems:"center"}},E&&l.a.createElement(l.a.Fragment,null,!m&&l.a.createElement(_r.a,{onClick:function(){P(!0)},title:"Add item"},l.a.createElement(cr.a,{"aria-label":"Add item"},l.a.createElement(ps.a,null))),o&&l.a.createElement(_r.a,{onClick:o,title:"Export to Excel"},l.a.createElement(cr.a,{"aria-label":"Export to Excel"},l.a.createElement(ms.a,null)))),h&&l.a.createElement(_r.a,{onClick:function(){O(!0)},title:"Filter list"},l.a.createElement(cr.a,{"aria-label":"Filter list"},l.a.createElement(cs.a,null))),l.a.createElement("div",{className:g.search},l.a.createElement("div",{className:g.searchIcon},l.a.createElement(is.a,null)),l.a.createElement(ls.a,{placeholder:"Search here",classes:{root:g.inputRoot,input:g.inputInput},onChange:s})),k&&l.a.createElement(zn.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,open:k,onClose:q},l.a.createElement(gs.a,null,"Filter form"),l.a.createElement(Vn.a,null,l.a.createElement(An.a,null,a)),l.a.createElement(Es.a,null,l.a.createElement(A.a,{onClick:q,color:"primary"},"Ok"))),I&&l.a.createElement(zn.a,{scroll:"body",open:I,onClose:J,TransitionComponent:ys},l.a.createElement(gs.a,null,"Insert Form"),l.a.createElement(Es.a,{style:{justifyContent:"flex-start",marginLeft:"8px"}},l.a.createElement("input",{accept:".xlsx, .xls, .csv",className:g.input,id:"raised-button-file",onChange:function(e){var a=e.target.files[0],t=new FileReader;t.readAsArrayBuffer(a),t.onload=function(e){var a=new Uint8Array(t.result),n=vs.read(a,{type:"array"}),r=n.SheetNames[0],l=n.Sheets[r],s=vs.utils.sheet_to_json(l).map(function(e){var a={};return Object.keys(e).map(function(t){Object.assign(a,Object(v.a)({},t.split(" ").join(""),e[t]))}),a});c.todoFunction(s)},e.target.value=""},multiple:!0,ref:W,type:"file"}),l.a.createElement("label",{htmlFor:"raised-button-file"},l.a.createElement(A.a,{variant:"outlined",component:"span",color:"primary"},"Import")),l.a.createElement(_r.a,{title:"Unduh Dokumen awal",onClick:function(){var e=vs.utils.book_new();e.Props={Title:d+" Document",Subject:d,Author:"User",CreatedDate:new Date},e.SheetNames.push(d+" Sheet");var a=[p],t=vs.utils.aoa_to_sheet(a);e.Sheets[d+" Sheet"]=t;var n=vs.write(e,{bookType:"xlsx",type:"binary"});Object(Rs.saveAs)(new Blob([function(e){for(var a=new ArrayBuffer(e.length),t=new Uint8Array(a),n=0;n<e.length;n++)t[n]=255&e.charCodeAt(n);return a}(n)],{type:"application/octet-stream"}),d+".xlsx")}},l.a.createElement(cr.a,{"aria-label":"Unduh"},l.a.createElement(bs.a,null)))),l.a.createElement(Vn.a,null,l.a.createElement(hs.a,null,"Fill the form below to insert specified data"),l.a.createElement(u.a,{theme:Os},l.a.createElement(Ts,{onChange:function(e,a){for(var n=[],r=0;r<t.length;r++)"inputNumber"===t[r].formType&&n.push(t[r].key),Object.assign(F[0],Object(v.a)({},(void 0!==e.target?e.target:a).name,n.includes((void 0!==e.target?e.target:a).name)?parseInt(void 0!==e.target?e.target.value:e):void 0!==e.target?e.target.value:e));B([].concat(F))},data:F,propsData:t}))),l.a.createElement(Es.a,{style:{marginBottom:"24px",marginRight:"16px"}},l.a.createElement(A.a,{color:"secondary",component:"span",onClick:J},"Cancel"),l.a.createElement(A.a,{variant:"outlined",color:"primary",component:"span",onClick:function(){c.todoFunction(F)}},"Save"))))))},Ds=t(1075);var Cs=function(e){var a=e.data,t=e.order,n=e.orderBy,r=e.onRequestSort,s=e.onSelectAllClick,i=e.componentProps,o=e.numSelected,c=e.rowCount,u=e.withActions,p=e.withCheckbox;return l.a.createElement(l.a.Fragment,null,p&&l.a.createElement(gl.a,{padding:"checkbox"},l.a.createElement(w.a,{indeterminate:o>0&&o<c,checked:0!==a&&o===c,onChange:s})),i.head.map(function(e,a){return l.a.createElement(gl.a,{key:e.key,align:p&&0===a?void 0:"left",component:p&&0===a?"th":void 0,scope:p&&0===a?"row":void 0,padding:p&&0===a?"none":"default",sortDirection:n===e.key&&t},l.a.createElement(Ds.a,{active:n===e.key,direction:t,onClick:(s=e.key,function(e){r(e,s)})},e.label));var s}),u&&l.a.createElement(l.a.Fragment,null,l.a.createElement(gl.a,{padding:"none",align:"center"},"Ubah"),l.a.createElement(gl.a,{padding:"checkbox",align:"center"},"Hapus")))};function js(e,a,t){return a[t]<e[t]?-1:a[t]>e[t]?1:0}var ws={success:l.a.createElement(kl.a,null),warning:l.a.createElement(Ml.a,null),error:l.a.createElement(Al.a,null),info:l.a.createElement(Cl.a,null),"":l.a.createElement(Cl.a,null)},Ns=k()(function(e){return jn()({root:{width:"100%",marginTop:e.spacing(3),overflowX:"auto"},snText:{marginLeft:e.spacing(1)},deleteIcon:{color:e.palette.error.dark},editIcon:{color:e.palette.primary.dark},success:{backgroundColor:xl.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.dark},warning:{backgroundColor:wl.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},stripped:{"&>tr:nth-child(odd)":{backgroundColor:Y("#000000",.03)},"&>tr:nth-child(even)":{backgroundColor:"#FFF"},"&>tr, td, th":{border:"none"}},message:{display:"flex",alignItems:"center"},formControl:{marginRight:25,minWidth:120},table:{minWidth:700},search:{display:"flex",alignItems:"baseline",justifyContent:"space-between"},progress:{margin:e.spacing(2)}})}),xs=Sl()({overrides:{MuiSelect:{select:{fontSize:"0.875rem"}},MuiMenuItem:{root:{fontSize:"0.875rem"}},MuiFormHelperText:{root:{letterSpacing:0}},MuiInputLabel:{shrink:{fontSize:"0.875rem!important"}},MuiTypography:{body1:{fontSize:"0.875rem",letterSpacing:0}},MuiInputBase:{root:{fontSize:"0.875rem",letterSpacing:.8}},MuiTableCell:{root:{padding:"20px 40px 20px 14px"}}}}),Is=function(e){var a=Ns(),t=e.data,n=e.componentProps,s=e.filterProps,i=e.inputProps,o=e.insertProps,c=e.onDelete,p=e.onUpdate,d=e.primaryKey,m=e.rowsPerPageArr,E=e.withCheckbox,h=e.withActions,g=e.removeDelete,f=e.removeAdd,b=e.withFilter,_=e.withMultival,S=e.multiValKey,y=e.tableTitle,T=e.collisonState,k=T||{collisonChangeRowsValue:function(){return""},changeRowsKey:"",collisonKeys:[],collisonSeparator:""},O=k.collisonChangeRowsValue,A=k.changeRowsKey,D=k.collisonKeys,N=k.collisonSeparator,P=Object(r.useState)(0),M=Object(R.a)(P,2),U=M[0],F=M[1],B=Object(r.useState)([]),K=Object(R.a)(B,2),W=K[0],H=K[1],J=Object(r.useState)(""),q=Object(R.a)(J,2),G=q[0],Y=q[1],z=Object(r.useState)({}),V=Object(R.a)(z,2),X=V[0],Q=V[1],$=Object(r.useState)([]),Z=Object(R.a)($,2),ee=Z[0],ae=Z[1],te=l.a.useState("asc"),ne=Object(R.a)(te,2),re=ne[0],le=ne[1],se=Object(r.useState)(s||""),ie=Object(R.a)(se,2),oe=ie[0],ce=ie[1],ue=Object(r.useState)(!1),pe=Object(R.a)(ue,2),de=pe[0],me=pe[1],Ee=Object(r.useState)(""),he=Object(R.a)(Ee,2),ge=he[0],fe=he[1],be=Object(r.useState)({status:"",message:"",loading:!1}),_e=Object(R.a)(be,2),Se=_e[0],ve=_e[1],Re=Object(r.useState)(m[0]),ye=Object(R.a)(Re,2),Te=ye[0],ke=ye[1],Oe=l.a.useState(n.head[0].key),Ae=Object(R.a)(Oe,2),De=Ae[0],Ce=Ae[1],je=Object(r.useState)({status:"",message:"",loading:!1}),we=Object(R.a)(je,2),Ne=we[0],xe=we[1],Ie=Te-Math.min(Te,W.length-U*Te);function Le(e){var a=[];return e.map(function(e){var t=O(e,A),n=D||N?Me(e,D,N):"",r={};return Object.keys(e).map(function(a){return D&&D.includes(a)&&0!==D.length?(Object.assign(r,Object(v.a)({},a,n)),!1):A===a&&A?(Object.assign(r,Object(v.a)({},a,t)),!1):void Object.assign(r,Object(v.a)({},a,e[a]))}),a.push(r)}),a}function Pe(e){for(var a=[],t=0;t<e.length;t++){for(var n=Object(Dn.a)({},e[t]),r=0;r<S.length;r++)Object.assign(n,Object(v.a)({},S[r],(null!==e[t][S[r]]?e[t][S[r]]:[]).filter(function(e){return""!==e.label}).map(function(e){return e.label}).join(", ")));a.push(n)}return a}function Me(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=[];return Object.keys(e).map(function(t){return a.includes(t)&&a.map(function(t,r){return n.length<a.length&&n.splice(r,0,"object"===typeof e[t]?e[t].label:String(e[t]))})}),n.join(t)}function Ue(e,a){for(var t=[],n={},r=0;r<o.insertState.length;r++)"inputNumber"===o.insertState[r].formType&&t.push(o.insertState[r].key),Object.assign(n,X,Object(v.a)({},(void 0!==e.target?e.target:a).name,t.includes((void 0!==e.target?e.target:a).name)?parseInt(void 0!==e.target?e.target.value:e):void 0!==e.target?e.target.value:e));Q(n)}function Fe(e,a){Q(function(t){return Object(Dn.a)({},t,Object(v.a)({},a.name,e))})}function Be(e){fe("")}function Ke(e){p.todoFunction({filter:{_id:W.filter(function(e){return e[d]===ge})[0]._id},update:X})}function We(e){me(!1)}function He(e){ce(function(a){return Object(Dn.a)({},a,Object(v.a)({},e.target.name,e.target.value))})}Object(r.useEffect)(function(){H(_?Pe(t):t)},[t]),Object(r.useEffect)(function(){H(function(e){return e.filter(function(e){var a=[];for(var t in oe){var n="object"===typeof e[t]?e[t].label:1===e[t].split(", ").length?e[t]:e[t].split(", "),r="object"===typeof oe[t]?oe[t].label:oe[t],l=Array.isArray(n)?n.includes(r):n===r;if(oe.hasOwnProperty(t)){if(""===oe[t])continue;a.push(l?1:0)}}return F(0),""===G?a.every(function(e){return 1===e}):a.every(function(e){return 1===e})&&function(e,a){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=Object.keys(e).map(function(n){var r=void 0!==T&&T.collisonKeys?String(T.collisonKeys.map(function(e){return n===e}).includes(!0)?Me(e,T.collisonKeys,T.collisonSeparator):e[n]).toLowerCase().match(a.toLowerCase()):String(e[n]).toLowerCase().match(a.toLowerCase());return t?!!r:r});return t?n.includes(!0):t?n.includes(!0):n}(e,G)})}(_?Pe(t):t))},[oe,G]),Object(r.useEffect)(function(){o&&xe({status:c.status||p.status||o.onInsert.status||"",message:c.message||p.message||o.onInsert.message||"",loading:c.loading||p.loading||o.onInsert.loading||!1})},[c,p,o]),Object(r.useEffect)(function(){ve({status:"",message:"",loading:!1})},[]),Object(r.useEffect)(function(){void 0===p&&void 0===c&&void 0===o||("error"!==Ne.status&&"success"!==Ne.status&&"danger"!==Ne.status||(ve(Ne),me(!0)),"loading"===Ne.status&&(ve(Object(Dn.a)({},Ne,{loading:!0})),me(!1)),""!==p.status&&(F(0),fe(""))),ce(s)},[Ne]);var Je=function(){return 0!==W.length?function(e,a){var t=e.map(function(e,a){return[e,a]});return t.sort(function(e,t){var n=a(e[0],t[0]);return 0!==n?n:e[1]-t[1]}),t.map(function(e){return e[0]})}(Le(W),function(e,a){return"desc"===e?function(e,t){return js(e,t,a)}:function(e,t){return-js(e,t,a)}}(re,De)).slice(U*Te,U*Te+Te).map(function(e,r){var s,i=(s=e[d],-1!==ee.indexOf(s)),u="enhanced-table-checkbox-".concat(r);return l.a.createElement(hl.a,{"aria-checked":E&&i,selected:E&&i,role:E?"checkbox":void 0,hover:E,tabIndex:-1,key:r},E&&l.a.createElement(gl.a,{onClick:function(a){return E?function(e,a){var t=ee.indexOf(a),n=[];-1===t?n=n.concat(ee,a):0===t?n=n.concat(ee.slice(1)):t===ee.length-1?n=n.concat(ee.slice(0,-1)):t>0&&(n=n.concat(ee.slice(0,t),ee.slice(t+1))),ae(n)}(0,e[d]):a.preventDefault()},padding:"checkbox"},l.a.createElement(w.a,{checked:i,inputProps:{"aria-labelledby":u}})),function(){var e=[];return n.head.map(function(a){e.push(a.key)}),e}().map(function(a,t){var n=function(e){return void 0!==o&&1===o.insertState.filter(function(a){return a.formType===e}).filter(function(e){return e.key===a}).length},r=function(e){return void 0!==T&&T.collisonKeys&&T.collisonKeys.includes(a)?T.collisonKeys[e]:a},s=void 0!==o&&o.insertState.filter(function(e){return"inputSelect"===e.formType&&e.key===a||(T&&T.collisonKeys||[""]).includes(e.key)}).map(function(e,a){return l.a.createElement(ul,{key:a,singleValue:X[r(a)],value:null===e.formValue?[]:e.formValue,props:{inputId:r(a),placeholder:e.label},isMulti:e.multi,onChange:e.multi?Fe:Ue})}),i=l.a.createElement(ll.a,{name:a,value:X[a],onChange:Ue}),c=n("inputRadio")?l.a.createElement(Jl.a,{name:a,style:{flexDirection:"row"},value:X[a],onChange:Ue},o.insertState.filter(function(e){return"inputRadio"===e.formType}).filter(function(e){return e.key===a})[0].formValue.map(function(e){return l.a.createElement(j.a,{key:e,value:e,control:l.a.createElement(Hl.a,null),label:e})})):i,p=ge===e[d]?n("inputSelect")?s:c:""===e[a]||null===e[a]||void 0===e[a]?"Tidak ada":Array.isArray(e[a])?e[a].map(function(e){return l.a.createElement(sl.a,{label:e.label,style:{margin:1}})}):"object"===typeof e[a]?e[a].label:e[a];return 0===t&&E?l.a.createElement(gl.a,{key:t,component:"th",id:u,scope:"row",padding:"none"},p):l.a.createElement(gl.a,{key:t,align:"left"},p)}),h&&l.a.createElement(l.a.Fragment,null,l.a.createElement(gl.a,{padding:"none",align:"center"},ge===e[d]?l.a.createElement(l.a.Fragment,null,l.a.createElement(_r.a,{title:"Apply changes"},l.a.createElement(cr.a,{onClick:Ke},l.a.createElement(Wl.a,null))),l.a.createElement(_r.a,{title:"Cancel changes"},l.a.createElement(cr.a,{onClick:Be},l.a.createElement(Bl.a,null)))):l.a.createElement(_r.a,{title:"Edit data with "+d+" "+e[d]},l.a.createElement(cr.a,{onClick:function(a){return n=e[d],fe(n),void Q(void 0===T?Le(t).filter(function(e){return e[d]===n})[0]:t.filter(function(e){return e[d]===n})[0]);var n}},l.a.createElement(Gl.a,{className:a.editIcon})))),!g&&l.a.createElement(gl.a,{padding:"checkbox",align:"center"},l.a.createElement(_r.a,{title:"Delete data with "+d+" "+e[d]},l.a.createElement(cr.a,{onClick:function(a){return t=e[d],void c.todoFunction([Object(v.a)({},d,t)]);var t}},l.a.createElement(zl.a,{className:a.deleteIcon}))))))}):l.a.createElement(hl.a,{style:{height:48*Ie}},l.a.createElement(gl.a,{align:"center",component:"th",scope:"row",rowSpan:Te,colSpan:99},l.a.createElement(L.a,{variant:"body1",style:{color:"rgba(0,0,0,0.7)"}},"Tidak ada data tersedia")))},qe=function(){return s?(i||[]).map(function(e,t){var n=e.name.split("_").map(function(e){var a=e.split(""),t=a[0].toUpperCase();return a.shift(),a.unshift(t),a.join("")});return l.a.createElement(C.a,{key:t,className:a.formControl},l.a.createElement(x.a,{style:{fontSize:"0.85rem",letterSpacing:0,color:"rgba(0,0,0,0.75)"},htmlFor:e.id},n.join(" ")),l.a.createElement(xn.a,{value:oe[e.name],onChange:He,inputProps:i[t]},l.a.createElement(In.a,{value:""},l.a.createElement("em",null,"None")),e.items.map(function(e,a){return l.a.createElement(In.a,{key:a,value:e},e)})),l.a.createElement(yl.a,null,"Filter with ",n.join(" ")))}):void 0},Ge=function(){return l.a.createElement(hl.a,null,l.a.createElement(gl.a,{rowSpan:Te,align:"center",component:"th",scope:"row",colSpan:99},l.a.createElement(An.a,null,l.a.createElement(Ul.a,{className:a.progress,color:"secondary"}),l.a.createElement(L.a,{variant:"body1",style:{color:"rgba(0,0,0,0.7)"}},"Sedang memuat data, silahkan tunggu..."))))};return l.a.createElement(u.a,{theme:xs},l.a.createElement(I.a,{className:a.root},l.a.createElement(As,{inputProps:qe(),insertState:void 0!==o&&o.insertState||[],numSelected:ee.length,onChange:function(e){Y(e.target.value)},onDelete:function(e){for(var a=[],t=0;t<ee.length;t++)a.push(Object(v.a)({},d,ee[t]));c.todoFunction(a),ae([])},onInsert:void 0!==o?o.onInsert:void 0,rowKey:e.rowKey,tableTitle:y,removeAdd:f,withActions:h,withFilter:b}),l.a.createElement(or.a,null),l.a.createElement(ml.a,{className:a.table,size:"medium"},l.a.createElement(El.a,null,l.a.createElement(hl.a,null,l.a.createElement(Cs,{componentProps:n,data:t.length,numSelected:ee.length,order:re,orderBy:De,onSelectAllClick:function(e){if(e.target.checked){var a=W.map(function(e){return e[d]});ae(a)}else ae([])},onRequestSort:function(e,a){le(De===a&&"desc"===re?"asc":"desc"),Ce(a)},rowCount:W.length,withActions:h,withCheckbox:E}))),l.a.createElement(fl.a,{className:a.stripped},e.loadingData?Ge():Je(),Ie>0&&0!==W.length&&l.a.createElement(hl.a,{style:{height:48*Ie}},l.a.createElement(gl.a,{colSpan:99}))),l.a.createElement(Rl.a,null,l.a.createElement(hl.a,null,l.a.createElement(vl.a,{rowsPerPageOptions:m,colSpan:99,count:W.length,rowsPerPage:Te,page:U,SelectProps:{native:!0},onChangePage:function(e,a){F(a)},onChangeRowsPerPage:function(e){ke(parseInt(e.target.value,10))},ActionsComponent:rs}))))),de&&l.a.createElement(Il.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:de,autoHideDuration:6e3,onClose:We},l.a.createElement(Ll.a,{className:Object(al.a)(a[Se.status]),"aria-describedby":"client-snackbar",message:l.a.createElement("span",{id:"client-snackbar",className:a.message||""},l.a.createElement(function(e){return ws[Se.status]||l.a.createElement(Ul.a,{color:"inherit",style:{marginRight:16}})},{className:Object(al.a)(a.iconVariant)}),l.a.createElement("span",{className:a.snText},Se.message||"")),action:[l.a.createElement(cr.a,{key:"close","aria-label":"Close",color:"inherit",onClick:We},l.a.createElement(Bl.a,null))]})),Se.loading&&l.a.createElement(Il.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:Se.loading},l.a.createElement(Ll.a,{className:Object(al.a)(a.info),"aria-describedby":"client-snackbar",message:l.a.createElement("span",{id:"client-snackbar",className:a.message},l.a.createElement(Ul.a,{color:"inherit",style:{marginRight:16}}),"Sedang mengirim request ke database...")})))};var Ls=Object(E.b)(function(e){return{class:e.class,request:e.requestResponse}},function(e){return{readClassRecords:function(){return e(mn())},insertClassRecords:function(a){return e(function(e){return function(a){return!!G("token")&&(a({type:ue}),W.a.post(cn.class,JSON.stringify(e),{headers:{Authorization:"Bearer "+H("token")[0]}}).then(function(e){var t=e.data;return a({type:we,payload:t})}).then(function(){return a({type:ce})}).catch(function(e){var t=e.response;return un(Ne,t,a)}))}}(a))},updateClassRecords:function(a){return e(function(e){return function(a){return!!G("token")&&(a({type:ue}),W.a.put(cn.class,JSON.stringify(e),{headers:{Authorization:"Bearer "+H("token")[0]}}).then(function(e){var t=e.data;return a({type:xe,payload:t})}).then(function(){return a({type:ce})}).catch(function(e){var t=e.response;return un(Ie,t,a)}))}}(a))},deleteClassRecords:function(a){return e(function(e){return function(a){return!!G("token")&&(a({type:ue}),W.a.delete(cn.class,{headers:{Authorization:"Bearer "+H("token")[0]},data:e}).then(function(e){var t=e.data;return a({type:Ce,payload:t})}).then(function(){return a({type:ce})}).catch(function(e){var t=e.response;return un(je,t,a)}))}}(a))}}})(function(e){Object(r.useEffect)(function(){(0===e.class.data.length||"success"===e.request.status)&&e.readClassRecords()},[e.request]);var a={status:e.request.status,message:e.request.message,loading:e.request.loading},t={insertState:[{key:"kode_kelas",label:"Kode Kelas",formType:"inputString"},{key:"nama_kelas",label:"Nama Kelas",formType:"inputString"}],onInsert:Object(Dn.a)({todoFunction:e.insertClassRecords},a)};return l.a.createElement(l.a.Fragment,null,l.a.createElement(Fs,e),l.a.createElement(Is,{data:e.class.data,onDelete:Object(Dn.a)({todoFunction:e.deleteClassRecords},a),onUpdate:Object(Dn.a)({todoFunction:e.updateClassRecords},a),rowKey:["Kode Kelas","Nama Kelas"],loadingData:e.class.loading,insertProps:t,primaryKey:"kode_kelas",tableTitle:"Tabel Kelas",withActions:!0,withCheckbox:!0,componentProps:{head:[{key:"kode_kelas",label:"Kode Kelas"},{key:"nama_kelas",label:"Nama Kelas"}]},rowsPerPageArr:[6,12,18]}))});var Ps=t(1067);var Ms=Object(On.a)(function(e){return{root:{backgroundColor:"white",padding:e.spacing(.5),color:Y("#000000",.7),fontWeight:e.typography.fontWeightRegular,transition:"all 0.2 linear",boxShadow:"0 2px 10px 0 rgba(0, 0, 0,.14), 0 4px 5px -5px ".concat(Y("#000000",.4)),"&:hover, &:focus":{backgroundColor:e.palette.grey[300],boxShadow:"none",cursor:"pointer"},"&:active":{boxShadow:e.shadows[1],backgroundColor:Object(nl.b)(e.palette.grey[300],.12)}}}})(sl.a),Us=k()(function(e){return jn()({breadCrumb:{borderRadius:e.spacing(1)},avatar:{background:"none",marginRight:-e.spacing(1.5),color:Y("#000000",.7)}})}),Fs=function(e){var a=Us(),t=Object(r.useState)([]),n=Object(R.a)(t,2),s=n[0],i=n[1];return Object(r.useEffect)(function(){for(var a=e.location.pathname.split("/").filter(function(e){return"#"!==e&&!!e}),t=[],n=0;n<a.length;n++){for(var r=a[n].split("_"),l=0;l<r.length;l++){var s=r[l].split(""),o=r[l][0].toUpperCase();s.shift(),s.unshift(o),r.splice(l,1,s.join(""))}var c="/"+a.slice(0,n+1).join("/"),u=n<2&&Wr.filter(function(e){return e.path===c})[0].icon;t.push(n<2?{path:c,label:r.join(" "),icon:u}:{path:c,label:r.join(" ")})}i(t)},[]),l.a.createElement(l.a.Fragment,null,s.length>1&&l.a.createElement(Ps.a,{separator:"/",className:a.breadCrumb,"aria-label":"Breadcrumb"},s.map(function(e,t){var n=l.a.forwardRef(function(a,t){return l.a.createElement(m.b,Object.assign({innerRef:t},a,{to:e.path}))});return l.a.createElement(Ms,{key:e.path,component:n,label:e.label,avatar:e.icon&&l.a.createElement(O.a,{className:a.avatar},e.icon)})})))},Bs=Object(E.b)(function(e){return{student:e.student,class:e.class,request:e.requestResponse,setting:e.settings.application,grades:e.misc.grades,class_on_school_year:e.classOnSchoolYear}},function(e){return{deleteStudentRecords:function(a){return e(function(e){return function(a){var t=H("token")[0];return 0!==H("token").length&&""!==t&&void 0!==t&&(a({type:ue}),W.a.delete(cn.student,{data:e,headers:{Authorization:"Bearer "+t}}).then(function(e){var t=e.data;return a({type:pe,payload:t})}).then(function(){return a({type:ce})}).catch(function(e){var t=e.response;return un(de,t,a)}))}}(a))},insertStudentRecords:function(a){return e(function(e){return function(a){return!!G("token")&&(a({type:ue}),W.a.post(cn.student,JSON.stringify(e),{headers:{Authorization:"Bearer "+H("token")[0]}}).then(function(e){var t=e.data;return a({type:me,payload:t})}).then(function(){return a({type:ce})}).catch(function(e){var t=e.response;return un(Ee,t,a)}))}}(a))},updateStudentRecords:function(a){return e(function(e){return function(a){return!!G("token")&&(a({type:ue}),W.a.put(cn.student,JSON.stringify(e),{headers:{Authorization:"Bearer "+H("token")[0]}}).then(function(e){var t=e.data;return a({type:he,payload:t})}).then(function(){return a({type:ce})}).catch(function(e){var t=e.response;return un(ge,t,a)}))}}(a))},getClassOnSchoolYear:function(){return e(er())},makeStudentRequest:function(){return e(dn())},readClassRecords:function(){return e(mn())},readGradesList:function(){return e(tr())}}})(function(e){var a=Object(r.useState)(!0),t=Object(R.a)(a,2),n=t[0],s=t[1];Object(r.useEffect)(function(){!n&&(0===e.student.data.length||"success"===e.request.status)&&e.makeStudentRequest()},[e.request,n]),Object(r.useEffect)(function(){s(!1)},[]),Object(r.useEffect)(function(){n||(!e.class_on_school_year.is_requested&&e.getClassOnSchoolYear(),0===e.class.data.length&&e.readClassRecords(),0===e.grades.data.length&&e.readGradesList())},[n]);var i={status:e.request.status,message:e.request.message,loading:e.request.loading},o={insertState:[{key:"nis",label:"NIS",formType:"inputNumber"},{key:"nama",label:"Nama",formType:"inputString"},{key:"kelas",label:"Kelas",formType:"inputSelect",formValue:e.grades.data.map(function(e){return{label:e,value:e}})},{key:"jurusan",label:"Jurusan",formType:"inputSelect",formValue:e.class.data.map(function(e){return{label:e.nama_kelas,value:e.kode_kelas}})},{key:"jeniskelamin",label:"Jenis Kelamin",formType:"inputRadio",formValue:["L","P"]}],onInsert:Object(Dn.a)({todoFunction:function(a){var t=a.map(function(a){return Object(Dn.a)({},a,{tahun_masuk:"object"===typeof a.jurusan?e.class_on_school_year.school_year_on_grade[a.kelas.value]||0:a.TahunMasuk,jurusan:e.class.data.filter(function(e){return e.kode_kelas===("object"===typeof a.jurusan?a.jurusan.value:a.Jurusan)}).map(function(e){return{value:e.kode_kelas,label:e.nama_kelas}})[0]})});e.insertStudentRecords(t)}},i)},c=[{name:"kelas",id:"filter-grade",items:e.grades.data},{name:"jurusan",id:"filter-class",items:e.class.data.map(function(e){return e.nama_kelas})}];return l.a.createElement(l.a.Fragment,null,l.a.createElement(Fs,e),l.a.createElement(Is,{data:0===e.student.data.length?[]:e.student.data.map(function(a){return Object(Dn.a)({},a,{kelas:{label:e.class_on_school_year.grade_on_school_year[a.tahun_masuk]||"Other",value:e.class_on_school_year.grade_on_school_year[a.tahun_masuk]||"Other"}})}),onDelete:Object(Dn.a)({todoFunction:e.deleteStudentRecords},i),onUpdate:Object(Dn.a)({todoFunction:function(a){e.updateStudentRecords(Object(Dn.a)({},a,{update:Object(Dn.a)({},a.update,{tahun_masuk:e.class_on_school_year.school_year_on_grade[a.update.kelas.value]||0})}))}},i),rowKey:["NIS","Nama","Jurusan","Jenis Kelamin","Tahun Masuk"],insertProps:o,loadingData:e.student.loading,primaryKey:"nis",tableTitle:"Person Table",withActions:!0,withCheckbox:!0,withFilter:!0,collisonState:{collisonKeys:["kelas","jurusan"],collisonIndex:2,collisonSeparator:" ",changeRowsKey:"jeniskelamin",collisonChangeRowsValue:function(e,a){return"L"===e[a]?"Laki-Laki":"P"===e.jeniskelamin?"Perempuan":"Other"}},filterProps:{kelas:"",jurusan:""},inputProps:c,componentProps:{head:[{key:"nis",label:"NIS"},{key:"nama",label:"Nama"},{key:"kelas",label:"Kelas"},{key:"jeniskelamin",label:"Jenis Kelamin"}]},rowsPerPageArr:[10,15,20]}))}),Ks=t(997),Ws=Nn()(function(e){return jn()({root:{},flexContainer:{flexDirection:"column",alignItems:"center",padding:e.spacing(1.5)},indicator:{backgroundColor:"inherit"}})})(vn.a),Hs=Nn()(function(e){return jn()({root:{padding:e.spacing(1,0),margin:e.spacing(1,0),borderRadius:e.spacing(3),"&$selected":{color:"white",backgroundColor:e.palette.primary.dark}},selected:{boxShadow:"0 4px 20px 0px rgba(0, 0, 0, 0.14), 0 7px 10px -5px "+Y(e.palette.primary.dark,.4),color:"white",backgroundColor:e.palette.primary.dark,transition:e.transitions.create(["color","background-color"],{duration:e.transitions.duration.complex})}})})(Rn.a),Js=t(1059),qs=function(e){function a(){var e,t;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(f.a)(this,(e=Object(b.a)(a)).call.apply(e,[this].concat(r)))).state={defaultData:{tahun_ajaran:0,semester:0,nama_sekolah:"",deskripsi_sekolah:""},editable:{tahun_ajaran:{state:!1,value:t.props.appSetting.application.tahun_ajaran},semester:{state:!1,value:t.props.appSetting.application.semester},nama_sekolah:{state:!1,value:t.props.appSetting.application.nama_sekolah},deskripsi_sekolah:{state:!1,value:t.props.appSetting.application.deskripsi_sekolah}},mounted:!1},t.handleEditable=function(e){t.setState(function(a){return{editable:Object(Dn.a)({},a.editable,Object(v.a)({},e,Object(Dn.a)({},a.editable[e],{state:!a.editable[e].state})))}})},t.onBlurDefaultVal=function(e){t.state.defaultData[e.target.name]="tahun_ajaran"===e.target.name||"semester"===e.target.name?parseInt(e.target.value):e.target.value},t.handleSubmitDefaultVals=function(){t.props.todoFn.insertAppSetting({tab:"application",data:t.state.defaultData})},t.handlePutSetting=function(e){t.props.todoFn.updateAppSetting({type:"*",tab:"application",data:{tahun_ajaran:t.state.editable.tahun_ajaran.value,nama_sekolah:t.state.editable.nama_sekolah.value,deskripsi_sekolah:t.state.editable.deskripsi_sekolah.value,semester:t.state.editable.semester.value}}),t.handleEditable(e)},t.handleSendPostData=function(e){t.setState({editable:Object(Dn.a)({},t.state.editable,Object(v.a)({},String(e.target.name),Object(Dn.a)({},t.state.editable[e.target.name],{value:"tahun_ajaran"===e.target.name||"semester"===e.target.name?parseInt(e.target.value):e.target.value})))})},t}return Object(_.a)(a,e),Object(g.a)(a,[{key:"componentDidMount",value:function(){this.setState({mounted:!0})}},{key:"render",value:function(){var e=this;return console.log(this.state.editable),l.a.createElement(Ks.a,{in:0===this.props.tab},l.a.createElement(An.a,{className:this.props.classes.gridOpt},l.a.createElement(L.a,{className:this.props.classes.title},"Application Setting"),l.a.createElement(An.a,{container:!0,alignItems:"center"},this.state.editable.nama_sekolah.state?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:this.props.classes.eachInput},l.a.createElement(ll.a,{variant:"outlined",name:"nama_sekolah",fullWidth:!0,value:this.state.editable.nama_sekolah.value,onChange:this.handleSendPostData,label:"Nama Sekolah"})),l.a.createElement(_r.a,{title:"Apply",onClick:function(){return e.handlePutSetting("nama_sekolah")}},l.a.createElement(cr.a,null,l.a.createElement(Wl.a,null))),l.a.createElement(_r.a,{title:"Cancel",onClick:function(){return e.handleEditable("nama_sekolah")}},l.a.createElement(cr.a,null,l.a.createElement(Bl.a,null)))):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:this.props.classes.eachInput},l.a.createElement(L.a,null,"Nama Sekolah"),l.a.createElement(L.a,{variant:"caption"},this.state.editable.nama_sekolah.value)),l.a.createElement(_r.a,{title:"Ubah nama sekolah",onClick:function(){return e.handleEditable("nama_sekolah")}},l.a.createElement(cr.a,null,l.a.createElement(Gl.a,null))))),l.a.createElement(An.a,{container:!0,alignItems:"center"},this.state.editable.deskripsi_sekolah.state?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:this.props.classes.eachInput},l.a.createElement(ll.a,{variant:"outlined",multiline:!0,rows:5,fullWidth:!0,value:this.state.editable.deskripsi_sekolah.value,name:"deskripsi_sekolah",onChange:this.handleSendPostData,label:"Deskripsi Sekolah"})),l.a.createElement(_r.a,{title:"Apply",onClick:function(){return e.handlePutSetting("deskripsi_sekolah")}},l.a.createElement(cr.a,null,l.a.createElement(Wl.a,null))),l.a.createElement(_r.a,{title:"Cancel",onClick:function(){return e.handleEditable("deskripsi_sekolah")}},l.a.createElement(cr.a,null,l.a.createElement(Bl.a,null)))):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:this.props.classes.eachInput},l.a.createElement(L.a,null,"Deskripsi Sekolah"),l.a.createElement(L.a,{variant:"caption"},this.state.editable.deskripsi_sekolah.value)),l.a.createElement(_r.a,{title:"Ubah deskripsi sekolah",onClick:function(){return e.handleEditable("deskripsi_sekolah")}},l.a.createElement(cr.a,null,l.a.createElement(Gl.a,null))))),l.a.createElement(An.a,{container:!0,alignItems:"center"},this.state.editable.tahun_ajaran.state?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:this.props.classes.eachInput},l.a.createElement(ll.a,{variant:"outlined",label:"Tahun Ajaran",type:"number",fullWidth:!0,name:"tahun_ajaran",value:this.state.editable.tahun_ajaran.value,onChange:this.handleSendPostData})),l.a.createElement(_r.a,{title:"Apply",onClick:function(){return e.handlePutSetting("tahun_ajaran")}},l.a.createElement(cr.a,null,l.a.createElement(Wl.a,null))),l.a.createElement(_r.a,{title:"Cancel",onClick:function(){return e.handleEditable("tahun_ajaran")}},l.a.createElement(cr.a,null,l.a.createElement(Bl.a,null)))):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:this.props.classes.eachInput},l.a.createElement(L.a,null,"Tahun Ajaran"),l.a.createElement(L.a,{variant:"caption"},this.state.editable.tahun_ajaran.value)),l.a.createElement(_r.a,{title:"Ubah tahun ajaran",onClick:function(){return e.handleEditable("tahun_ajaran")}},l.a.createElement(cr.a,null,l.a.createElement(Gl.a,null))))),l.a.createElement(An.a,{container:!0,alignItems:"center"},this.state.editable.semester.state?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:this.props.classes.eachInput},l.a.createElement(x.a,null,"Semester"),l.a.createElement(xn.a,{onChange:this.handleSendPostData,inputProps:{name:"semester"},value:this.state.editable.semester.value},l.a.createElement(In.a,{value:1},"Ganjil"),l.a.createElement(In.a,{value:2},"Genap"))),l.a.createElement(_r.a,{title:"Apply",onClick:function(){return e.handlePutSetting("semester")}},l.a.createElement(cr.a,null,l.a.createElement(Wl.a,null))),l.a.createElement(_r.a,{title:"Cancel",onClick:function(){return e.handleEditable("semester")}},l.a.createElement(cr.a,null,l.a.createElement(Bl.a,null)))):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:this.props.classes.eachInput},l.a.createElement(L.a,null,"Semester"),l.a.createElement(L.a,{variant:"caption"},1===this.state.editable.semester.value?"Ganjil":"Genap")),l.a.createElement(_r.a,{title:"Ubah semester",onClick:function(){return e.handleEditable("semester")}},l.a.createElement(cr.a,null,l.a.createElement(Gl.a,null))))),l.a.createElement(zn.a,{open:this.props.appSetting.error&&"success"!==this.props.todoSetting.status},l.a.createElement(gs.a,{title:"Lengkapi data sekolah dan konfigurasi aplikasi"}),l.a.createElement(Vn.a,null,l.a.createElement(An.a,{container:!0},l.a.createElement(ll.a,{type:"number",name:"tahun_ajaran",label:"Tahun ajaran",onBlur:this.onBlurDefaultVal,placeholder:"Tahun ajaran"}),l.a.createElement(C.a,null,l.a.createElement(x.a,null,"Pilih Semester"),l.a.createElement(xn.a,{value:this.state.defaultData.semester,onChange:this.onBlurDefaultVal,inputProps:{name:"semester"}},l.a.createElement(In.a,{value:1},"Ganjil"),l.a.createElement(In.a,{value:2},"Genap")))),l.a.createElement(ll.a,{type:"string",name:"nama_sekolah",label:"Nama sekolah",onBlur:this.onBlurDefaultVal,placeholder:"Nama sekolah"}),l.a.createElement(ll.a,{multiline:!0,label:"Deskripsi sekolah",name:"deskripsi_sekolah",fullWidth:!0,onBlur:this.onBlurDefaultVal,placeholder:"Deskripsi sekolah...",rows:10})),l.a.createElement(Es.a,null,l.a.createElement(A.a,{variant:"contained",color:"primary",onClick:this.handleSubmitDefaultVals},"Selesai")))))}}]),a}(l.a.Component),Gs=Nn()(function(e){return jn()({eachInput:{marginRight:e.spacing(6),marginBottom:e.spacing(2)},gridOpt:{marginLeft:e.spacing(6),padding:e.spacing(2,2)},title:{marginBottom:e.spacing(2),letterSpacing:-.5,fontSize:e.typography.subtitle1.fontSize,fontWeight:300}})})(qs),Ys=function(e){function a(){var e,t;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(f.a)(this,(e=Object(b.a)(a)).call.apply(e,[this].concat(r)))).state={tab:0,editable:{tahun_ajaran:!1},snackOpen:!1},t.todoFn={insertAppSetting:function(e){return t.props.insertAppSetting(e)},updateAppSetting:function(e){return t.props.updateAppSetting(e)},readAppSetting:function(e){return t.props.readAppSetting(e)}},t.handleChangeTab=function(e,a){t.setState({tab:a})},t.handleEditable=function(e){t.setState(function(a){return{editable:Object(Dn.a)({},a.editable,Object(v.a)({},e,!a.editable.tahun_ajaran))}})},t.onClose=function(){t.setState({snackOpen:!1})},t}return Object(_.a)(a,e),Object(g.a)(a,[{key:"componentDidUpdate",value:function(e,a){e.todoSetting.status!==this.props.todoSetting.status&&(this.props.todoSetting.status?this.setState({snackOpen:!0}):this.setState({snackOpen:!1}),"success"===this.props.todoSetting.status&&this.props.readAppSetting("application"))}},{key:"render",value:function(){return l.a.createElement(I.a,null,l.a.createElement(L.a,{variant:"subtitle1",className:this.props.classes.title},"Settings Navigation"),l.a.createElement(An.a,{container:!0,className:this.props.classes.wrapper},l.a.createElement(An.a,{container:!0},l.a.createElement(Ws,{value:this.state.tab,onChange:this.handleChangeTab},l.a.createElement(Hs,{label:"Application"}),l.a.createElement(Hs,{label:"Profile"}),l.a.createElement(Hs,{label:"Options"})),0===this.state.tab&&l.a.createElement(Gs,{todoFn:this.todoFn,todoSetting:this.props.todoSetting,appSetting:this.props.setting,tab:this.state.tab}),1===this.state.tab&&l.a.createElement(Ks.a,{in:1===this.state.tab},l.a.createElement(L.a,{variant:"caption"},"Profile Setting")),2===this.state.tab&&l.a.createElement(Ks.a,{in:2===this.state.tab},l.a.createElement(L.a,{variant:"caption"},"Options Setting")))),!!this.props.todoSetting.status&&l.a.createElement(Il.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.snackOpen,autoHideDuration:2e3},l.a.createElement(Ll.a,{className:this.props.classes[this.props.todoSetting.status],message:l.a.createElement("span",{className:this.props.classes.message},"loading"===this.props.todoSetting.status?l.a.createElement(l.a.Fragment,null,l.a.createElement(Ul.a,{color:"inherit",className:this.props.classes.circProgress}),l.a.createElement(L.a,{variant:"body1"},"Sedang memproses data...")):l.a.createElement(l.a.Fragment,null,"error"===this.props.todoSetting.status?l.a.createElement(Al.a,{className:this.props.classes.iconVariant}):l.a.createElement(kl.a,{className:this.props.classes.iconVariant}),this.props.todoSetting.message)),action:[l.a.createElement(cr.a,{key:"close","aria-label":"Close",color:"inherit",onClick:this.onClose},l.a.createElement(Bl.a,{className:this.props.classes.icon}))]})))}}]),a}(l.a.Component),zs=Object(E.b)(function(e){return{setting:e.settings,todoSetting:e.todoRequest}},function(e){return{insertAppSetting:function(a){return e(function(e){return function(a){a({type:ba,payload:{method:"post",url:cn.setting+"/"+e.tab+sn,data:e.data,type:{success:fa,error:_a}}})}}(a))},updateAppSetting:function(a){return e(function(e){return function(a){a({type:ha,payload:{method:"put",url:cn.setting+"/"+e.tab+"/"+e.type+sn,data:e.data,type:{success:Ea,error:ga}}})}}(a))},readAppSetting:function(a){return e(gn(a))}}})(Nn()(function(e){return jn()({wrapper:{padding:e.spacing(0,2)},icon:{fontSize:20},circProgress:{margin:e.spacing(0,1)},iconVariant:{opacity:.9,marginRight:e.spacing(1)},thnAjaran:{marginRight:e.spacing(6)},gridOpt:{marginLeft:e.spacing(2),padding:e.spacing(0,2)},error:{backgroundColor:e.palette.error.main},loading:{backgroundColor:e.palette.primary.main},success:{backgroundColor:Js.a[600]},message:{display:"flex",alignItems:"center"},title:{padding:e.spacing(2,6),letterSpacing:-.5,fontSize:e.typography.h6.fontSize,fontWeight:300}})})(Ys));var Vs=Object(E.b)(function(e){return{subject:e.subject,class:e.class,grades:e.misc.grades,request:e.requestResponse}},function(e){return{readSubjectRecords:function(){return e(En())},readClassRecords:function(){return e(mn())},getGradesList:function(){return e(tr())},insertSubjectRecords:function(a){return e(function(e){return function(a){return!!G("token")&&(a({type:ue}),W.a.post(cn.subject,JSON.stringify(e),{headers:{Authorization:"Bearer "+H("token")[0]}}).then(function(e){var t=e.data;return a({type:Be,payload:t})}).then(function(){return a({type:ce})}).catch(function(e){var t=e.response;return un(Ke,t,a)}))}}(a))},updateSubjectRecords:function(a){return e(function(e){return function(a){return!!G("token")&&(a({type:ue}),W.a.put(cn.subject,JSON.stringify(e),{headers:{Authorization:"Bearer "+H("token")[0]}}).then(function(e){var t=e.data;return a({type:We,payload:t})}).then(function(){return a({type:ce})}).catch(function(e){var t=e.response;return un(He,t,a)}))}}(a))},deleteSubjectRecords:function(a){return e(function(e){return function(a){return!!G("token")&&(a({type:ue}),W.a.delete(cn.subject,{headers:{Authorization:"Bearer "+H("token")[0]},data:e}).then(function(e){var t=e.data;return a({type:Ue,payload:t})}).then(function(){return a({type:ce})}).catch(function(e){var t=e.response;return un(Fe,t,a)}))}}(a))}}})(function(e){var a=Object(r.useState)(!0),t=Object(R.a)(a,2),n=t[0],s=t[1];Object(r.useEffect)(function(){(0===e.subject.data.length||"success"===e.request.status)&&e.readSubjectRecords()},[e.request]),Object(r.useEffect)(function(){n||(0===e.class.data.length&&e.readClassRecords(),0===e.grades.data.length&&e.getGradesList())},[n]),Object(r.useEffect)(function(){s(!1)},[]);var i={status:e.request.status,message:e.request.message,loading:e.request.loading},o={insertState:[{key:"kode_mapel",label:"Kode Mapel",formType:"inputString"},{key:"nama_mapel",label:"Nama Mapel",formType:"inputString"},{key:"kelompok_mapel",label:"Kelompok Mapel",formType:"inputSelect",formValue:[{value:"umum",label:"Umum"},{value:"khusus",label:"Khusus"}]},{key:"mapel_kelas",label:"Mapel Kelas (Kelompok Khusus)",formType:"inputSelect",multi:!0,formValue:e.grades.data.map(function(a){return e.class.data.map(function(e){return{value:a+" "+e.kode_kelas,label:a+" "+e.nama_kelas}})}).flat(1).sort(function(e,a){return e.label>a.label?1:-1})}],onInsert:Object(Dn.a)({todoFunction:function(a){e.insertSubjectRecords(a)}},i)},c=[{name:"kelompok_mapel",id:"filter-kelompok_mapel",items:["Umum","Khusus"]},{name:"mapel_kelas",id:"filter-mapel_kelas",items:e.grades.data.map(function(a){return e.class.data.map(function(e){return a+" "+e.nama_kelas})}).flat(1).sort(function(e,a){return e>a?1:-1})}];return l.a.createElement(l.a.Fragment,null,l.a.createElement(Fs,e),l.a.createElement(Is,{data:e.subject.data,onDelete:Object(Dn.a)({todoFunction:e.deleteSubjectRecords},i),onUpdate:Object(Dn.a)({todoFunction:e.updateSubjectRecords},i),rowKey:["Kode Mapel","Nama Mapel"],loadingData:e.subject.loading,insertProps:o,inputProps:c,filterProps:{kelompok_mapel:"",mapel_kelas:""},primaryKey:"kode_mapel",tableTitle:"Tabel Mapel",withActions:!0,withCheckbox:!0,withFilter:!0,withMultival:!0,multiValKey:["mapel_kelas"],componentProps:{head:[{key:"kode_mapel",label:"Kode Mapel"},{key:"nama_mapel",label:"Nama Mapel"},{key:"kelompok_mapel",label:"Kelompok Mapel"},{key:"mapel_kelas",label:"Mapel Kelas"}]},rowsPerPageArr:[6,12,18]}))});var Xs=Object(E.b)(function(e){return{request:e.requestResponse,grades_data:e.misc.grades,teacher_data:e.teacher,class_data:e.class,subject:e.subject}},function(e){return{insertTeacherRecords:function(a){return e(function(e){return function(a){return!!G("token")&&(a({type:ue}),W.a.post(cn.teacher+sn,JSON.stringify(e),{headers:{Authorization:"Bearer "+H("token")[0]}}).then(function(e){var t=e.data;return a({type:Re,payload:t})}).then(function(){return a({type:ce})}).catch(function(e){var t=e.response;return un(ye,t,a)}))}}(a))},updateTeacherRecords:function(a){return e(function(e){return function(a){return!!G("token")&&(a({type:ue}),W.a.put(cn.teacher+sn,JSON.stringify(e),{headers:{Authorization:"Bearer "+H("token")[0]}}).then(function(e){var t=e.data;return a({type:Te,payload:t})}).then(function(){return a({type:ce})}).catch(function(e){var t=e.response;return un(ke,t,a)}))}}(a))},deleteTeacherRecords:function(a){return e(function(e){return function(a){return!!G("token")&&(a({type:ue}),W.a.delete(cn.teacher+sn,{headers:{Authorization:"Bearer "+H("token")[0]},data:e}).then(function(e){var t=e.data;return a({type:Se,payload:t})}).then(function(){return a({type:ce})}).catch(function(e){var t=e.response;return un(ve,t,a)}))}}(a))},readSubjectRecords:function(){return e(En())},getTeacherRecords:function(){return e(function(e){e({type:fe,payload:{method:"get",url:cn.teacher+sn,type:{success:be,error:_e}}})})},getClassRecords:function(){return e(mn())},getGradesList:function(){return e(tr())}}})(function(e){var a=Object(r.useState)(!0),t=Object(R.a)(a,2),n=t[0],s=t[1];Object(r.useEffect)(function(){!n&&0===e.teacher_data.data.length&&e.getTeacherRecords()},[n]),Object(r.useEffect)(function(){("error"===e.request.status||"success"===e.request.status)&&e.getTeacherRecords()},[e.request]),Object(r.useEffect)(function(){s(!1)},[]),Object(r.useEffect)(function(){n||(0===e.class_data.data.length&&e.getClassRecords(),0===e.subject.data.length&&e.readSubjectRecords(),0===e.grades_data.data.length&&e.getGradesList())},[n]);var i={status:e.request.status,message:e.request.message,loading:e.request.loading};console.log(e.grades_data.data);var o={insertState:[{key:"nip",label:"NIP",formType:"inputString"},{key:"nama",label:"Nama",formType:"inputString"},{key:"mapel",label:"Mapel diampu",formType:"inputSelect",multi:!0,formValue:e.subject.data.map(function(e){return{label:e.nama_mapel,value:e.kode_mapel}})},{key:"kelas_diampu",label:"Kelas diampu",formType:"inputSelect",multi:!0,formValue:e.class_data.data.map(function(a){return e.grades_data.data.map(function(e){return{label:e+" "+a.nama_kelas,value:e+" "+a.kode_kelas}})}).flat(1).sort(function(e,a){return e.label>a.label?1:-1})},{key:"wali",label:"Wali Kelas",formType:"inputSelect",multi:!1,formValue:[].concat(Object(Xr.a)(e.class_data.data.map(function(a){return e.grades_data.data.map(function(e){return{label:e+" "+a.nama_kelas,value:e+" "+a.kode_kelas}})}).flat(1)),[{label:"Bukan wali",value:"bukan_wali"}]).sort(function(e,a){return e.label>a.label?1:-1})},{key:"jeniskelamin",label:"Jenis Kelamin",formType:"inputRadio",formValue:["L","P"]}],onInsert:Object(Dn.a)({todoFunction:function(a){var t=Object.keys(a[0]).filter(function(e){return"mapel"===e||"MapelDiampu"===e})[0],n=Object.keys(a[0]).filter(function(e){return"kelas_diampu"===e||"KelasDiampu"===e})[0],r=function(e,a){return 1===a[e].split(",").length?a[e]:a[e].split(",").map(function(e,a){if(" "===e.split("")[0]){var t=e.split("");return t.shift(),t.join("")}return e.split("").join("")})},l="MapelDiampu"===t&&a.map(function(a){var l="MapelDiampu"===t&&r(t,a),s="KelasDiampu"===n?r(n,a):a[n];return console.log(s),{Nama:a.Nama,JenisKelamin:a.JenisKelamin,NIP:parseInt(a.NIP),kelas_diampu:a.KelasDiampu?(Array.isArray(s)?s:[s]).map(function(a){var t=a.split(" ")[1],n=a.split(" ")[0];return e.class_data.data.filter(function(e){return e.kode_kelas===t}).map(function(e){return{value:n+" "+e.kode_kelas,label:n+" "+e.nama_kelas}})[0]}):[],mapel:e.subject.data.filter(function(e){return Array.isArray(l)?l.includes(e.kode_mapel):e.kode_mapel===l}).map(function(e){return{label:e.nama_mapel,value:e.kode_mapel}})}});a=a.map(function(e){return Object(Dn.a)({},e,{nip:parseInt(e.nip)})}),e.insertTeacherRecords("MapelDiampu"===t?l:a)}},i)},c=[{name:"mapel",id:"filter-mapel",items:e.subject.data.map(function(e){return e.nama_mapel})},{name:"kelas_diampu",id:"filter-kelas_diampu",items:e.class_data.data.map(function(a){return e.grades_data.data.map(function(e){return e+" "+a.nama_kelas})}).flat(1).sort(function(e,a){return e.label>a.label?1:-1})}];return l.a.createElement(l.a.Fragment,null,l.a.createElement(Fs,e),l.a.createElement(Is,{data:e.teacher_data.data,onDelete:Object(Dn.a)({todoFunction:e.deleteTeacherRecords},i),onUpdate:Object(Dn.a)({todoFunction:e.updateTeacherRecords},i),rowKey:["NIP","Nama","Mapel Diampu","Kelas Diampu","Jenis Kelamin"],collisonState:{changeRowsKey:"jeniskelamin",collisonChangeRowsValue:function(e,a){return"L"===e[a]?"Laki-Laki":"P"===e[a]?"Perempuan":"Other"}},loadingData:e.teacher_data.loading,insertProps:o,primaryKey:"nip",tableTitle:"Tabel Guru",withActions:!0,withCheckbox:!0,withFilter:!0,withMultival:!0,multiValKey:["mapel","kelas_diampu"],filterProps:{mapel:"",kelas_diampu:""},inputProps:c,componentProps:{head:[{key:"nip",label:"NIP"},{key:"nama",label:"Nama"},{key:"mapel",label:"Mapel diampu"},{key:"kelas_diampu",label:"Kelas Diampu"},{key:"wali",label:"Wali Kelas"},{key:"jeniskelamin",label:"Jenis Kelamin"}]},rowsPerPageArr:[6,12,18]}))}),Qs=t(222),$s=Object(Sn.a)(function(e){return Object(y.a)({root:{borderBottom:"1px solid #e8e8e8",backgroundColor:"white",width:"100%",boxShadow:e.shadows[1]},indicator:{backgroundColor:e.palette.primary.dark}})})(vn.a),Zs=Object(Sn.a)(function(e){return Object(y.a)({root:{padding:e.spacing(2),textTransform:"none",minWidth:72,fontWeight:e.typography.fontWeightRegular,"&:hover":{color:e.palette.primary.dark,opacity:1},"&$selected":{color:e.palette.primary.dark},"&:focus":{color:e.palette.primary.dark}},selected:{}})})(function(e){return l.a.createElement(Rn.a,Object.assign({disableRipple:!0},e))}),ei=function(e){function a(){var e,t;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(f.a)(this,(e=Object(b.a)(a)).call.apply(e,[this].concat(r)))).state={open:!1},t.onClose=function(){t.setState({open:!1})},t}return Object(_.a)(a,e),Object(g.a)(a,[{key:"componentDidUpdate",value:function(e,a){e.todoRequest.status!==this.props.todoRequest.status&&""!==this.props.todoRequest.status&&this.setState({open:!0})}},{key:"render",value:function(){return l.a.createElement(Il.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.open,autoHideDuration:2e3},l.a.createElement(Ll.a,{className:this.props.classes[this.props.todoRequest.status],message:l.a.createElement("span",{className:this.props.classes.message},"loading"===this.props.todoRequest.status?l.a.createElement(l.a.Fragment,null,l.a.createElement(Ul.a,{color:"inherit",className:this.props.classes.circProgress}),l.a.createElement(L.a,{variant:"body1"},"Sedang memproses data...")):l.a.createElement(l.a.Fragment,null,"error"===this.props.todoRequest.status?l.a.createElement(Al.a,{className:this.props.classes.iconVariant}):l.a.createElement(kl.a,{className:this.props.classes.iconVariant}),this.props.todoRequest.message)),action:[l.a.createElement(cr.a,{key:"close","aria-label":"Close",color:"inherit",onClick:this.onClose},l.a.createElement(Bl.a,{className:this.props.classes.icon}))]}))}}]),a}(l.a.Component),ai=Nn()(function(e){return jn()({icon:{fontSize:20},circProgress:{margin:e.spacing(0,1)},iconVariant:{opacity:.9,marginRight:e.spacing(1)},error:{backgroundColor:e.palette.error.main},loading:{backgroundColor:e.palette.primary.main},success:{backgroundColor:Js.a[600]},message:{display:"flex",alignItems:"center"}})})(ei),ti=function(e){function a(){var e,t;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(f.a)(this,(e=Object(b.a)(a)).call.apply(e,[this].concat(r)))).state={values:{kelas:{label:"Kelas",value:null,type:"single"},tipe:{label:"Jenis ulangan",value:null,type:"single"},siswa:{label:"Siswa",value:null,type:"multi"},mapel:{label:"Mapel",value:null,type:"single"},materi:{label:"Materi",value:null,type:"single"}},options:{kelas:[],siswa:[],mapel:[],materi:[],tipe:t.props.misc.examTypes.data},tanggal_remidi:{haError:!1,value:null},splittedStd:void 0,scoreData:[],tahun_masuk:0,arBool:[],hasError:{state:!1,message:""}},t.handleDateChange=function(e){t.setState({tanggal_remidi:{hasError:!1,value:e},hasError:{state:!1,message:""}})},t.handleChangeSetRemidi=function(e){var a=t.state.scoreData.map(function(a){var t=Object(Dn.a)({},a,{nilai_remidi:parseInt(e.target.value),hasError:!parseInt(e.target.value)});return a._id===parseInt(e.target.name)?t:a});t.setState({scoreData:a})},t.handleInsertExamScore=function(){var e=t.state.scoreData.filter(function(e){return!e.nilai_remidi});0===e.length?t.props.insertRemedyScore(t.state.values.tipe.value.value,t.state.scoreData):t.setState({hasError:{state:!0,message:"Kolom nilai remidi pada siswa dengan nama "+e.map(function(e){return e.nama}).join(", ")+" tidak terisi, jika anda berniat untuk tidak mengisinya, hapus siswa dalam daftar siswa di atas"}}),0!==e.length&&t.setState({scoreData:t.state.scoreData.map(function(a){return Object(Dn.a)({},a,{hasError:e.map(function(e){return e._id}).includes(a._id)&&!0})})}),null===t.state.tanggal_remidi.value&&t.setState({tanggal_remidi:{value:null,hasError:!0},hasError:{state:!0,message:"Tentukan tanggal remidi dilakukan dengan mengisi kolom di atas pada waktu remidi dilaksanakan"}})},t.handleChangeSelect=function(e,a){var n=t.state.values;t.props.handleChangeCheck(a.name,n,t.setState,e),t.state.tanggal_remidi.value=null;var r=Object(Dn.a)({},t.state.values[a.name],{value:e});t.setState(function(e){return{values:Object(Dn.a)({},e.values,Object(v.a)({},a.name,r))}})},t.inputSelect=function(){var e=Object(Xr.a)(Array(Object.keys(t.state.values).length));e.shift(),e.unshift(!0);var a=Object.keys(t.state.values),n=t.state.values.tipe.value&&"UH"===t.state.values.tipe.value.value,r=a.map(function(r,s){for(var i=s+1;i>0;i--)("single"===t.state.values[a[i-1]].type&&null!==t.state.values[a[i-1]].value||"multi"===t.state.values[a[i-1]].type&&null!==t.state.values[a[i-1]].value&&0!==t.state.values[a[i-1]].value.length)&&e.splice(i,1,!0),null===t.state.values[a[0]].value&&(e[i]=!1);return!(!n&&"materi"===r)&&(e[s]&&l.a.createElement(ul,{key:s,value:t.state.options[r],singleValue:t.state.values[r].value,allowAllSelect:"multi"===t.state.values[r].type,isLoading:"kelas"!==r&&"tipe"!==r&&t.props.remedy[r].loading,isSearchable:!0,isClearable:!0,props:{label:t.state.values[r].label,inputId:r,placeholder:"Pilih Data "+t.state.values[r].label},onChange:t.handleChangeSelect,isMulti:"multi"===t.state.values[r].type}))});return l.a.createElement(l.a.Fragment,null,r,!e.every(function(e){return e})||n&&null===t.state.values.materi.value?l.a.createElement(l.a.Fragment,null):l.a.createElement(function(){return l.a.createElement(An.a,{className:t.props.classes.dateKkmWrapper},l.a.createElement($r.b,{utils:Zr.a},l.a.createElement($r.a,{value:t.state.tanggal_remidi.value,error:t.state.tanggal_remidi.hasError,onChange:t.handleDateChange,margin:"normal",label:"Pilih tanggal dan waktu remidi",className:t.props.classes.dateKkmChildren})),l.a.createElement(L.a,{variant:"caption"},"Menampilkan ",t.state.scoreData.length," siswa remidi dari ",t.state.values.siswa.value.length," siswa yang dipilih"))},null))},t.inputData=function(){var e={header:["No","NIS","Nama","Nilai"],rows:t.state.scoreData.map(function(e,a){return[a+1,e._id,e.nama,0]})},a=l.a.createElement(ml.a,null,l.a.createElement(El.a,null,l.a.createElement(hl.a,null,["No","NIS","Nama","Nilai Ulangan","Nilai Remidi","KKM","Tanggal Ulangan"].map(function(e){return l.a.createElement(gl.a,{key:e},e)}))),l.a.createElement(fl.a,null,t.props.remedy.scoreData.loading||0===t.props.remedy.scoreData.length?l.a.createElement(hl.a,null,l.a.createElement(gl.a,null,l.a.createElement(L.a,{variant:"caption"},"Maaf data tidak ditemukan"))):t.state.scoreData.map(function(e,a){return l.a.createElement(hl.a,{key:a},l.a.createElement(gl.a,null,a+1),l.a.createElement(gl.a,null,e._id),l.a.createElement(gl.a,null,e.nama),l.a.createElement(gl.a,null,e.nilai_ulangan),l.a.createElement(gl.a,null,"Exam"===t.props.mode?e.nilai_remidi:l.a.createElement(ll.a,{error:!!e.hasError,placeholder:"Nilai remidi",name:String(e._id),defaultValue:0,type:"number",onBlur:t.handleChangeSetRemidi})),l.a.createElement(gl.a,null,e.kkm),l.a.createElement(gl.a,null,new Date(e.tanggal_ulangan).toLocaleString()))})));return t.state.tanggal_remidi.value?"Manual"===t.props.mode?a:l.a.createElement(l.a.Fragment,null,t.props.showExcelStepper(e,t.state.values.tipe.value.value+"Remidi : "+t.state.values.tipe.value.value==="UH"?t.state.values.materi.value.label:t.state.values.mapel.value.label),0!==t.props.state.import.length&&a):l.a.createElement(l.a.Fragment,null)},t}return Object(_.a)(a,e),Object(g.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState(function(a){return{options:Object(Dn.a)({},a.options,{kelas:e.props.misc.grades.data.map(function(a){return e.props.class.data.map(function(e){return{label:a+" "+e.nama_kelas,value:a+" "+e.kode_kelas}})}).flat(1).sort(function(e,a){return e.label>a.label?1:-1})})}})}},{key:"componentDidUpdate",value:function(e,a){var t=this,n=this.props.appSetting,r=n.tahun_ajaran,l=n.semester,s=this.state.values,i=s.tipe,o=s.kelas,c=s.materi,u=s.mapel,p=s.siswa;if(null!==i.value){if(i.value!==a.values.tipe.value){var d=o.value.value.split(" ")[1],m=o.value.value.split(" ")[0],E=this.props.classOnSchoolYear.school_year_on_grade[m]||0;this.setState({tahun_masuk:E}),null!==o.value&&this.props.readRemedyStudent(i.value.value,"&jurusan=".concat(d,"&tahun_masuk=").concat(E))}if(p.value!==a.values.siswa.value&&(null!==p.value||Array.isArray(p.value)&&0!==p.value.length)){var h=p.value.map(function(e){return e.value}).join(",");this.setState({splittedStd:h}),this.props.readRemedySubject(i.value.value,"&siswa=".concat(h))}u.value!==a.values.mapel.value&&null!==u.value&&"UH"===i.value.value&&this.props.readRemedyMaterial(i.value.value,"&siswa=".concat(this.state.splittedStd,"&mapel=").concat(u.value.value)),a.tanggal_remidi.value!==this.state.tanggal_remidi.value&&this.props.readRemedyScore(i.value.value,"&siswa=".concat(this.state.splittedStd,"&mapel=").concat(u.value.value).concat("UH"===i.value.value?"&materi="+c.value.value:"")),this.props.remedy.siswa.data.length!==e.remedy.siswa.data.length&&this.setState({options:Object(Dn.a)({},a.options,{siswa:this.props.remedy.siswa.data})}),this.props.remedy.mapel.data.length!==e.remedy.mapel.data.length&&this.setState({options:Object(Dn.a)({},a.options,{mapel:this.props.remedy.mapel.data})}),this.props.remedy.materi.data.length!==e.remedy.materi.data.length&&this.setState({options:Object(Dn.a)({},a.options,{materi:this.props.remedy.materi.data})}),this.props.remedy.scoreData.data.length!==e.remedy.scoreData.data.length&&this.setState(Object(Dn.a)({},a,{scoreData:this.props.remedy.scoreData.data.map(function(e){return{mapel:u.value.value,nilai_remidi:-1,tahun_ajaran:r,tanggal_remidi:t.state.tanggal_remidi.value,kkm:e.kkm,semester:l,nilai_ulangan:e.nilai_ulangan,tanggal_ulangan:e.tanggal_ulangan,nama:e.nama,_id:e._id,materi:"UH"===i.value.value?c.value.value:String(r+l)}})})),this.props.state.import!==e.state.import&&0!==this.props.state.import.length&&this.setState({scoreData:this.state.scoreData.map(function(e,a){return{mapel:u.value.value,nilai_remidi:t.props.state.import.filter(function(a){return a.NIS===e._id})[0].Nilai,tahun_ajaran:r,tanggal_remidi:t.state.tanggal_remidi.value,semester:l,kkm:e.kkm,nilai_ulangan:e.nilai_ulangan,tanggal_ulangan:e.tanggal_ulangan,nama:e.nama,_id:e._id,materi:"UH"===i.value.value?c.value.value:String(r+l)}})})}}},{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement(An.a,{id:"containerRmd",container:!0,className:this.props.classes.wrapper},l.a.createElement(L.a,{variant:"h6",style:{marginBottom:20}},this.props.children),this.inputSelect(),this.inputData(),l.a.createElement(An.a,{className:this.props.classes.bottomInfoNBtn},l.a.createElement(L.a,{variant:"caption",style:{opacity:.7}},"Pastikan data di kolom benar-benar valid dengan data asli!"),l.a.createElement(A.a,{variant:"contained",color:"primary",onClick:this.handleInsertExamScore,className:this.props.classes.buttonSubmit},"Tambah Data")),this.state.hasError.state&&l.a.createElement(zn.a,{open:!0,onClose:function(){return e.setState({hasError:{state:!1,message:""}})}},l.a.createElement(gs.a,null,"Warning! Sepertinya terdapat kolom yang belum terisi"),l.a.createElement(Vn.a,null,l.a.createElement(hs.a,null,this.state.hasError.message)),l.a.createElement(Es.a,null,l.a.createElement(A.a,{color:"primary",onClick:function(){return e.setState({hasError:{state:!1,message:""}})}},"Agree")))),""!==this.props.todoRequest.status&&l.a.createElement(ai,{todoRequest:this.props.todoRequest}))}}]),a}(l.a.Component),ni=Object(E.b)(function(e){return{class:e.class,remedy:e.remedy,appSetting:e.settings.application,todoRequest:e.todoRequest}},function(e){return{readRemedyData:function(a,t){return e(function(e,a){return function(t){if(G("token"))return t({type:"START_"+e}),W.a.get(cn.exam_score+"&status=remedy&variety="+e.toLowerCase()+a,{headers:{Authorization:"Bearer "+H("token")[0]}}).then(function(a){var n=a.data;return t({type:e,payload:n})}).catch(function(a){var n=a.response;return t({type:"FAILED_"+e,payload:n})})}}(a,t))},insertRemedyScore:function(a,t){return e(function(e,a){return function(t){t({type:oa,payload:{method:"put",url:cn.nilai+"/"+e+sn,data:a,type:{success:ca,error:ua}}})}}(a,t))},readRemedyStudent:function(a,t){return e(function(e,a){return function(t){t({type:La,payload:{method:"get",url:cn.nilai+"/"+e+sn+"&state=remedy&var=student"+a,type:{success:Pa,error:Ma}}})}}(a,t))},readRemedySubject:function(a,t){return e(function(e,a){return function(t){t({type:Ua,payload:{method:"get",url:cn.nilai+"/"+e+sn+"&state=remedy&var=subject"+a,type:{success:Fa,error:Ba}}})}}(a,t))},readRemedyMaterial:function(a,t){return e(function(e,a){return function(t){t({type:Ka,payload:{method:"get",url:cn.nilai+"/"+e+sn+"&state=remedy&var=material"+a,type:{success:Wa,error:Ha}}})}}(a,t))},readRemedyScore:function(a,t){return e(function(e,a){return function(t){t({type:Ja,payload:{method:"get",url:cn.nilai+"/"+e+sn+"&state=remedy&var=result"+a,type:{success:qa,error:Ga}}})}}(a,t))}}})(Object(Sn.a)(function(e){return Object(y.a)({wrapper:{flexDirection:"column",backgroundColor:"white",padding:e.spacing(2),borderRadius:e.spacing(.5),boxShadow:e.shadows[1]},buttonSubmit:{boxShadow:"0px 6px 10px "+Y(e.palette.primary.main,.4)},bottomInfoNBtn:{marginTop:e.spacing(1),display:"flex",justifyContent:"space-between",alignItems:"center"},dateKkmWrapper:{marginTop:e.spacing(1),width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"},dateKkmChildren:{width:"49%"}})})(ti)),ri=function(e){function a(){var e,t;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(f.a)(this,(e=Object(b.a)(a)).call.apply(e,[this].concat(r)))).state={values:{kelas:{label:"Kelas",value:null,type:"single"},tipe:{label:"Tipe ulangan",value:null,type:"single"},siswa:{label:"Siswa",value:null,type:"multi"},mapel:{label:"Mapel",value:null,type:"single"},materi:{label:"Materi",value:null,type:"single"}},options:{kelas:[],siswa:[],mapel:[],tipe:t.props.misc.examTypes.data},examData:[],tanggal_ulangan:{haError:!1,value:null},kkm:0,splittedStd:"",tahun_masuk:0,hasError:{state:!1,message:""},loaded:!1},t.handleChangeKKM=function(e){t.setState({kkm:e.target.value})},t.handleDateChange=function(e){t.setState({tanggal_ulangan:{hasError:!1,value:e},hasError:{state:!1,message:""}})},t._handleChangeExamexamData=function(e){var a=t.state.examData.map(function(a){return a.nis===parseInt(e.target.name)?Object(Dn.a)({},a,{hasError:!parseInt(e.target.value),nilai_ulangan:parseInt(e.target.value)}):a});t.setState({examData:a})},t._handleInsertExamScore=function(){var e=t.state.examData.filter(function(e){return-1===e.nilai_ulangan});0===e.length?t.props.insertExamScore(t.state.values.tipe.value.value,t.state.examData):t.setState({hasError:{state:!0,message:"Kolom nilai pada siswa dengan nama "+e.map(function(e){return e.nama}).join(", ")+" tidak terisi, jika anda berniat untuk tidak mengisinya, hapus siswa dalam daftar siswa di atas"}}),0!==e.length&&t.setState({examData:t.state.examData.map(function(a){return Object(Dn.a)({},a,{hasError:e.map(function(e){return e.nis}).includes(a.nis)&&!0})})}),null===t.state.tanggal_ulangan.value&&t.setState({tanggal_ulangan:{value:null,hasError:!0},hasError:{state:!0,message:"Tentukan tanggal ulangan dilakukan dengan mengisi kolom di atas pada waktu ulangan dilaksanakan"}})},t.handleChangeSelect=function(e,a){t.props.handleChangeCheck(a.name,t.state.values,t.setState,e);var n=Object(Dn.a)({},t.state.values[a.name],{value:e});t.setState(function(e){return{values:Object(Dn.a)({},e.values,Object(v.a)({},a.name,n)),kkm:0,tanggal_ulangan:{value:null,hasError:!1}}})},t.inputSelect=function(){var e=Object(Xr.a)(Array(Object.keys(t.state.values).length));e.shift(),e.unshift(!0);var a=Object.keys(t.state.values),n=t.state.values.tipe.value&&"UH"===t.state.values.tipe.value.value,r=a.map(function(r,s){for(var i=s+1;i>0;i--)("single"===t.state.values[a[i-1]].type&&null!==t.state.values[a[i-1]].value||"multi"===t.state.values[a[i-1]].type&&null!==t.state.values[a[i-1]].value&&0!==t.state.values[a[i-1]].value.length)&&e.splice(i,1,!0),null===t.state.values[a[0]].value&&(e[i]=!1);return!(!n&&"materi"===r)&&(e[s]&&l.a.createElement(ul,{key:s,value:t.state.options[r],singleValue:t.state.values[r].value,allowAllSelect:"multi"===t.state.values[r].type,isLoading:"kelas"!==r&&"tipe"!==r&&t.props.exam[r].loading,isSearchable:!0,isClearable:!0,props:{label:t.state.values[r].label,inputId:r,placeholder:"Pilih Data "+t.state.values[r].label},onChange:t.handleChangeSelect,isMulti:"multi"===t.state.values[r].type}))});return l.a.createElement(l.a.Fragment,null,r)},t.inputData=function(){var e={header:["No","NIS","Nama","Nilai"],rows:t.state.examData.map(function(e,a){return[a+1,e.nis,e.nama,0]})},a=t.state.kkm&&t.state.tanggal_ulangan.value&&l.a.createElement(ml.a,null,l.a.createElement(El.a,null,l.a.createElement(hl.a,null,l.a.createElement(gl.a,{align:"center",colSpan:99},l.a.createElement(L.a,{variant:"caption"},"Menampilkan ".concat(t.state.examData.length," data dari ").concat(t.state.values.siswa.value.length," siswa yang dipilih")))),l.a.createElement(hl.a,null,["No","NIS","Nama","Nilai Ulangan","KKM","Tanggal Ulangan"].map(function(e){return l.a.createElement(gl.a,{key:e},e)}))),l.a.createElement(fl.a,null,0!==t.state.examData.length?t.state.examData.map(function(e,a){return l.a.createElement(hl.a,{key:a},l.a.createElement(gl.a,null,a+1),l.a.createElement(gl.a,null,e.nis),l.a.createElement(gl.a,null,e.nama),l.a.createElement(gl.a,null,l.a.createElement(ll.a,{required:!0,placeholder:"Nilai ulangan",value:-1===e.nilai_ulangan?void 0:e.nilai_ulangan,name:String(e.nis),type:"number",onChange:t._handleChangeExamexamData})),l.a.createElement(gl.a,null,t.state.kkm),l.a.createElement(gl.a,null,new Date(t.state.tanggal_ulangan.value).toLocaleString()))}):l.a.createElement(hl.a,null,l.a.createElement(gl.a,null,l.a.createElement(L.a,{variant:"caption"},"Maaf data tidak ditemukan")))));return t.state.kkm&&t.state.tanggal_ulangan.value?"Manual"===t.props.mode?a:l.a.createElement(l.a.Fragment,null,t.props.showExcelStepper(e,t.state.values.tipe.value.value+" : "+t.state.values.tipe.value.value==="UH"?t.state.values.materi.value.label:t.state.values.mapel.value.label),0!==t.props.state.import.length&&a):l.a.createElement(l.a.Fragment,null)},t}return Object(_.a)(a,e),Object(g.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState(function(a){return{options:Object(Dn.a)({},a.options,{kelas:e.props.misc.grades.data.map(function(a){return e.props.class.data.map(function(e){return{label:a+" "+e.nama_kelas,value:a+" "+e.kode_kelas}})}).flat(1).sort(function(e,a){return e.label>a.label?1:-1})})}})}},{key:"componentDidUpdate",value:function(e,a){var t=this,n=this.state.values,r=n.kelas,l=n.materi,s=n.mapel,i=n.tipe,o=n.siswa,c=this.props.appSetting,u=c.tahun_ajaran,p=c.semester;if(a.values.kelas.value!==r.value&&null!==r.value){var d=r.value.value.split(" ")[0],m=this.props.classOnSchoolYear.school_year_on_grade[d]||0;this.setState({tahun_masuk:m})}if(null!==i.value){if(a.values.tipe.value!==i.value&&this.props.readExamStudent(i.value.value,"&jurusan=".concat(r.value.value.split(" ")[1],"&tahun_masuk=").concat(this.state.tahun_masuk)),a.values.siswa.value!==o.value)(Array.isArray(o.value)?0!==o.value.length:null!==o.value)&&this.props.readExamSubject(i.value.value,"&jurusan=".concat(r.value.value));"UH"===i.value.value&&(a.values.mapel.value!==s.value&&this.props.readExamMaterial(i.value.value,"&mapel=".concat(s.value.value)),e.exam.materi.data!==this.props.exam.materi.data&&this.setState({options:Object(Dn.a)({},a.options,{materi:this.props.exam.materi.data})})),("UH"===i.value.value?null===l.value:null===s.value)||a.kkm===this.state.kkm&&a.tanggal_ulangan.value===this.state.tanggal_ulangan.value||!this.state.kkm||null===this.state.tanggal_ulangan.value||!this.props.exam.examStd.loading&&this.props.readExamScore(i.value.value,"&siswa=".concat(this.state.splittedStd,"&tahun_masuk=").concat(this.state.tahun_masuk,"&jurusan=").concat(r.value.value.split(" ")[1],"&mapel=").concat(s.value.value).concat("UH"===i.value.value?"&materi=".concat(l.value.value):""))}e.exam.siswa.data!==this.props.exam.siswa.data&&this.setState({options:Object(Dn.a)({},a.options,{siswa:this.props.exam.siswa.data})}),a.values.siswa.value!==o.value&&(Array.isArray(o.value)?0!==o.value.length:null!==o.value)&&this.setState({splittedStd:o.value.map(function(e){return e.value}).join(",")}),e.exam.mapel.data!==this.props.exam.mapel.data&&this.setState({options:Object(Dn.a)({},a.options,{mapel:this.props.exam.mapel.data})}),e.exam.examStd.loading!==this.props.exam.examStd.loading&&this.setState({examData:this.props.exam.examStd.data.map(function(e){return Object(Dn.a)({},e,{mapel:s.value.value,semester:p,kkm:parseInt(t.state.kkm),materi:"UH"===i.value.value?l.value.value:"Materi "+i.value.value,tahun_ajaran:u,nilai_ulangan:-1,tipe:i.value.value,tanggal_ulangan:t.state.tanggal_ulangan.value})})}),e.state.import!==this.props.state.import&&0!==this.props.state.import.length&&this.setState({examData:this.props.state.import.map(function(e){return{nama:e.Nama,nis:e.NIS,mapel:s.value.value,semester:p,kkm:parseInt(t.state.kkm),materi:"UH"===i.value.value?l.value.value:"Materi "+i.value.value,tahun_ajaran:u,nilai_ulangan:e.Nilai,tipe:i.value.value,tanggal_ulangan:t.state.tanggal_ulangan.value}})})}},{key:"render",value:function(){var e=this,a=this.state.values,t=a.materi,n=a.mapel,r=a.tipe;return l.a.createElement(l.a.Fragment,null,l.a.createElement(An.a,{id:"containerRmd",component:"form",onSubmit:function(a){a.preventDefault(),0!==e.state.kkm&&e._handleInsertExamScore()},container:!0,className:this.props.classes.wrapper},l.a.createElement(L.a,{variant:"h6",style:{marginBottom:20}},this.props.children),this.inputSelect(),null!==r.value&&("UH"===r.value.value?null!==t.value:null!==n.value)&&l.a.createElement(An.a,{className:this.props.classes.dateKkmWrapper},l.a.createElement($r.b,{utils:Zr.a},l.a.createElement($r.a,{value:this.state.tanggal_ulangan.value,error:this.state.tanggal_ulangan.hasError,onChange:this.handleDateChange,margin:"normal",label:"Pilih tanggal dan waktu remidi",className:this.props.classes.dateKkmChildren})),l.a.createElement(ll.a,{type:"number",value:this.state.kkm,onChange:this.handleChangeKKM,label:"Kriteria Ketuntasan Minimal (KKM)",className:this.props.classes.dateKkmChildren,style:{marginBottom:-5}})),this.inputData(),l.a.createElement(An.a,{className:this.props.classes.bottomInfoNBtn},l.a.createElement(L.a,{variant:"caption",style:{opacity:.7}},"Pastikan data di kolom benar-benar valid dengan data asli!"),l.a.createElement(A.a,{variant:"contained",type:"submit",color:"primary",className:this.props.classes.buttonSubmit},"Tambah Data")),this.state.hasError.state&&l.a.createElement(zn.a,{open:!0,onClose:function(){return e.setState({hasError:{state:!1,message:""}})}},l.a.createElement(gs.a,null,"Warning! Sepertinya terdapat kolom yang belum terisi"),l.a.createElement(Vn.a,null,l.a.createElement(hs.a,null,this.state.hasError.message)),l.a.createElement(Es.a,null,l.a.createElement(A.a,{color:"primary",onClick:function(){return e.setState({hasError:{state:!1,message:""}})}},"Agree")))),""!==this.props.todoRequest.status&&l.a.createElement(ai,{todoRequest:this.props.todoRequest}))}}]),a}(l.a.Component),li=Object(E.b)(function(e){return{class:e.class,exam:e.exam,appSetting:e.settings.application,todoRequest:e.todoRequest}},function(e){return{readExamScore:function(a,t){return e(function(e,a){return function(t){t({type:lt,payload:{method:"get",url:cn.nilai+"/"+e+sn+"&state=exam&var=result"+a,type:{success:st,error:it}}})}}(a,t))},readExamStudent:function(a,t){return e(function(e,a){return function(t){t({type:Ya,payload:{method:"get",url:cn.nilai+"/"+e+sn+"&state=exam&var=student"+a,type:{success:za,error:Va}}})}}(a,t))},readExamMaterial:function(a,t){return e(function(e,a){return function(t){t({type:Za,payload:{method:"get",url:cn.nilai+"/"+e+sn+"&state=exam&var=material"+a,type:{success:et,error:at}}})}}(a,t))},readExamSubject:function(a,t){return e(function(e,a){return function(t){t({type:Xa,payload:{method:"get",url:cn.nilai+"/"+e+sn+"&state=exam&var=subject"+a,type:{success:Qa,error:$a}}})}}(a,t))},insertExamScore:function(a,t){return e(fn(a,t))}}})(Object(Sn.a)(function(e){return Object(y.a)({wrapper:{flexDirection:"column",backgroundColor:"white",padding:e.spacing(2),borderRadius:e.spacing(.5),boxShadow:e.shadows[1]},buttonSubmit:{boxShadow:"0px 6px 10px "+Y(e.palette.primary.main,.4)},bottomInfoNBtn:{marginTop:e.spacing(1),display:"flex",justifyContent:"space-between",alignItems:"center"},dateKkmWrapper:{marginTop:e.spacing(1),width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},dateKkmChildren:{width:"49%"}})})(ri));var si=function(e){function a(){var e,t;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(f.a)(this,(e=Object(b.a)(a)).call.apply(e,[this].concat(r)))).state={values:{kelas:{label:"Kelas",value:null,type:"single"},siswa:{label:"Siswa",value:null,type:"multi"},mapel:{label:"Mapel",value:null,type:"single"}},options:{kelas:[],siswa:[],mapel:[]},nama_tugas:"",tanggal_tugas:{haError:!1,value:null},skipped:new Set,activeStep:0,result:[],tahun_masuk:0,hasError:{state:!1,message:""}},t.handleChangeTaskName=function(e){t.setState({nama_tugas:e.target.value})},t.handleDateChange=function(e){t.setState({tanggal_tugas:{hasError:!1,value:e},hasError:{state:!1,message:""}})},t.handleChangeStateTask=function(e){t.setState({result:t.state.result.map(function(a){return a.nis===parseInt(e.target.name)?Object(Dn.a)({},a,{nilai_tugas:parseInt(e.target.value)}):a})})},t.handleInsertExamScore=function(){var e=t.state.result.filter(function(e){return!e.nilai_tugas});0===e.length?t.props.insertTaskResult(t.state.result):t.setState({hasError:{state:!0,message:"Kolom nilai remidi pada siswa dengan nama "+e.map(function(e){return e.nama}).join(", ")+" tidak terisi, jika anda berniat untuk tidak mengisinya, hapus siswa dalam daftar siswa di atas"}}),0!==e.length&&t.setState({result:t.state.result.map(function(a){return Object(Dn.a)({},a,{hasError:e.map(function(e){return e.nis}).includes(a.nis)&&!0})})}),null===t.state.tanggal_tugas.value&&t.setState({tanggal_tugas:{value:null,hasError:!0},hasError:{state:!0,message:"Tentukan tanggal remidi dilakukan dengan mengisi kolom di atas pada waktu remidi dilaksanakan"}})},t.handleChangeSelect=function(e,a){var n=t.state.values;t.props.handleChangeCheck(a.name,n,t.setState,e),t.state.tanggal_tugas.value=null;var r=Object(Dn.a)({},t.state.values[a.name],{value:e});t.setState(function(e){return{values:Object(Dn.a)({},e.values,Object(v.a)({},a.name,r))}})},t.inputSelect=function(){var e=Object(Xr.a)(Array(Object.keys(t.state.values).length));e.shift(),e.unshift(!0);var a=Object.keys(t.state.values);return a.map(function(n,r){for(var s=r+1;s>0;s--)("single"===t.state.values[a[s-1]].type&&null!==t.state.values[a[s-1]].value||"multi"===t.state.values[a[s-1]].type&&null!==t.state.values[a[s-1]].value&&0!==t.state.values[a[s-1]].value.length)&&e.splice(s,1,!0),null===t.state.values[a[0]].value&&(e[s]=!1);return e[r]&&l.a.createElement(ul,{key:r,value:t.state.options[n],singleValue:t.state.values[n].value,allowAllSelect:"multi"===t.state.values[n].type,isLoading:"kelas"!==n&&"tipe"!==n&&t.props.task[n].loading,isSearchable:!0,isClearable:!0,props:{label:t.state.values[n].label,inputId:n,placeholder:"Pilih Data "+t.state.values[n].label},onChange:t.handleChangeSelect,isMulti:"multi"===t.state.values[n].type})})},t.inputData=function(){var e={header:["No","NIS","Nama","Nilai"],rows:t.state.result.map(function(e,a){return[a+1,e.nis,e.nama,0]})},a=l.a.createElement(ml.a,null,l.a.createElement(El.a,null,l.a.createElement(hl.a,null,["No","NIS","Nama","Nilai Tugas"].map(function(e){return l.a.createElement(gl.a,{key:e},e)}))),l.a.createElement(fl.a,null,t.state.result.length?t.state.result.map(function(e,a){return l.a.createElement(hl.a,{key:a},l.a.createElement(gl.a,null,a+1),l.a.createElement(gl.a,null,e.nis),l.a.createElement(gl.a,null,e.nama),l.a.createElement(gl.a,null,l.a.createElement(ll.a,{error:!!e.hasError,value:-1===e.nilai_tugas?void 0:e.nilai_tugas,placeholder:"Nilai remidi",name:String(e.nis),type:"number",onChange:t.handleChangeStateTask})),l.a.createElement(gl.a,null,new Date(e.tanggal_tugas).toLocaleString()))}):l.a.createElement(hl.a,null,l.a.createElement(gl.a,null,l.a.createElement(L.a,{variant:"caption"},"Maaf data tidak ditemukan")))));return t.state.tanggal_tugas.value?"Manual"===t.props.mode?a:l.a.createElement(l.a.Fragment,null,t.props.showExcelStepper(e,"Tugas : "+t.state.nama_tugas),0!==t.props.state.import.length&&a):l.a.createElement(l.a.Fragment,null)},t}return Object(_.a)(a,e),Object(g.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState(function(a){return{options:Object(Dn.a)({},a.options,{kelas:e.props.misc.grades.data.map(function(a){return e.props.class.data.map(function(e){return{label:a+" "+e.nama_kelas,value:a+" "+e.kode_kelas}})}).flat(1).sort(function(e,a){return e.label>a.label?1:-1})})}})}},{key:"componentDidUpdate",value:function(e,a){var t=this,n=this.props.appSetting,r=n.tahun_ajaran,l=n.semester,s=this.state.values,i=s.kelas,o=s.mapel,c=s.siswa;if(a.values.siswa.value!==c.value&&(Array.isArray(c.value)?0!==c.value.length:null!==c.value)&&this.props.readTaskSubject("&jurusan=".concat(i.value.value)),a.values.kelas.value!==i.value&&null!==i.value.value){var u=i.value.value.split(" ")[0],p=this.props.classOnSchoolYear.school_year_on_grade[u]||0;this.setState({tahun_masuk:p}),this.props.readTaskStudent("&jurusan=".concat(i.value.value.split(" ")[1],"&tahun_masuk=").concat(p))}this.props.task.siswa.data.length!==e.task.siswa.data.length&&this.setState({options:Object(Dn.a)({},a.options,{siswa:this.props.task.siswa.data})}),this.props.task.mapel.data.length!==e.task.mapel.data.length&&this.setState({options:Object(Dn.a)({},a.options,{mapel:this.props.task.mapel.data})}),this.state.result===a.result&&null!==o.value&&null!==this.state.tanggal_tugas&&this.setState({result:c.value.map(function(e){return{nis:e.value,nama:e.label,nilai_tugas:-1,nama_tugas:t.state.nama_tugas,semester:l,tahun_ajaran:r,tanggal_tugas:t.state.tanggal_tugas.value,mapel:o.value.value}})}),this.props.state.import!==e.state.import&&0!==this.props.state.import.length&&this.setState({result:this.props.state.import.map(function(e){return{nis:e.NIS,nama:e.Nama,nilai_tugas:e.Nilai,nama_tugas:t.state.nama_tugas,semester:l,tahun_ajaran:r,tanggal_tugas:t.state.tanggal_tugas.value,mapel:o.value.value}})})}},{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement(An.a,{id:"containerRmd",container:!0,className:this.props.classes.wrapper},l.a.createElement(L.a,{variant:"h6",style:{marginBottom:20}},this.props.children),this.inputSelect(),null!==this.state.values.mapel.value&&l.a.createElement(ll.a,{value:this.state.nama_tugas,style:{marginTop:4,marginBottom:4},label:"Nama tugas",onChange:this.handleChangeTaskName}),""!==this.state.nama_tugas&&l.a.createElement(An.a,{className:this.props.classes.dateWrapper},l.a.createElement($r.b,{utils:Zr.a},l.a.createElement($r.a,{value:this.state.tanggal_tugas.value,error:this.state.tanggal_tugas.hasError,onChange:this.handleDateChange,margin:"normal",label:"Pilih tanggal dan waktu tugas",className:this.props.classes.dateKkmChildren}))),this.inputData(),l.a.createElement(An.a,{className:this.props.classes.bottomInfoNBtn},l.a.createElement(L.a,{variant:"caption",style:{opacity:.7}},"Pastikan data di kolom benar-benar valid dengan data asli!"),l.a.createElement(A.a,{variant:"contained",color:"primary",onClick:this.handleInsertExamScore,className:this.props.classes.buttonSubmit},"Tambah Data")),this.state.hasError.state&&l.a.createElement(zn.a,{open:!0,onClose:function(){return e.setState({hasError:{state:!1,message:""}})}},l.a.createElement(gs.a,null,"Warning! Sepertinya terdapat kolom yang belum terisi"),l.a.createElement(Vn.a,null,l.a.createElement(hs.a,null,this.state.hasError.message)),l.a.createElement(Es.a,null,l.a.createElement(A.a,{color:"primary",onClick:function(){return e.setState({hasError:{state:!1,message:""}})}},"Agree")))),""!==this.props.todoRequest.status&&l.a.createElement(ai,{todoRequest:this.props.todoRequest}))}}]),a}(l.a.Component),ii=Object(E.b)(function(e){return{class:e.class,task:e.task,appSetting:e.settings.application,todoRequest:e.todoRequest}},function(e){return{insertTaskResult:function(a){return e(function(e){return function(a){a({type:bt,payload:{method:"post",url:Un+"/tugas"+Pn,data:e,type:{success:ft,error:_t}}})}}(a))},readTaskStudent:function(a){return e(function(e){return function(a){a({type:ct,payload:{method:"get",url:Un+"/tugas"+Pn+"&state=task&var=student"+e,type:{success:ot,error:ut}}})}}(a))},readTaskSubject:function(a){return e(function(e){return function(a){a({type:dt,payload:{method:"get",url:Un+"/tugas"+Pn+"&state=task&var=subject"+e,type:{success:pt,error:mt}}})}}(a))},readTaskResult:function(a){return e(function(e){return function(a){a({type:ht,payload:{method:"get",url:Un+"/tugas"+Pn+"&state=task&var=result"+e,type:{success:Et,error:gt}}})}}(a))}}})(Object(Sn.a)(function(e){return Object(y.a)({wrapper:{flexDirection:"column",backgroundColor:"white",padding:e.spacing(2),borderRadius:e.spacing(.5),boxShadow:e.shadows[1]},buttonSubmit:{boxShadow:"0px 6px 10px "+Y(e.palette.primary.main,.4)},bottomInfoNBtn:{marginTop:e.spacing(1),display:"flex",justifyContent:"space-between",alignItems:"center"},dateWrapper:{marginTop:-e.spacing(1.5),width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"},dateKkmChildren:{width:"49%"}})})(si)),oi=t(1070),ci=t(1060),ui=t(1068),pi=t(548),di=t.n(pi),mi=t(549),Ei=t.n(mi),hi=t(306),gi=function(e){function a(){var e,t;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(f.a)(this,(e=Object(b.a)(a)).call.apply(e,[this].concat(r)))).state={tab:0,loaded:!1,inc:0,activeStep:0,skipped:new Set,import:[],mode:"Manual"},t.handleChangeTab=function(e,a){t.setState({tab:a})},t.handleChangeModeInput=function(e){t.setState({mode:e})},t.handleExportData=function(e,a){var n=vs.utils.book_new();a.split("").splice(24).join("");n.Props={Title:a+" Document",Subject:a,Author:"User",CreatedDate:new Date},n.SheetNames.push("Sheet");for(var r=[e.header],l=0;l<e.rows.length;l++)r.push(e.rows[l]);var s=vs.utils.aoa_to_sheet(r);n.Sheets.Sheet=s;var i=vs.write(n,{bookType:"xlsx",type:"binary"});Object(Rs.saveAs)(new Blob([function(e){for(var a=new ArrayBuffer(e.length),t=new Uint8Array(a),n=0;n<e.length;n++)t[n]=255&e.charCodeAt(n);return a}(i)],{type:"application/octet-stream"}),a+".xlsx"),t.setState(function(e){return{activeStep:e.activeStep+1}})},t.handleImportData=function(e){var a=e.target.files[0],n=new FileReader,r=t.setState.bind(Object(Qs.a)(t));n.readAsArrayBuffer(a),n.onload=function(e){var a=new Uint8Array(n.result),t=vs.read(a,{type:"array"}),l=t.SheetNames[0],s=t.Sheets[l],i=vs.utils.sheet_to_json(s).map(function(e){var a={};return Object.keys(e).map(function(t){Object.assign(a,Object(v.a)({},t.split(" ").join(""),e[t]))}),a});r({import:i})},e.target.value="",t.setState(function(e){return{activeStep:e.activeStep+1}})},t.handleChangeCheck=function(e,a,n,r){n=t.setState.bind(Object(Qs.a)(t));var l=Object.keys(a);!Object.keys(a).map(function(e){return Array.isArray(a[e].value)?0===a[e].value.length:null===a[e].value}).includes(!0)&&n({kkm:0});var s=Array.isArray(a[e].value)?0===a[e].value.length:null===a[e].value,i=Array.isArray(r)?0===r.length:null===r,o=!s&&(Array.isArray(a[e].value)?a[e].value.length:a[e].value.value),c=!i&&(Array.isArray(r)?r.length:r.value);o&&o!==c&&l.map(function(t,n){if(t===e)for(var r=n;r<=Object.keys(a).length-1;r++)t!==l[r]&&(a[l[r]].value=null)})},t.getSteps=function(){return["Pastikan data benar","Download file dibawah ini","Import file yang telah didownload"]},t.isStepOptional=function(e){return 1===e},t.getStepContent=function(e){switch(e){case 0:return"Pastikan data terpilih dengan benar...";case 1:return"Download file dibawah ini, lalu isi data sesuai kolom";case 2:return"Import file yang telah di isi sebelumnya";default:return"Langkah tersesat"}},t.hS=function(e){var a=new Set(e.values());return a.add(t.state.activeStep),a},t.isStepSkipped=function(e){return t.state.skipped.has(e)},t.handleNext=function(){var e=t.state.skipped;t.isStepSkipped(t.state.activeStep)&&(e=new Set(e.values())).delete(t.state.activeStep),t.setState(function(a){return{activeStep:a.activeStep+1,skipped:e}})},t.handleBack=function(){t.setState(function(e){return{activeStep:e.activeStep-1}})},t.handleSkip=function(){if(!t.isStepOptional(t.state.activeStep))throw new Error("You can't skip a step that isn't optional.");t.setState(function(e){return{activeStep:e.activeStep+1,skipped:t.hS(e.skipped)}})},t.handleReset=function(){t.setState({activeStep:0,import:[]})},t.showExcelMode=function(e,a){var n=t.state,r=(n.skipped,n.activeStep);return l.a.createElement("div",{className:t.props.classes.rootStep},l.a.createElement(oi.a,{activeStep:r},t.getSteps().map(function(e,a){return l.a.createElement(ci.a,Object.assign({key:e},{}),l.a.createElement(ui.a,{},e))})),l.a.createElement("div",{className:t.props.classes.stepWrapper},r===t.getSteps().length?l.a.createElement("div",null,l.a.createElement(L.a,{className:t.props.classes.instructions},"Langkah - langkah berhasil dilalui anda dapat melihat preview data yang anda upload pada tabel dibawah ini, ulangi jika data tidak cocok atau dapat di edit pada kolom nilai"),l.a.createElement(A.a,{onClick:t.handleReset,variant:"outlined",color:"secondary",className:t.props.classes.button},"Ulangi")):l.a.createElement("div",null,l.a.createElement(L.a,{className:t.props.classes.instructions},t.getStepContent(r)),l.a.createElement("div",null,l.a.createElement(A.a,{disabled:0===r,variant:"outlined",onClick:t.handleBack,className:t.props.classes.button},"Back"),t.isStepOptional(r)&&l.a.createElement(A.a,{variant:"contained",color:"primary",onClick:t.handleSkip,className:t.props.classes.button},"Skip"),1===r&&l.a.createElement(A.a,{variant:"contained",color:"primary",onClick:function(){return t.handleExportData(e,a)},className:t.props.classes.button},"Download",l.a.createElement(di.a,{className:t.props.classes.rightIcon})),2===r&&l.a.createElement(l.a.Fragment,null,l.a.createElement("input",{accept:".xlsx, .xls, .csv",className:t.props.classes.input,id:"raised-button-file",onChange:t.handleImportData,type:"file"}),l.a.createElement("label",{htmlFor:"raised-button-file"},l.a.createElement(A.a,{variant:"contained",component:"span",color:"primary",className:t.props.classes.button},"Import",l.a.createElement(Ei.a,{className:t.props.classes.rightIcon})))),0===r&&l.a.createElement(A.a,{variant:"contained",color:"primary",onClick:t.handleNext,className:t.props.classes.button},r===t.getSteps().length-1?"Finish":"Selanjutnya")))))},t}return Object(_.a)(a,e),Object(g.a)(a,[{key:"componentDidMount",value:function(){this.setState({loaded:!0})}},{key:"componentWillUnmount",value:function(){this.setState({loaded:!1})}},{key:"componentDidUpdate",value:function(e,a){this.state.loaded!==a.loaded&&(0===this.props.class.data.length&&this.props.readClassRecords(),0===this.props.misc.grades.data.length&&this.props.readGradesList(),0===this.props.misc.examTypes.data.length&&this.props.readExamTypes(),!this.props.class_on_school_year.is_requested&&this.props.getClassOnSchoolYear()),this.state.tab!==a.tab&&this.setState({activeStep:0,import:[]})}},{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement(Fs,this.props),l.a.createElement(An.a,{container:!0},l.a.createElement(An.a,{container:!0,alignItems:"center",className:this.props.classes.optWrapper},l.a.createElement(An.a,null,["Manual","Excel"].map(function(a){var t=l.a.forwardRef(function(t,n){return l.a.createElement(hi.a,Object.assign({innerRef:n},t,{onClick:function(){return e.handleChangeModeInput(a)}}))});return l.a.createElement(sl.a,{key:a,color:"secondary",variant:e.state.mode===a?"default":"outlined",component:t,label:a,className:Object(al.a)(e.state.mode===a&&e.props.classes.activeChip,e.props.classes.chip)})})),l.a.createElement(L.a,{variant:"body1",className:this.props.classes.modeInfo},"Mode penginputan data ","Manual"===this.state.mode?"secara manual":"menggunakan excel")),l.a.createElement($s,{value:this.state.tab,variant:"scrollable",scrollButtons:"auto",onChange:this.handleChangeTab},l.a.createElement(Zs,{label:"Nilai ulangan"}),l.a.createElement(Zs,{label:"Nilai remidi"}),l.a.createElement(Zs,{label:"Nilai tugas / tambahan"})),l.a.createElement(An.a,{container:!0},0===Object.keys(this.props.class_on_school_year).length||this.props.class.loading||this.props.misc.grades.loading||this.props.misc.examTypes.loading?l.a.createElement("div",null,"loading"):l.a.createElement(l.a.Fragment,null,0===this.state.tab&&l.a.createElement(li,{misc:this.props.misc,mode:this.state.mode,state:this.state,classOnSchoolYear:this.props.class_on_school_year,showExcelStepper:this.showExcelMode,handleChangeCheck:this.handleChangeCheck},"Input nilai ulangan"),1===this.state.tab&&l.a.createElement(ni,{misc:this.props.misc,mode:this.state.mode,state:this.state,classOnSchoolYear:this.props.class_on_school_year,showExcelStepper:this.showExcelMode,handleChangeCheck:this.handleChangeCheck},"Input nilai remidi"),2===this.state.tab&&l.a.createElement(ii,{misc:this.props.misc,mode:this.state.mode,state:this.state,classOnSchoolYear:this.props.class_on_school_year,showExcelStepper:this.showExcelMode,handleChangeCheck:this.handleChangeCheck},"Input nilai tugas/tambahan")))))}}]),a}(l.a.Component),fi=Object(E.b)(function(e){return{class:e.class,misc:e.misc,class_on_school_year:e.classOnSchoolYear}},function(e){return{readExamTypes:function(){return e(ar())},readGradesList:function(){return e(tr())},readClassRecords:function(){return e(mn())},getClassOnSchoolYear:function(){return e(er())}}})(Object(Sn.a)(function(e){return Object(y.a)({wrapper:{width:"100%",overflowX:"auto",boxShadow:"none"},input:{display:"none"},rootStep:{width:"100%"},stepWrapper:{padding:e.spacing(1.5),paddingTop:e.spacing(0)},optWrapper:{margin:e.spacing(1,0)},modeInfo:{marginLeft:e.spacing(1)},rightIcon:{marginLeft:e.spacing(1)},activeChip:{color:"white!important",boxShadow:String(e.spacing(.5,.5,1.5))+" "+Y(e.palette.secondary.main,.44),transition:"all 0.5s linear"},chip:{transition:"all 0.5s linear",padding:e.spacing(.5),margin:e.spacing(1,0),marginRight:e.spacing(1),cursor:"pointer"},button:{marginRight:e.spacing(1)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}})})(gi)),bi=t(563),_i=t.n(bi);function Si(e,a,t){return a[t]<e[t]?-1:a[t]>e[t]?1:0}var vi=k()(function(e){return jn()({root:{width:"100%",marginTop:e.spacing(3),overflowX:"auto"},deleteIcon:{color:e.palette.error.dark},editIcon:{color:e.palette.primary.dark},success:{backgroundColor:xl.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.dark},warning:{backgroundColor:wl.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},stripped:{"&>tr:nth-child(odd)":{backgroundColor:Y("#000000",.03)},"&>tr:nth-child(even)":{backgroundColor:"#FFF"},"&>tr, td, th":{border:"none"}},message:{display:"flex",alignItems:"center"},formControl:{marginRight:25,minWidth:120},table:{overflowX:"auto",minWidth:700},search:{display:"flex",alignItems:"baseline",justifyContent:"space-between"},progress:{margin:e.spacing(2)},troot:{padding:e.spacing(0,4)},proot:{width:"100%",marginTop:e.spacing(3),overflowX:"auto"},inputInput:Object(v.a)({padding:e.spacing(1.2,1,1.2,6),transition:e.transitions.create("width"),width:"100%",fontSize:"0.875rem"},e.breakpoints.up("sm"),{width:130,"&:focus":{width:160}}),searchIcon:{width:e.spacing(6),height:40,position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center",color:"rgba(0,0,0,0.6)"},inputRoot:{color:"inherit",borderRadius:e.shape.borderRadius,backgroundColor:"rgba(0,0,0,0.05)"}})}),Ri=t(69),yi=t(228),Ti=t(562);var ki=Object(yi.a)(function(e){return Object(kn.a)({typ1:{marginBottom:e.spacing(2)},rowFirst:{paddingRight:e.spacing(1),width:e.spacing(24)},rowDivider:{backgroundColor:Y("#000000",.03)},tableBtm:{backgroundColor:"white"},infoRightGraphMapelWrapper:{width:"80%"},infoRightGraphMapel:{marginTop:e.spacing(1),"& > td, td, table, th":{border:"1px solid "+Y("#000000",.2)}},graphMapel:{width:"20%"},expanDetails:{width:"100%",backgroundColor:"white",padding:e.spacing(1,2)},mapelInfo:{display:"flex",flexWrap:"wrap",boxShadow:"3px 3px 8px "+Y("#000000",.1)},mapelInfoMapelTitle:{padding:e.spacing(.3,1,1,1),fontWeight:500},avatarCard:{margin:e.spacing(1,0),background:e.palette.primary.dark},titleMapelInfo:{justifyContent:"center",marginTop:e.spacing(2),padding:e.spacing(1,2),color:"white!important",boxShadow:"3px 3px 8px "+Y(e.palette.primary.main,.3),backgroundColor:e.palette.primary.main},mapelInfoChild:{boxShadow:"3px 3px 8px "+Y("#000000",.1),backgroundColor:"white",padding:e.spacing(1,2),width:"24%",margin:"0 0.5%","&:first-child":{marginLeft:0},"&:last-child":{marginRight:0}},leftInfo:{width:"29%",padding:e.spacing(2.5),backgroundColor:"white",boxShadow:"3px 3px 8px "+Y("#000000",.1)},detailSiswa:{opacity:.8,marginBottom:e.spacing(.45)},content:{backgroundColor:Y("#000000",.03),marginTop:e.spacing(9)},appbar:{padding:e.spacing(1,2)},mainGraph:{width:"70%",backgroundColor:"white",padding:e.spacing(2),boxShadow:"3px 3px 8px "+Y("#000000",.1)},mainTitle:{padding:e.spacing(1,2),marginBottom:e.spacing(1),backgroundColor:"white",width:"100%",textAlign:"center",boxShadow:"3px 3px 8px "+Y("#000000",.1)}})}),Oi=Object(E.b)(function(e){return{dataPerMapel:e.uhPerMapel,appSetting:e.settings.application}},function(e){return{readExamRecordPerSubject:function(a){return e(function(e){return function(a){a({type:ea,payload:{method:"get",url:cn.nilai+"/aggregate"+sn+"&type=per_mapel&siswa="+e.nis,type:{success:ta,error:ra}}})}}(a))}}})(function e(a){var t=a.currentData,n=a.setCurrentData,s=a.setOpen,i=(a.appSetting,a.isOpen),c=a.dataPerMapel,u=a.readExamRecordPerSubject,p=a.grade_on_school_year,d=ki(e),m=Object(o.a)(),E=Object(r.useState)(0),h=Object(R.a)(E,2),g=h[0],f=h[1],b=Object(r.useState)(!0),_=Object(R.a)(b,2),S=_[0],y=_[1],T=Object(r.useState)(function(){return t.data_uh.map(function(e){return Object(Dn.a)({tanggal:new Date(e.tanggal_uh).toLocaleString(),nilai:e.nilai_uh},e)})}),k=Object(R.a)(T,1)[0],O=Object(r.useState)({avg:[],data_mapel:[]}),A=Object(R.a)(O,2),D=A[0],C=A[1];function j(e){return Ti.filter(function(a,t){return t===e})[0]}return Object(r.useEffect)(function(){S&&y(!1),S||!c.data.map(function(e){return e._id===t._id}).includes(!0)&&u({nis:t._id})},[S]),Object(r.useEffect)(function(){0!==c.data.length&&c.data.map(function(e){return e._id===t._id}).includes(!0)&&C(c.data.filter(function(e){return e._id===t._id})[0]),console.log(c)},[c.data]),l.a.createElement(zn.a,{fullScreen:!0,open:i},l.a.createElement(sr.a,{color:"primary",className:d.appbar},l.a.createElement(An.a,{container:!0,alignItems:"center",justify:"space-between"},l.a.createElement(L.a,{variant:"h6"},"Detail nilai siswa"),l.a.createElement(_r.a,{title:"Keluar",onClick:function(){s(!1),n({_id:0,remidi:0,kelas:{jurusan:"",tahun:0},nama:"",avg_uh:0,jml_uh:0,data_uh:[]})}},l.a.createElement(cr.a,{color:"inherit"},l.a.createElement(Bl.a,null))))),l.a.createElement(Vn.a,{className:d.content},l.a.createElement(An.a,{container:!0,justify:"space-between"},l.a.createElement(An.a,{className:d.mainGraph},l.a.createElement(L.a,{variant:"h6",className:d.typ1},"Grafik nilai (Semua mapel) "),l.a.createElement(Ri.g,{width:"100%",height:300},l.a.createElement(Ri.b,{data:k,margin:{left:-24}},l.a.createElement(Ri.c,{strokeDasharray:"3 2"}),l.a.createElement(Ri.i,{dataKey:"tanggal"}),l.a.createElement(Ri.j,null),l.a.createElement(Ri.h,null),l.a.createElement(Ri.d,null),l.a.createElement(Ri.a,{dataKey:"nilai",stroke:"#8884d8",fill:Y("#8884d8",.1),activeDot:{r:8}}),l.a.createElement(Ri.a,{dataKey:"kkm",stroke:"#42f545",fill:Y("#42f545",.1),activeDot:{r:8}})))),l.a.createElement(An.a,{className:d.leftInfo},l.a.createElement(L.a,{variant:"h6"},"Detail siswa"),l.a.createElement(L.a,{variant:"body1",className:d.detailSiswa},"Nama siswa : ",t.nama),l.a.createElement(L.a,{variant:"body1",className:d.detailSiswa},"Rata-rata ulangan : ",t.avg_uh),l.a.createElement(L.a,{variant:"body1",className:d.detailSiswa},"Kelas : ",(p[t.kelas.tahun]||"Other")+" "+t.kelas.jurusan),l.a.createElement(L.a,{variant:"body1",className:d.detailSiswa},"Total remidi : ",t.remidi," kali"),l.a.createElement(L.a,{variant:"body1",className:d.detailSiswa},"Total ulangan yang diikuti : ",t.jml_uh," kali"),l.a.createElement(L.a,{variant:"h6"},"Rata-rata nilai per mapel"),c.loading?l.a.createElement("div",null,"Loading"):0!==c.data.length&&l.a.createElement(Ri.g,{width:"100%",height:150},l.a.createElement(Ri.f,null,l.a.createElement(Ri.e,{dataKey:"Rata-rata",label:!0,nameKey:"mapel",data:D.avg,cx:"50%",cy:"50%",fill:Y("#35f29d",.9)}),l.a.createElement(Ri.h,null))))),l.a.createElement(An.a,{container:!0,className:d.titleMapelInfo},l.a.createElement(L.a,{variant:"body1",color:"inherit"},"Informasi nilai setiap mata pelajaran")),l.a.createElement(An.a,{container:!0,className:d.mapelInfo},l.a.createElement($s,{value:g,variant:"scrollable",scrollButtons:"auto",onChange:function(e,a){f(a)}},c.loading?l.a.createElement(Zs,{label:"Loading"}):0!==c.data.length&&D.data_mapel.map(function(e){return l.a.createElement(Zs,{key:e.mapel,label:e.mapel})})),c.loading?l.a.createElement("div",null,"Loading"):0!==c.data.length?D.data_mapel.map(function(e,a){return g===a&&l.a.createElement(l.a.Fragment,{key:a},l.a.createElement(An.a,{container:!0,dir:m.direction,justify:"space-between",className:d.expanDetails},l.a.createElement("div",{className:d.graphMapel},l.a.createElement(Ri.g,{width:"100%",height:220},l.a.createElement(Ri.f,null,l.a.createElement(Ri.e,{dataKey:"Rata-rata",label:!0,nameKey:"month",cx:"50%",cy:"50%",fill:Y("#8884d8",.9),data:e.avg_data.map(function(e){var a;return a={},Object(v.a)(a,"Rata-rata",e.avg),Object(v.a)(a,"month",j(e.month-1).abbreviation),a})}),l.a.createElement(Ri.h,null)))),l.a.createElement("div",{className:d.infoRightGraphMapelWrapper},l.a.createElement(L.a,{variant:"caption"},"Tabel data ulangan"),l.a.createElement(ml.a,{className:d.infoRightGraphMapel},l.a.createElement(El.a,null,l.a.createElement(hl.a,null,l.a.createElement(gl.a,{className:d.rowFirst},"Bulan"),e.avg_data.map(function(e){return l.a.createElement(gl.a,{key:e.month},j(e.month-1).name+" "+new Date(e.date[0]).getFullYear())}))),l.a.createElement(fl.a,null,l.a.createElement(hl.a,null,l.a.createElement(gl.a,{className:d.rowFirst},"Rata-rata"),e.avg_data.map(function(e){return l.a.createElement(gl.a,{key:e.month},e.avg)})),l.a.createElement(hl.a,null,l.a.createElement(gl.a,{className:d.rowFirst},"Total remidi"),e.avg_data.map(function(e){return l.a.createElement(gl.a,{key:e.month},e.jumlah_remidi)})),l.a.createElement(hl.a,null,l.a.createElement(gl.a,{className:d.rowFirst},"Total ulangan"),e.avg_data.map(function(e){return l.a.createElement(gl.a,{key:e.month},e.jumlah_ulangan)})))))),l.a.createElement(An.a,{container:!0,className:d.tableBtm},l.a.createElement(L.a,{variant:"body2",style:{marginLeft:20}},"Uraian data setiap ulangan"),l.a.createElement(or.a,null),l.a.createElement(ml.a,null,l.a.createElement(El.a,null,l.a.createElement(hl.a,null,l.a.createElement(gl.a,null,"Materi"),l.a.createElement(gl.a,null,"Nilai ulangan"),l.a.createElement(gl.a,null,"Kriteria Ketuntasan Minimal (KKM)"),l.a.createElement(gl.a,null,"Tanggal ulangan"))),l.a.createElement(fl.a,null,e.urai_data.map(function(e){return l.a.createElement(l.a.Fragment,{key:e.bulan},l.a.createElement(hl.a,null,l.a.createElement(gl.a,{align:"center",className:d.rowDivider,colSpan:99},"Data pada bulan ",j(e.bulan-1).name+" Tahun "+new Date(e.date[0]).getFullYear())),e.data.map(function(e){return l.a.createElement(hl.a,{key:e.materi},l.a.createElement(gl.a,null,e.materi),l.a.createElement(gl.a,null,e.nilai_ulangan),l.a.createElement(gl.a,null,e.kkm),l.a.createElement(gl.a,null,new Date(e.tanggal_ulangan).toLocaleString()))}))})))))}):l.a.createElement("div",null,"Data didn't found"))))}),Ai=[{key:"rank_sekolah",label:"Rank"},{key:"_id",label:"NIS"},{key:"nama",label:"Nama siswa"},{key:"kelas",label:"Kelas"},{key:"rank_kelas",label:"Rank kelas"},{key:"avg_uh",label:"Rata-rata"},{key:"jml_uh",label:"Jumlah ulangan"},{key:"remidi",label:"Jumlah remidi"},{key:"Detail ulangan",label:"Detail ulangan"}];Object(Qr.a)(function(e){return Object(y.a)({root:{width:"100%",marginTop:e.spacing(3),overflowX:"auto"},table:{minWidth:650}})});var Di=Object(E.b)(function(e){return{score:e.studentScore,appSetting:e.settings.application,class_on_school_year:e.classOnSchoolYear}},function(e){return{getClassOnSchoolYear:function(){return e(er())},readExamScore:function(a){return e(function(e){e({type:Ze,payload:{method:"get",url:cn.nilai+"/aggregate"+sn+"&type=total_mapel",type:{success:aa,error:na}}})})}}})(function(e){var a=vi(),t=Object(r.useState)(0),n=Object(R.a)(t,2),s=n[0],i=n[1],o=Object(r.useState)([]),c=Object(R.a)(o,2),u=c[0],p=c[1],d=Object(r.useState)(""),m=Object(R.a)(d,2),E=m[0],h=m[1],g=Object(r.useState)("asc"),f=Object(R.a)(g,2),b=f[0],_=f[1],S=Object(r.useState)([]),v=Object(R.a)(S,2),y=v[0],T=v[1],k=Object(r.useState)(!1),O=Object(R.a)(k,2),A=O[0],D=O[1],C=Object(r.useState)(!0),j=Object(R.a)(C,2),w=j[0],N=j[1],x=Object(r.useState)(5),P=Object(R.a)(x,2),M=P[0],U=P[1],F=Object(r.useState)({_id:0,remidi:0,kelas:{jurusan:"",tahun:0},nama:"",avg_uh:0,jml_uh:0,data_uh:[]}),B=Object(R.a)(F,2),K=B[0],W=B[1],H=Object(r.useState)(Ai[0].key),J=Object(R.a)(H,2),q=J[0],G=J[1],Y=M-Math.min(M,u.length-s*M);return Object(r.useEffect)(function(){N(!1)},[]),Object(r.useEffect)(function(){w||(0===e.score.data.length&&e.readExamScore(),!e.class_on_school_year.is_requested&&e.getClassOnSchoolYear())},[w]),Object(r.useEffect)(function(){p(e.score.data.filter(function(e){return function(e,a){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=Object.keys(e).map(function(n){var r=String(e[n]).toLowerCase().match(a.toLowerCase());return t?!!r:r});return t?n.includes(!0):t?n.includes(!0):n}(e,E)}))},[E]),Object(r.useEffect)(function(){0!==e.score.data.length&&p(e.score.data)},[e.score.data]),l.a.createElement(l.a.Fragment,null,l.a.createElement(Fs,e),l.a.createElement(I.a,{className:a.proot},l.a.createElement(ir.a,{className:a.troot},l.a.createElement(An.a,{container:!0,alignItems:"center",justify:"space-between"},l.a.createElement(L.a,{variant:"h6"},"Daftar nilai"),l.a.createElement(An.a,{style:{display:"flex",alignItems:"center"}},l.a.createElement("div",{className:a.search},l.a.createElement("div",{className:a.searchIcon},l.a.createElement(is.a,null)),l.a.createElement(ls.a,{placeholder:"Search here",classes:{root:a.inputRoot,input:a.inputInput},onChange:function(e){h(e.target.value)}}))))),l.a.createElement(or.a,null),l.a.createElement(ml.a,{className:a.table},l.a.createElement(El.a,null,l.a.createElement(hl.a,null,l.a.createElement(Cs,{componentProps:{head:Ai},data:u.length,numSelected:y.length,order:b,orderBy:q,onSelectAllClick:function(e){if(e.target.checked){var a=u.map(function(e){return e._id});T(a)}else T([])},onRequestSort:function(e,a){_(q===a&&"desc"===b?"asc":"desc"),G(a)},rowCount:u.length}))),l.a.createElement(fl.a,{className:a.stripped},0!==u.length?function(e,a){var t=e.map(function(e,a){return[e,a]});return t.sort(function(e,t){var n=a(e[0],t[0]);return 0!==n?n:e[1]-t[1]}),t.map(function(e){return e[0]})}(u,function(e,a){return"desc"===e?function(e,t){return Si(e,t,a)}:function(e,t){return-Si(e,t,a)}}(b,q)).slice(s*M,s*M+M).map(function(a){return l.a.createElement(hl.a,{key:a._id},l.a.createElement(gl.a,null,a.rank_sekolah),l.a.createElement(gl.a,null,a._id),l.a.createElement(gl.a,null,a.nama),l.a.createElement(gl.a,null,(e.class_on_school_year.grade_on_school_year[a.kelas.tahun]||"Other")+" "+a.kelas.jurusan),l.a.createElement(gl.a,null,a.rank_kelas),l.a.createElement(gl.a,null,a.avg_uh),l.a.createElement(gl.a,null,a.jml_uh," kali"),l.a.createElement(gl.a,null,a.remidi," mapel"),l.a.createElement(gl.a,null,l.a.createElement(_r.a,{title:"Detail ".concat(a.nama),onClick:function(){D(!0),W(a)}},l.a.createElement(cr.a,{color:"primary"},l.a.createElement(_i.a,null)))))}):l.a.createElement(hl.a,{style:{height:48*Y}},l.a.createElement(gl.a,{align:"center",component:"th",scope:"row",rowSpan:M,colSpan:99},l.a.createElement(L.a,{variant:"body1",style:{color:"rgba(0,0,0,0.7)"}},"Tidak ada data tersedia"))),Y>0&&0!==u.length&&l.a.createElement(hl.a,{style:{height:48*Y}},l.a.createElement(gl.a,{colSpan:99}))),l.a.createElement(Rl.a,null,l.a.createElement(hl.a,null,l.a.createElement(vl.a,{rowsPerPageOptions:[5,10,15],colSpan:99,count:u.length,rowsPerPage:M,page:s,SelectProps:{native:!0},onChangePage:function(e,a){i(a)},onChangeRowsPerPage:function(e){U(parseInt(e.target.value,10))},ActionsComponent:rs}))))),A&&l.a.createElement(Oi,{currentData:K,grade_on_school_year:e.class_on_school_year.grade_on_school_year,setCurrentData:W,isOpen:A,setOpen:D}))}),Ci=t(1061),ji=t(564),wi=t.n(ji),Ni=[{label:"Jumlah Siswa",key:"student_count",icon:Cr.a,color:"#d32f2f",role:1},{label:"Jumlah Guru",key:"teacher_count",icon:Ar.a,color:"#2f2fd3",role:1},{label:"Jumlah Mapel",key:"mapel_count",icon:wr.a,color:"#d3d32f",role:1},{label:"Jumlah Kelas",key:"class_count",icon:Fr.a,color:"#2fd32f",role:1}],xi=function(e){function a(){var e,t;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(f.a)(this,(e=Object(b.a)(a)).call.apply(e,[this].concat(r)))).state={tabValue:0,isLoading:!0},t.change_tab=function(e,a){t.setState({tabValue:a})},t.fc_upper_case=function(e){return e=(e=e.split("_").join(" ")).charAt(0).toUpperCase()+e.slice(1)},t}return Object(_.a)(a,e),Object(g.a)(a,[{key:"componentDidMount",value:function(){this.setState({isLoading:!1})}},{key:"componentDidUpdate",value:function(e,a){this.state.isLoading!==a.isLoading&&(!this.props.dashboard_info.is_requested&&this.props.getDashboardInfo(this.props.app_setting.tahun_ajaran),!this.props.class_on_school_year.is_requested&&this.props.getClassOnSchoolYear())}},{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement(L.a,{variant:"h6"},"Informasi Data"),l.a.createElement(An.a,{container:!0,className:this.props.classes.gridContainer},Ni.map(function(a){return l.a.createElement(Ci.a,{className:e.props.classes.box},l.a.createElement(L.a,{variant:"body1"},a.label),l.a.createElement(L.a,{variant:"h6"},e.props.dashboard_info[a.key]||0),l.a.createElement(or.a,{className:e.props.classes.divider}),l.a.createElement(An.a,{className:e.props.classes.dgrid},l.a.createElement(L.a,{variant:"caption"},"Data berubah secara berkala"),l.a.createElement(wi.a,{style:{opacity:.5}})),l.a.createElement(Ci.a,{className:e.props.classes.floatBox,style:{color:Y(a.color,.6),backgroundColor:a.color}},l.a.createElement(a.icon,{className:e.props.classes.floatIcon})))})),l.a.createElement(L.a,{variant:"h6"},"Tabel Ranking 10 Besar"),l.a.createElement(sr.a,{className:this.props.classes.tableWrapper,position:"static"},l.a.createElement(vn.a,{value:this.state.tabValue,onChange:this.change_tab},!this.props.dashboard_info.is_loading&&!this.props.class_on_school_year.is_loading&&this.props.dashboard_info.rank_data.map(function(a,t){return l.a.createElement(Rn.a,{value:t,label:"Kelas ".concat(e.props.class_on_school_year.grade_on_school_year[a._id])})}))),!this.props.dashboard_info.is_loading&&!this.props.class_on_school_year.is_loading&&this.props.dashboard_info.rank_data.map(function(a,t){return e.state.tabValue===t&&l.a.createElement(I.a,{className:Object(al.a)(e.props.classes.tableContainer)},l.a.createElement(ml.a,{className:e.props.classes.tableContainer},l.a.createElement(El.a,null,l.a.createElement(hl.a,null,l.a.createElement(gl.a,{rowSpan:2,className:e.props.classes.pone},"Rank"),l.a.createElement(gl.a,{className:e.props.classes.addBorder,rowSpan:2},"NIS"),l.a.createElement(gl.a,{className:e.props.classes.addBorder,rowSpan:2},"Nama"),l.a.createElement(gl.a,{className:e.props.classes.addBorder,rowSpan:2},"Rata - rata"),l.a.createElement(gl.a,{className:e.props.classes.addBorder,rowSpan:2},"Kelas"),l.a.createElement(gl.a,{className:e.props.classes.addBorder,rowSpan:2},"Wali Kelas"),l.a.createElement(gl.a,{className:e.props.classes.addBorder,colSpan:3,align:"center"},"Info Jumlah")),l.a.createElement(hl.a,null,l.a.createElement(gl.a,{className:e.props.classes.addBorder},"UH"),l.a.createElement(gl.a,{className:e.props.classes.addBorder},"Tugas"),l.a.createElement(gl.a,{className:e.props.classes.addBorder},"PTS/PAS"))),l.a.createElement(fl.a,null,a.data.map(function(a){return l.a.createElement(hl.a,null,l.a.createElement(gl.a,{className:e.props.classes.pone,align:"center"},a.rank),l.a.createElement(gl.a,{className:e.props.classes.addBorder},a.nis),l.a.createElement(gl.a,{className:e.props.classes.addBorder},a.nama),l.a.createElement(gl.a,{className:e.props.classes.addBorder},a.rata_rata),l.a.createElement(gl.a,{className:e.props.classes.addBorder},a.kelas),l.a.createElement(gl.a,{className:e.props.classes.addBorder},a.wali_kelas),l.a.createElement(gl.a,{className:e.props.classes.addBorder},a.jumlah_uh),l.a.createElement(gl.a,{className:e.props.classes.addBorder},a.jumlah_tugas),l.a.createElement(gl.a,{className:e.props.classes.addBorder},a.jumlah_ptpas))}))))}))}}]),a}(l.a.Component),Ii=Object(E.b)(function(e){return{dashboard_info:e.dashboard_info,class_on_school_year:e.classOnSchoolYear,app_setting:e.settings.application}},function(e){return{getClassOnSchoolYear:function(){return e(er())},getDashboardInfo:function(a){return e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(a){a({type:en,payload:{method:"get",url:Fn+"/dashboard_info"+Pn+"&tahun_ajaran="+e,type:{success:an,error:tn}}})}}(a))}}})(Nn()(function(e){return jn()({tableContainer:{width:"100%"},gridContainer:{flexWrap:"wrap",width:"100%",marginTop:e.spacing(2),justifyContent:"space-between"},tableWrapper:{marginTop:e.spacing(2)},addBorder:{borderLeft:"1px solid rgba(0,0,0,0.1)"},pone:{padding:e.spacing(0,2),backgroundColor:Y(e.palette.primary.dark,.1),width:e.spacing(1)},floatBox:{position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"5px 5px 10px ",top:-e.spacing(2),left:"68%",width:e.spacing(9),height:e.spacing(9),borderRadius:e.spacing(.5)},floatIcon:{color:Y("#FFFFFF",.9),width:e.spacing(3.5),height:e.spacing(3.5)},dgrid:{display:"flex",alignItems:"center",justifyContent:"space-between"},divider:{marginBottom:e.spacing(1.5),marginTop:e.spacing(1.5)},box:{marginBottom:e.spacing(4),position:"relative",width:"23.33%",padding:e.spacing(2.5),color:Y("#000000",.7),backgroundColor:e.palette.secondary.contrastText,borderRadius:e.spacing(.5),boxShadow:"5px 5px 10px "+Y("#000000",.1)},chartContainer:{marginLeft:-22}})})(xi));var Li=Object(E.b)(function(e){return{competence:e.competence,subject:e.subject,request:e.requestResponse}},function(e){return{readCompetenceRecords:function(){return e(hn())},readSubjectRecords:function(){return e(En())},insertCompetenceRecords:function(a){return e(function(e){return function(a){return!!G("token")&&(a({type:ue}),W.a.post(cn.competence,JSON.stringify(e),{headers:{Authorization:"Bearer "+H("token")[0]}}).then(function(e){var t=e.data;return a({type:Ve,payload:t})}).then(function(){return a({type:ce})}).catch(function(e){var t=e.response;return un(Xe,t,a)}))}}(a))},updateCompetenceRecords:function(a){return e(function(e){return function(a){return!!G("token")&&(a({type:ue}),W.a.put(cn.competence,JSON.stringify(e),{headers:{Authorization:"Bearer "+H("token")[0]}}).then(function(e){var t=e.data;return a({type:Qe,payload:t})}).then(function(){return a({type:ce})}).catch(function(e){var t=e.response;return un($e,t,a)}))}}(a))},deleteCompetenceRecords:function(a){return e(function(e){return function(a){return!!G("token")&&(a({type:ue}),W.a.delete(cn.competence,{headers:{Authorization:"Bearer "+H("token")[0]},data:e}).then(function(e){var t=e.data;return a({type:Ye,payload:t})}).then(function(){return a({type:ce})}).catch(function(e){var t=e.response;return un(ze,t,a)}))}}(a))}}})(function(e){var a=Object(r.useState)(!0),t=Object(R.a)(a,2),n=t[0],s=t[1];Object(r.useEffect)(function(){s(!1)},[]),Object(r.useEffect)(function(){!n&&(0===e.competence.data.length||"success"===e.request.status)&&e.readCompetenceRecords()},[e.request,,n]),Object(r.useEffect)(function(){n||0===e.subject.data.length&&e.readSubjectRecords()},[n]);var i={status:e.request.status,message:e.request.message,loading:e.request.loading},o={insertState:[{key:"kode_materi",label:"Kode Materi",formType:"inputString"},{key:"nama_mapel",label:"Nama Mapel",formType:"inputSelect",formValue:e.subject.data.map(function(e){return{label:e.nama_mapel,value:e.kode_mapel}})},{key:"nama_materi",label:"Nama Materi",formType:"inputString"}],onInsert:Object(Dn.a)({todoFunction:e.insertCompetenceRecords},i)};return l.a.createElement(l.a.Fragment,null,l.a.createElement(Fs,e),l.a.createElement(Is,{data:e.competence.data,onDelete:Object(Dn.a)({todoFunction:e.deleteCompetenceRecords},i),onUpdate:Object(Dn.a)({todoFunction:e.updateCompetenceRecords},i),rowKey:["Kode Materi","Nama Mapel","Nama Materi"],loadingData:e.competence.loading,insertProps:o,primaryKey:"kode_materi",tableTitle:"Tabel Kompetensi Dasar",withActions:!0,withCheckbox:!0,componentProps:{head:[{key:"kode_materi",label:"Kode Materi"},{key:"nama_mapel",label:"Nama Mapel"},{key:"nama_materi",label:"Nama Materi"}]},rowsPerPageArr:[6,12,18]}))}),Pi=function(e){var a=e.component,t=e.path,n=e.exact,r=e.title;e.is;return l.a.createElement(S.b,{path:t,exact:n,render:function(e){var t=l.a.forwardRef(function(t,n){return l.a.createElement(a,Object.assign({ref:n},e))});return window.__CURRENT_TITLE__=r,l.a.createElement(t,null)}})},Mi=function(e){function a(){return Object(h.a)(this,a),Object(f.a)(this,Object(b.a)(a).apply(this,arguments))}return Object(_.a)(a,e),Object(g.a)(a,[{key:"componentDidMount",value:function(){window.__APP_NAME__="E-Rapor",window.__TITLE_PREFIX__=window.__APP_NAME__+" |"}},{key:"componentDidUpdate",value:function(e,a){this.props.isAuthenticated!==e.isAuthenticated&&this.props.isAuthenticated&&(window.__PREVIOUS_PATH__=this.props.location.pathname,this.props.history.push("/"===window.__PREVIOUS_PATH__?"/dashboard":window.__PREVIOUS_PATH__||"/dashboard"))}},{key:"render",value:function(){var e=this,a={Authenticated:this.props.isAuthenticated,LoadingToken:this.props.isLoadingToken,LoadingSetting:!0};return l.a.createElement(S.d,{location:this.props.location},l.a.createElement(S.b,{exact:!0,path:"/",render:function(e){return l.a.createElement(_n,{appName:window.__APP_NAME__||"E-Rapor"})}}),l.a.createElement(S.b,{exact:!0,path:"/pdf",render:function(e){return l.a.createElement(Qn,null)}}),l.a.createElement(zr,{isAuthenticated:this.props.isAuthenticated,isLoading:this.props.isLoadingToken},l.a.createElement(Pi,{path:"/dashboard/kelas",component:Ls,title:"Kelas",is:a}),l.a.createElement(Pi,{path:"/dashboard/pdf",component:Qn,title:"Kelas",is:a}),l.a.createElement(Pi,{path:"/dashboard/siswa",component:Bs,title:"Murid",is:a}),l.a.createElement(Pi,{path:"/dashboard/cetak",component:rr,title:"Cetak",is:a}),l.a.createElement(Pi,{path:"/dashboard/guru",component:Xs,exact:!0,title:"Guru",is:a}),l.a.createElement(Pi,{path:"/dashboard/settings",component:zs,title:"Settings",is:a}),l.a.createElement(Pi,{path:"/dashboard",component:Ii,exact:!0,title:"Dashboard",is:a}),l.a.createElement(Pi,{path:"/dashboard/mapel",component:Vs,title:"Mata Pelajaran",is:a}),l.a.createElement(Pi,{path:"/dashboard/input_nilai",exact:!0,component:fi,title:"Input nilai",is:a}),l.a.createElement(Pi,{path:"/dashboard/input_nilai/:tipe",component:fi,title:"Input nilai",is:a}),l.a.createElement(Pi,{path:"/dashboard/daftar_nilai",component:Di,exact:!0,title:"Daftar nilai",is:a}),l.a.createElement(Pi,{path:"/dashboard/materi_pelajaran",component:Li,title:"Materi Pelajaran",is:a})),l.a.createElement(S.b,{render:function(a){return l.a.createElement(S.a,{to:e.props.isAuthenticated?"/dashboard":"/"})}}))}}]),a}(l.a.Component),Ui=Object(E.b)(function(e){return{isAuthenticated:e.isAuthenticated,isLoadingToken:e.isLoadingToken,isLoadingSetting:e.settings.loading}},function(e){return{RefreshToken:function(){return e(pn())},readAppSetting:function(a){return e(gn(a))}}})(Object(S.g)(Mi)),Fi=t(192),Bi=t(565),Ki=function(e,a){var t=a.method,n=a.url,r=a.data,l=a.header,s=a.config,i=a.type;G("token")&&W()(Object(Dn.a)({method:t,url:n+"&id="+Math.random().toString(36).replace(/[^a-z]+/g,""),data:r,headers:Object(Dn.a)({Authorization:"Bearer "+H("token")[0]},l)},s)).then(function(a){var t=a.data;return e({type:i.success,payload:t})}).then(function(){return e({type:ce})}).catch(function(a){var t=a.response;return e({type:i.error,payload:t})})},Wi=[function(e){var a=e.dispatch,t=e.getState;return function(e){return function(){var n=Object(B.a)(F.a.mark(function n(r){var l,s,i;return F.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(r.type===ee&&(l=new Date(r.payload.http_data.Expires),document.cookie="".concat(r.payload.http_data.Name,"=").concat(r.payload.http_data.Value,"; expires=").concat(l,"; path=/"),a(gn("application"))),r.type!==le){n.next=8;break}return n.next=4,H("token").length;case 4:if(n.t0=n.sent,!(n.t0>1)){n.next=8;break}J(["token"],[q(window.location.pathname)]);case 8:if(r.type===oe&&J(["token"],["/","/dashboard"]),r.type===ie&&J(["token"],["/","/dashboard"]),r.type===Nt&&a({type:Lt}),r.type!==se){n.next=21;break}return s=new Date(r.payload.expires_at),i={Name:"token",Value:r.payload.token,Expires:s,Path:"/"},a(gn("application")),n.next=17,H("token").length;case 17:if(n.t1=n.sent,1!=n.t1){n.next=21;break}return n.next=21,o=i,document.cookie="".concat(o.Name,"=").concat(o.Value,"; expires=").concat(o.Expires,"; path=").concat(o.Path);case 21:(r.type!==ha&&r.type!==Ca&&r.type!==oa&&r.type!==Ka&&r.type!==Ja&&r.type!==La&&r.type!==Ua&&r.type!==tt&&r.type!==Ze&&r.type!==lt&&r.type!==ea&&r.type!==Na&&r.type!==Za&&r.type!==Ya&&r.type!==Xa&&r.type!==ht&&r.type!==dt&&r.type!==ct&&r.type!==bt&&r.type!==St&&r.type!==Ot&&r.type!==yt&&r.type!==Ct&&r.type!==Nt&&r.type!==Qt&&r.type!==en&&r.type!==nn&&r.type!==fe&&r.type!==Oe||0===t().settings.application.tahun_ajaran||0==t().settings.application.semester)&&r.type!==pa&&r.type!==ba||Ki(a,r.payload),e(r);case 23:case"end":return n.stop()}var o},n)}));return function(e){return n.apply(this,arguments)}}()}}],Hi=Object(Fi.c)(Object(Dn.a)({activity:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];switch((arguments.length>1?arguments[1]:void 0).type){case z:return Object(Xr.a)(e);default:return e}},class:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:[],loading:!1},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case Oe:return Object(Dn.a)({},e,{data:[],loading:!0});case Ae:return Object(Dn.a)({},e,{data:a.payload||[],loading:!1});case De:return Object(Dn.a)({},e,{data:[],loading:!1});default:return e}},competence:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:[],loading:!1},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case Je:return Object(Dn.a)({},e,{data:[],loading:!0});case qe:return Object(Dn.a)({},e,{data:a.payload||[],loading:!1});case Ge:return Object(Dn.a)({},e,{data:[],loading:!1});default:return e}},requestResponse:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{status:"",message:"",loading:!1},a=arguments.length>1?arguments[1]:void 0;return a.type===Re||a.type===me||a.type===Ve||a.type===we||a.type===Be||a.type===Te||a.type===xe||a.type===Qe||a.type===We||a.type===he||a.type===Se||a.type===Ue||a.type===Ye||a.type===Ce||a.type===pe||a.type===ye||a.type===Xe||a.type===Ne||a.type===Ke||a.type===Ee||a.type===ke||a.type===$e||a.type===He||a.type===Ie||a.type===ge||a.type===ve||a.type===Fe||a.type===ze||a.type===je||a.type===de?Object(Dn.a)({},e,{status:a.payload.status,message:a.payload.message,loading:!1}):a.type===ce?Object(Dn.a)({},e,{status:"",message:"",loading:!1}):a.type===ue?Object(Dn.a)({},e,{status:"loading",loading:!0}):e},isAuthenticated:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case ee:case se:return!0;case ae:return!1;default:return e}},isLoadingToken:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case le:return!0;case se:case ie:return!1;default:return e}},remedy:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{siswa:{data:[],loading:!1},mapel:{data:[],loading:!1},materi:{data:[],loading:!1},scoreData:{data:[],loading:!1}},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case La:return Object(Dn.a)({},e,{siswa:{data:[],loading:!0}});case Ka:return Object(Dn.a)({},e,{materi:{data:[],loading:!0}});case Ua:return Object(Dn.a)({},e,{mapel:{data:[],loading:!0}});case Ma:return Object(Dn.a)({},e,{siswa:{data:[],loading:!1}});case Ha:return Object(Dn.a)({},e,{materi:{data:[],loading:!1}});case Ba:return Object(Dn.a)({},e,{mapel:{data:[],loading:!1}});case Pa:return Object(Dn.a)({},e,{siswa:{data:a.payload||[],loading:!1}});case Fa:return Object(Dn.a)({},e,{mapel:{data:a.payload||[],loading:!1}});case Wa:return Object(Dn.a)({},e,{materi:{data:a.payload||[],loading:!1}});case qa:return Object(Dn.a)({},e,{scoreData:{data:a.payload||[],loading:!1}});case Ja:return Object(Dn.a)({},e,{scoreData:{data:[],loading:!0}});case Ga:return Object(Dn.a)({},e,{scoreData:{data:[],loading:!1}});default:return e}},student:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:[],loading:!1},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case X:return Object(Dn.a)({},e,{data:[],loading:!0});case Q:return Object(Dn.a)({},e,{data:a.payload||[],loading:!1});case $:return Object(Dn.a)({},e,{data:[],loading:!1});default:return e}},studentScore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:[],loading:!1},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case Ze:return Object(Dn.a)({},e,{data:[],loading:!0});case aa:return Object(Dn.a)({},e,{data:a.payload||[],loading:!1});case na:return Object(Dn.a)({},e,{data:[],loading:!1});default:return e}},subject:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:[],loading:!1},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case Le:return Object(Dn.a)({},e,{data:[],loading:!0});case Pe:return Object(Dn.a)({},e,{data:a.payload||[],loading:!1});case Me:return Object(Dn.a)({},e,{data:[],loading:!1});default:return e}},successRefreshResult:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case le:case se:return!0;case ie:return!1;default:return e}},uhPerMapel:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:[],loading:!1},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case ea:return Object(Dn.a)({},e,{data:e.data,loading:!0});case ta:return Object(Dn.a)({},e,{data:[].concat(Object(Xr.a)(e.data),Object(Xr.a)(a.payload))||[],loading:!1});case ra:return Object(Dn.a)({},e,{data:[],loading:!1});default:return e}},teacher:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:[],loading:!1},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case fe:return Object(Dn.a)({},e,{data:[],loading:!0});case be:return Object(Dn.a)({},e,{data:a.payload||[],loading:!1});case _e:return Object(Dn.a)({},e);default:return e}},misc:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{grades:{data:[],loading:!1},examTypes:{data:[],loading:!1}},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case ja:return Object(Dn.a)({},e,{grades:{data:a.payload,loading:!1}});case Ia:return Object(Dn.a)({},e,{examTypes:{data:a.payload,loading:!1}});case xa:return Object(Dn.a)({},e,{examTypes:{data:[],loading:!1}});case Na:return Object(Dn.a)({},e,{examTypes:{data:[],loading:!0}});case wa:return Object(Dn.a)({},e,{grades:{data:[],loading:!1}});case Ca:return Object(Dn.a)({},e,{grades:{data:[],loading:!0}});default:return e}},exam:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{siswa:{data:[],loading:!1},mapel:{data:[],loading:!1},materi:{data:[],loading:!1},examStd:{data:[],loading:!1}},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case Ya:return Object(Dn.a)({},e,{siswa:{data:[],loading:!0}});case za:return Object(Dn.a)({},e,{siswa:{data:a.payload||[],loading:!1}});case Va:return Object(Dn.a)({},e,{siswa:{data:[],loading:!1}});case lt:return Object(Dn.a)({},e,{examStd:{data:[],loading:!0}});case st:return Object(Dn.a)({},e,{examStd:{data:a.payload||[],loading:!1}});case it:return Object(Dn.a)({},e,{examStd:{data:[],loading:!1}});case Xa:return Object(Dn.a)({},e,{mapel:{data:[],loading:!0}});case Qa:return Object(Dn.a)({},e,{mapel:{data:a.payload||[],loading:!1}});case $a:return Object(Dn.a)({},e,{mapel:{data:[],loading:!1}});case Za:return Object(Dn.a)({},e,{materi:{data:[],loading:!0}});case et:return Object(Dn.a)({},e,{materi:{data:a.payload||[],loading:!1}});case at:return Object(Dn.a)({},e,{materi:{data:[],loading:!1}});default:return e}},task:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{siswa:{data:[],loading:!1},mapel:{data:[],loading:!1},result:{data:[],loading:!1}},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case ct:return Object(Dn.a)({},e,{siswa:{data:[],loading:!0}});case dt:return Object(Dn.a)({},e,{mapel:{data:[],loading:!0}});case ut:return Object(Dn.a)({},e,{siswa:{data:[],loading:!1}});case mt:return Object(Dn.a)({},e,{mapel:{data:[],loading:!1}});case ot:return Object(Dn.a)({},e,{siswa:{data:a.payload||[],loading:!1}});case pt:return Object(Dn.a)({},e,{mapel:{data:a.payload||[],loading:!1}});case Et:return Object(Dn.a)({},e,{result:{data:a.payload||[],loading:!1}});case ht:return Object(Dn.a)({},e,{result:{data:[],loading:!0}});case gt:return Object(Dn.a)({},e,{result:{data:[],loading:!1}});default:return e}},settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{application:{deskripsi_sekolah:"",semester:0,nama_sekolah:"School",tahun_ajaran:0},loading:!1,error:!1,errorMsg:""},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case pa:return Object(Dn.a)({},e,{loading:!0});case da:return Object(Dn.a)({},e,{},a.payload,{error:!1,errorMsg:"",loading:!1});case ma:return Object(Dn.a)({},e,{error:!0,errorMsg:a.payload.data.message,loading:!1});default:return e}},todoRequest:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,status:"",message:""},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case oa:case ha:case tt:case ba:case bt:return Object(Dn.a)({},e,{status:"loading"});case ua:case ga:case rt:case _a:case _t:return Object(Dn.a)({},e,{},a.payload.data);case ca:case Ea:case nt:case fa:case ft:return Object(Dn.a)({},e,{},a.payload);case ce:default:return e}},report:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{siswa:{data:[],loading:!1},mapel:{data:[],loading:!1},materi:{data:[],loading:!1},task_name:{data:[],loading:!1},result:{data:[],loading:!1}},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case St:return Object(Dn.a)({},e,{siswa:{data:[],loading:!0}});case yt:return Object(Dn.a)({},e,{materi:{data:[],loading:!0}});case Ot:return Object(Dn.a)({},e,{mapel:{data:[],loading:!0}});case Rt:return Object(Dn.a)({},e,{siswa:{data:[],loading:!1}});case kt:return Object(Dn.a)({},e,{materi:{data:[],loading:!1}});case Dt:return Object(Dn.a)({},e,{mapel:{data:[],loading:!1}});case vt:return Object(Dn.a)({},e,{siswa:{data:a.payload||[],loading:!1}});case At:return Object(Dn.a)({},e,{mapel:{data:a.payload||[],loading:!1}});case Tt:return Object(Dn.a)({},e,{materi:{data:a.payload||[],loading:!1}});case Ct:return Object(Dn.a)({},e,{task_name:{data:[],loading:!0}});case jt:return Object(Dn.a)({},e,{task_name:{data:a.payload||[],loading:!1}});case wt:return Object(Dn.a)({},e,{task_name:{data:[],loading:!1}});case Nt:return Object(Dn.a)({},e,{result:{data:[],loading:!0}});case xt:return Object(Dn.a)({},e,{result:{data:a.payload||[],loading:!1}});case It:case Lt:return Object(Dn.a)({},e,{result:{data:[],loading:!1}});default:return e}},classOnSchoolYear:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{is_loading:!1,is_requested:!1,grade_on_school_year:{},school_year_on_grade:{}},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case Qt:return Object(Dn.a)({},e,{is_loading:!0});case $t:return Object(Dn.a)({},e,{},a.payload,{is_loading:!1,is_requested:!0});case Zt:return Object(Dn.a)({},e,{is_loading:!1,is_requested:!1});default:return e}},dashboard_info:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{is_loading:!1,is_requested:!1,teacher_count:0,student_count:0,class_count:0,rank_data:[{_id:0,data:[{kelas:"tidak ada",nama:"tidak ada",nis:0,rank:0,rata_rata:0}]}]},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case en:return Object(Dn.a)({},e,{is_loading:!0});case an:return Object(Dn.a)({},e,{},a.payload,{is_loading:!1,is_requested:!0});case tn:return Object(Dn.a)({},e,{is_loading:!1,is_requested:!1});default:return e}},wali_kelas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:[],loading:!1},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case nn:return Object(Dn.a)({},e,{loading:!0});case rn:return Object(Dn.a)({},e,{loading:!1,data:a.payload});case ln:return Object(Dn.a)({},e,{loading:!1});default:return e}}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case ee:case ae:return a.payload;default:return e}})),Ji=Object(Fi.d)(Hi,Fi.a.apply(void 0,[Bi.a].concat(Object(Xr.a)(Wi))));i.a.render(l.a.createElement(function(){var e=Object(o.a)(),a=Object(c.a)({overrides:{MuiTypography:{body1:{letterSpacing:0,fontSize:"0.875rem"},caption:{letterSpacing:0}},MuiSelect:{select:{"&:focus":{backgroundColor:"inherit"}}},MuiMenuItem:{root:{transition:"all 0.1s ease-in",borderRadius:e.spacing(.5),margin:e.spacing(0,1),"&:hover":{boxShadow:"0 4px 20px 0 rgba(0, 0, 0,.14), 0 7px 10px -5px ".concat(Y(e.palette.primary.main,.4)),backgroundColor:e.palette.primary.main+"!important",color:"white"}}},MuiSvgIcon:{root:{fontSize:"1.4rem"}},MuiFormHelperText:{root:{fontSize:"0.83rem",letterSpacing:-.3}}}});return l.a.createElement(E.a,{store:Ji},l.a.createElement(m.a,null,l.a.createElement(u.a,{theme:a},l.a.createElement(Ui,null))))},null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/ReactApp",window.location.href).origin!==window.location.origin)return;console.log(Object({NODE_ENV:"production",PUBLIC_URL:"/ReactApp"})),window.addEventListener("load",function(){var a="".concat("/ReactApp","/service-worker.js");p?(function(e,a){fetch(e).then(function(t){var n=t.headers.get("content-type");404===t.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):d(e,a)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(a,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):d(a,e)})}}()}},[[607,1,2]]]);
//# sourceMappingURL=main.9bb45ed6.chunk.js.map